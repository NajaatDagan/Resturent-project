;/*FB_PKG_DELIM*/

__d("getPeopleTypeaheadNullStateText",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return h._("__JHASH__d3iOAkT_5Ax__JHASH__")}g["default"]=a}),226);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["FDSText.react","getPeopleTypeaheadNullStateText","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",{className:"x6s0dn4 x78zum5 xc9qbxq xl56j7k",children:i.jsx(c("FDSText.react"),{align:"center",color:"secondary",type:"body2",children:c("getPeopleTypeaheadNullStateText")()})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMentions.react",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useBaseTypeaheadDataSourceFetch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=b.useState;e=i.forwardRef(a);function a(a,b){var e=a.context,f=a.dataSource,g=a.inputElement,h=a.layoutStrategyRenderer,p=a.loggingProvider,q=a.onAriaChange,r=a.onEntriesUpdated,s=a.onHighlightEntry,t=a.onSelectedEntry,u=a.onVisibilityChange,v=a.position;v=v===void 0?"above":v;var w=a.queryString,x=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["context","dataSource","inputElement","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"]);var y=m(null),z=n(null),A=z[0],B=z[1],C=m([]);z=n(C.current);var D=z[0],E=z[1];z=n(!0);var F=z[0],G=z[1],H=m(null),I=m(w);k(function(){I.current=w},[w]);var J=j(function(a){s&&s(a),B(a),y.current=a},[s]);z=c("useBaseTypeaheadDataSourceFetch")({dataSource:f,onResolvePayload:j(function(a){var b;a=a.entries;C.current=a;E(a);var d=c("baseTypeaheadFlattenEntries")(a),e=d[0];b=y==null?void 0:(b=y.current)==null?void 0:b.key;e!=null&&!d.map(function(a){return a.key}).includes(b)&&J(e);r&&r(a.length>0)},[J,r])});var K=z[0].isLoading,L=z[1],M=F&&(D.length>0||K);k(function(){M?p.startSession(I.current):p.isSessionActive()&&p.maybeEndSession(I.current,c("baseTypeaheadFlattenEntries")(C.current));u(M);return function(){p.isSessionActive()&&p.maybeEndSession(I.current,c("baseTypeaheadFlattenEntries")(C.current))}},[u,p,M]);k(function(){G(!0),L({query:w})},[L,w,f]);l(b,function(){return{getViewRef:function(){return H},hasSelection:function(){return o(c("baseTypeaheadFlattenEntries")(C.current),A)},moveDown:function(){d("cometTypeaheadKeyboardNavigationUtils").moveDown(c("baseTypeaheadFlattenEntries")(C.current),A!=null?A.key:null,J,!1)},moveUp:function(){d("cometTypeaheadKeyboardNavigationUtils").moveUp(c("baseTypeaheadFlattenEntries")(C.current),A!=null?A.key:null,J,!1)},select:function(){var a=c("baseTypeaheadFlattenEntries")(C.current);t&&A!=null&&o(a,A)&&(p.isSessionActive()&&p.maybeEndSession(w,a,A),t(A))}}},[A,J,t,p,w]);z=j(function(a){var b=c("baseTypeaheadFlattenEntries")(C.current);t&&o(b,a)&&(p.isSessionActive()&&p.maybeEndSession(w,b,a),t(a))},[t,p,w]);k(function(){if(M===!1)return;function a(a,b){a=a.parentElement;while(a!=null&&a!==b)a=a.parentElement;return a===b}var b=function(b){b=b.target;if(!(b instanceof HTMLElement))return;var c=H.current;c=c!==null&&(b===c||a(b,c));b=g!==null&&(b===g||a(b,g));G(c||b)};document.addEventListener("click",b);return function(){return document.removeEventListener("click",b)}},[g,M]);return!M?null:i.jsx(h,{ariaProps:{role:"listbox"},context:e,entries:D,highlightedEntry:A,isLoading:K,onAriaChange:q,onBlur:a.onBlur,onHighlightEntry:J,onPressEntry:z,onPressEntryIn:z,position:v,queryString:w,viewRef:H,viewStrategyRenderer:x})}a.displayName=a.name+" [from "+f.id+"]";b=e;function o(a,b){if(b==null)return!1;var c=b.key;return a.find(function(a){return a.key===c})!=null}g["default"]=b}),98);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=a.anchor;if(a.type!=="text")return null;var c=a.getNode();if(b!=null&&!b.some(function(a){return c instanceof a})||b==null&&!c.isSimpleText())return null;b=a.offset;return c.getTextContent().slice(0,b)}function a(a,b){return a.getEditorState().read(function(){var a=d("Lexical").$getSelection();return!d("Lexical").$isRangeSelection(a)?null:h(a,b)})}g["default"]=a}),98);
__d("useCometMentionsBootstrapForLexical",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var c=j(!1);i(function(){if(c.current)return;var e=a.getRootElement()===document.activeElement;if(e){b();c.current=!0;return}var f=a.registerCommand(d("Lexical").FOCUS_COMMAND,function(){b();c.current=!0;f();return!1},d("Lexical").COMMAND_PRIORITY_LOW);return f},[b,a,c])}g["default"]=a}),98);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("445");b=d("FalcoLoggerInternal").create("mentions_session_end_without_click",a);e=b;g["default"]=e}),98);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("446");b=d("FalcoLoggerInternal").create("mentions_session_start",a);e=b;g["default"]=e}),98);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("447");b=d("FalcoLoggerInternal").create("mentions_suggestion_clicked",a);e=b;g["default"]=e}),98);
__d("CometMentionsLoggingProvider",["MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","guid","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=null,this.$1=a}var b=a.prototype;b.getSessionID=function(){this.$3==null&&c("recoverableViolation")("Mentions logging sessionID does not exist.","search");return this.$3};b.isSessionActive=function(){return this.$2};b.startSession=function(a){var b=this;if(a==null)return;var d=c("guid")();this.$3=d;this.$2=!0;c("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$1,{session_id:d,typed_query:a})})};b.maybeEndSession=function(a,b,d){if(a==null)return;var e=b!=null?JSON.stringify(b.map(function(a){return{id:a.key}})):null,f=babelHelpers["extends"]({},this.$1,{serialized_candidate_suggestions:e,session_id:this.getSessionID(),typed_query:a});if(d!=null){var g=d.key,h=(e=b==null?void 0:b.findIndex(function(a){return a.key===g}))!=null?e:null,i=isNaN(parseInt(d.key,10))?"0":d.key;c("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},f,{selected_position:String(h),selected_result_display_text:d.label,selected_result_id:i,selected_result_id_string:d.key})})}else c("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return f});this.$3=null;this.$2=!1};return a}();g["default"]=a}),98);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c,j={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){var b=i(2);a=a===void 0?j:a;var d;b[0]!==a?(d=new(c("CometMentionsLoggingProvider"))(a),b[0]=a,b[1]=d):d=b[1];a=d;return a}g["default"]=a}),98);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.startTransition,j=b.useEffect,k=b.useState,l=b.c;function m(a,b){var c=window.getSelection();if(c===null||!c.isCollapsed||a===null)return!1;var d=c.anchorNode;a=a.leadOffset;c=c.anchorOffset;try{b.setStart(d,a),b.setEnd(d,c)}catch(a){return!1}return!0}function a(a,b,d){var e=l(7),f=k(null),g=f[0],h=f[1];e[0]!==a||e[1]!==d||e[2]!==b?(f=function(){var e;e=document.createRange();var f;f=null;var g;g=null;var j;j=null;var k=function(){var k=e,l=c("getCometComposerMentionsSearchForLexical")(a,d);if(l===f||k===null)return;f=l;l=b(l);var n=l.dataSource,o=l.searchResult;if(n===g&&o===j)return;l=m(o,k);g=n;j=o;!l||n===null||o===null?i(function(){return h(null)}):i(function(){h({dataSource:n,range:k,searchResult:o})})},l=a.registerUpdateListener(k);k();return function(){e=null,l()}},e[0]=a,e[1]=d,e[2]=b,e[3]=f):f=e[3];var n;e[4]!==b||e[5]!==a?(n=[b,a],e[4]=b,e[5]=a,e[6]=n):n=e[6];j(f,n);return g}g["default"]=a}),98);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","react","recoverableViolation","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState;function a(a){var b=a.createNodeStrategy,e=a.dataSourceResolverConfig,f=e.bootstrap,g=e.resolver,h=a.editor;e=a.layoutStrategyRenderer;var l=a.mentionsHandlerForSelectedEntry,n=a.mentionsLoggerContext,p=a.position;p=p===void 0?"below":p;var s=a.searchableNodes;a=a.viewStrategyRenderer;var t=c("useCometMentionsResolutionForLexical")(h,g,s),u=m(!1),v=o(h),w=v[0],x=v[1],y=m(null),z=r(h);c("useCometMentionsBootstrapForLexical")(h,f);k(function(){return h.registerCommand(d("Lexical").BLUR_COMMAND,function(){z();return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[h,z]);v=j(function(){z()},[z]);k(function(){var a;a=[{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:(a=d("Lexical")).KEY_ENTER_COMMAND},{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:a.KEY_TAB_COMMAND},{handler:function(a){a.moveUp();return!0},type:a.KEY_ARROW_UP_COMMAND},{handler:function(a){a.moveDown();return!0},type:a.KEY_ARROW_DOWN_COMMAND},{handler:function(){z();x();return!0},type:a.KEY_ESCAPE_COMMAND}];return d("LexicalUtils").mergeRegister.apply(void 0,a.map(function(a){var b=a.handler;a=a.type;return h.registerCommand(a,function(a){var c=y.current,d=u.current;if(c===null||!d||w)return!1;if(b(c)){d=a;d.preventDefault();d.stopPropagation();return!0}return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL)}))},[x,h,z,w]);f=j(function(a){u.current=a},[]);var A=j(function(a){if(a)return;z()},[z]),B=j(function(a){var d=c("getCometComposerMentionsSearchForLexical")(h,s);if(d==null){c("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var e=g(d);e=e.searchResult;if(e==null){c("recoverableViolation")("onPressEntry was called and no search result was found for the query "+d,"CometComposer");return}z();d=l==null?void 0:l(a);if(d!=null&&!d.shouldMentionSelectedEntry)return;q(h,b,a,e,s);x()},[b,g,x,h,z,l,s]);n=c("useCometMentionsLoggingProvider")(n);if(t===null||w){z();u.current=!1;return null}return i.jsx(c("CometMentions.react"),{context:t.range,dataSource:t.dataSource,inputElement:h.getRootElement(),layoutStrategyRenderer:e,loggingProvider:n,onAriaChange:z,onBlur:v,onEntriesUpdated:A,onFocus:c("emptyFunction"),onSelectedEntry:B,onVisibilityChange:f,position:p,queryString:t.searchResult.matchingString,ref:y,viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=n(!1),c=b[0],e=b[1];k(function(){if(c){var b=a.getEditorState().read(d("LexicalText").$rootTextContent);return a.registerTextContentListener(function(a){b!==null&&a!==b&&e(!1),b=a})}},[a,c]);return l(function(){return[c,function(){return e(!0)}]},[c])}function p(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}function q(a,b,c,e,f){a.update(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a)||!a.isCollapsed())return;a=a.anchor;if(a.type!=="text")return;var g=a.getNode();if(f!=null&&!f.some(function(a){return g instanceof a})||f==null&&!g.isSimpleText())return;a=a.offset;var h=g.getTextContent().slice(0,a),i=c.label,j=e.replaceableString.length;h=p(h,i,j);i=a-h;if(i<0)return;b({anchorNode:g,endOffset:a,selectedEntry:c,startOffset:i})})}function r(a){var b=m(void 0),c=m(void 0);return j(function(e,f){var g=b.current,h=c.current;(g!==e||h!==f)&&(b.current=e,c.current=f,a.dispatchCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:e,controlsID:f}))},[a])}g["default"]=a}),98);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["baseTypeaheadFlattenEntries","react","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.c;function a(a){var b=j(9),d=a.entries,e=a.highlightedEntry,f=a.onAriaChange;b[0]!==d?(a=c("baseTypeaheadFlattenEntries")(d),b[0]=d,b[1]=a):a=b[1];b[2]!==a||b[3]!==e?(d={activeEntries:a,helperText:"",highlightedEntry:e,inputLabel:"",isOpened:!0,viewRole:"listbox"},b[2]=a,b[3]=e,b[4]=d):d=b[4];a=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(d);var g=a.ariaInputProps;e=a.ariaViewProps;b[5]!==f||b[6]!==g?(d=function(){return f(g["aria-activedescendant"],g["aria-controls"])},a=[g,f],b[5]=f,b[6]=g,b[7]=d,b[8]=a):(d=b[7],a=b[8]);i(d,a);return e}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","useBaseMentionsLayoutStrategyARIAProps.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(19),d,e,f,g;b[0]!==a?(g=a.isLoading,e=a.onAriaChange,f=a.viewStrategyRenderer,d=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading","onAriaChange","viewStrategyRenderer"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g):(d=b[1],e=b[2],f=b[3],g=b[4]);b[5]!==d.entries||b[6]!==d.highlightedEntry||b[7]!==e?(a={entries:d.entries,highlightedEntry:d.highlightedEntry,onAriaChange:e},b[5]=d.entries,b[6]=d.highlightedEntry,b[7]=e,b[8]=a):a=b[8];e=c("useBaseMentionsLayoutStrategyARIAProps.react")(a);b[9]!==f||b[10]!==d||b[11]!==e?(a=j.jsx(f,babelHelpers["extends"]({},d,{ariaProps:e,isLoading:!1})),b[9]=f,b[10]=d,b[11]=e,b[12]=a):a=b[12];b[13]!==g||b[14]!==d?(f=!g&&d.entries.length===0?j.jsx(c("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null,b[13]=g,b[14]=d,b[15]=f):f=b[15];b[16]!==a||b[17]!==f?(e=j.jsxs("div",{children:[a,f]}),b[16]=a,b[17]=f,b[18]=e):e=b[18];return e}g["default"]=a}),98);
__d("CometMentionsLayoutStrategy.react",["ARIA_LABEL_PLACEHOLDER_FIXME","CometContextualLayer.react","CometPopover_DEPRECATED.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(20),d,e,f,g,h,k,l;b[0]!==a?(e=a.ariaProps,k=a.context,d=a.entries,g=a.onBlur,l=a.position,h=a.viewRef,f=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","context","entries","onBlur","position","viewRef"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=k,b[7]=l):(d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=b[6],l=b[7]);if(d.length===0)return null;b[8]!==e||b[9]!==d||b[10]!==f?(a=j.jsx(c("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),babelHelpers["extends"]({ariaProps:e,entries:d,isLoading:!1},f)),b[8]=e,b[9]=d,b[10]=f,b[11]=a):a=b[11];b[12]!==g||b[13]!==h||b[14]!==a?(e=j.jsx(c("CometPopover_DEPRECATED.react"),{"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),onBlur:g,ref:h,role:"listbox",children:a}),b[12]=g,b[13]=h,b[14]=a,b[15]=e):e=b[15];b[16]!==k||b[17]!==l||b[18]!==e?(d=j.jsx(c("CometContextualLayer.react"),{align:"start",context_DEPRECATED:k,position:l,children:e}),b[16]=k,b[17]=l,b[18]=e,b[19]=d):d=b[19];return d}g["default"]=a}),98);
__d("CometMentionsViewListStrategy.react",["CometCompositeStructureContext","FDSText.react","getItemRoleFromCompositeRole","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c;function a(a){var b=j(30),d,e,f,g;if(b[0]!==a){var h=a.ariaProps,k=a.entries;a.extraViewProps;var l=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var m=a.viewItemStrategyRenderer,n=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"]);h=h;g=k;f=l;d=m;e=n;b[0]=a;b[1]=h;b[2]=d;b[3]=e;b[4]=f;b[5]=g}else h=b[1],d=b[2],e=b[3],f=b[4],g=b[5];k=h.role;if(k!=null){b[6]!==k?(l={role:k},b[6]=k,b[7]=l):l=b[7];m=l}else{b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n={},b[8]=n):n=b[8];m=n}a=m;b[9]!==k?(l=c("getItemRoleFromCompositeRole")(k),b[9]=k,b[10]=l):l=b[10];var o=l;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(n="x78zum5 xdt5ytf x1iyjqo2",b[11]=n):n=b[11];if(b[12]!==d||b[13]!==e||b[14]!==f||b[15]!==o||b[16]!==g){b[18]!==d||b[19]!==e||b[20]!==f||b[21]!==o||b[22]!==g.length?(m=function(a,b){if(a.type==="section"){var h=a.entries,j=a.key,k=a.label;return h.length===0?null:i.jsxs("li",{"aria-selected":"false",role:"option",children:[i.jsx("div",{className:"x889kno x1iji9kk x1a8lsjc x1sln4lm",children:i.jsx("label",{htmlFor:j,children:i.jsx(c("FDSText.react"),{color:"primary",type:"entityHeaderMeta2",children:k})})}),i.jsx("ul",{id:j,role:"listbox",children:h.map(function(a){var b;return i.createElement(d,babelHelpers["extends"]({},e,{entry:a,isActive:a.key===((b=f)==null?void 0:b.key),key:a.key,role:o}))})})]},"section-"+j)}else{return i.createElement(d,babelHelpers["extends"]({},e,{entry:a,isActive:a.key===((k=f)==null?void 0:k.key),isFirstItem:b===0,isLastItem:b===g.length-1,key:a.key,role:o}))}},b[18]=d,b[19]=e,b[20]=f,b[21]=o,b[22]=g.length,b[23]=m):m=b[23];k=g.map(m);b[12]=d;b[13]=e;b[14]=f;b[15]=o;b[16]=g;b[17]=k}else k=b[17];b[24]!==a||b[25]!==k?(l=i.jsx(c("CometCompositeStructureContext").Provider,{value:a,children:k}),b[24]=a,b[25]=k,b[26]=l):l=b[26];b[27]!==h||b[28]!==l?(m=i.jsx("ul",babelHelpers["extends"]({},h,{className:n,"data-testid":void 0,children:l})),b[27]=h,b[28]=l,b[29]=m):m=b[29];return m}g["default"]=a}),98);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(8),d;if(b[0]!==a){var e=a.onPressEntryIn;a.queryString;var f=babelHelpers.objectWithoutPropertiesLoose(a,["onPressEntryIn","queryString"]);d=e;e=f;b[0]=a;b[1]=d;b[2]=e}else d=b[1],e=b[2];b[3]!==d?(f=function(a,b){b.preventDefault(),d&&d(a,b)},b[3]=d,b[4]=f):f=b[4];a=f;b[5]!==e||b[6]!==a?(f=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},e,{onPressEntryIn:a})),b[5]=e,b[6]=a,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("CometTypeaheadCompositeDataSource",["BaseDataEntryKeyBuilder","Promise","baseTypeaheadDedupEntriesBuilder","baseTypeaheadFlattenEntries"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.bootstrapDataSource,c=a.limit,d=a.networkDataSource;a=a.nullstateDataSource;this.$1=!1;this.$2=b;this.$3=c;this.$4=d;this.$5=a}var d=a.prototype;d.bootstrap=function(){if(this.$1)return;this.$2!=null&&this.$2.bootstrap();this.$5!=null&&void this.$5.fetchNetwork({query:""});this.$1=!0};d.fetchCache=function(a){var b=a.query;if(this.$5!=null&&b==="")return this.$5.fetchCache(a);if(b==="")return{entries:[],params:a};if(this.$2==null)return this.$4!=null?this.$4.fetchCache(a):{entries:[],params:a};b=this.$2.fetchCache(a);var d=b.entries,e=c("baseTypeaheadFlattenEntries")(d).length;if(e>=this.$3||this.$4==null)return b;e=this.$4.fetchCache(a);b=e.entries;a=e.params;e=c("baseTypeaheadDedupEntriesBuilder")(c("BaseDataEntryKeyBuilder"))((e=d)!=null?e:[],(d=b)!=null?d:[]);return{entries:e,params:a}};d.fetchNetwork=function(a){var d=a.query;if(this.$5!=null&&d==="")return this.$5.fetchNetwork(a);if(d==="")return(h||(h=b("Promise"))).resolve({entries:[],params:a});d=this.$2;if(d==null&&this.$4==null)return(h||(h=b("Promise"))).resolve({entries:[],params:a});if(d==null)return this.$4!=null?this.$4.fetchNetwork(a):(h||(h=b("Promise"))).resolve({entries:[],params:a});var e=d.fetchCache(a);return this.$4==null?(h||(h=b("Promise"))).resolve(e):this.$4.fetchNetwork(a).then(function(a){var b=e.entries,d=a.entries;a=a.params;d=c("baseTypeaheadDedupEntriesBuilder")(c("BaseDataEntryKeyBuilder"))((b=b)!=null?b:[],(b=d)!=null?b:[]);return{entries:d,params:a}})};return a}();g["default"]=a}),98);
__d("baseTypeaheadContainsMatchBuilder",["escapeRegex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.query;var b=new RegExp(""+c("escapeRegex")(a),"i");return function(a){return b.test((a=a.label)!=null?a:"")}}g["default"]=a}),98);
__d("baseTypeaheadPrefixWithDocumentContainsMatchBuilder",["baseTypeaheadContainsMatchBuilder","baseTypeaheadStartsWithMatchBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.query;return function(a){return a.key.includes("diff:")||a.key.includes("task:")||a.key.includes("gdocs:")||a.key.includes("quip:")||a.key.includes("notes:")||a.key.includes("wiki:")?c("baseTypeaheadContainsMatchBuilder")({query:b})(a):c("baseTypeaheadStartsWithMatchBuilder")({query:b})(a)}}g["default"]=a}),98);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f,g){var h=/[ ]+/g,i=/[^ ]+/g;f=new RegExp("[^ "+l()+"]+|"+a(),"g");var j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function b(a){return a.replace(j," ")}function r(a){return a.replace(h," ")}function s(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return r(b)}function t(a,b){b===void 0&&(b=i);var c=[],d=b.exec(a);while(d){var e=d[0];c.push(e);d=b.exec(a)}return c}function d(a,b){b===void 0&&(b=i);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=s(e),h=a(g);c[e]={value:e,flatValue:g,tokens:t(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===void 0&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var u=d(b),v=d(function(a){return a},f);function e(a,b,d){var e=a=="query"||a=="query_punc",f=a=="aligned",g=a=="query_punc"?v:u;b=g(b,a=="prefix");var h=a=="prefix"?c("nullthrows")(b.sortedTokens):b.tokens,i=g(d).tokens,j={},k=b.isPrefixQuery&&(e||f)?h.length-1:null;g=function(b,c){for(var d=0;d<i.length;++d){var g=i[d];if(!j[d]&&(g==b||((e||f)&&c===k||a=="prefix")&&g.indexOf(b)===0))return j[d]=!0;if(f&&!j[d])return!1}return!1};return Boolean(h.length&&h.every(g))}p={collapse:r,flatten:s,parse:u,parseIncludingPunctuations:v,getPunctuation:a,makeParse:d,isExactMatch:e.bind(null,"exact"),isQueryMatch:e.bind(null,"query"),isQueryMatchIncludingPunctuations:e.bind(null,"query_punc"),isAlignedMatch:e.bind(null,"aligned"),isPrefixMatch:e.bind(null,"prefix"),tokenize:t};q=p;g["default"]=q}),98);
__d("baseTypeaheadQueryMatchBuilder",["TokenizeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.query;return function(a){return c("TokenizeUtil").isQueryMatch(b,a.label)}}g["default"]=a}),98);
__d("CometTypeaheadGraphQLBootstrapDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadContainsMatchBuilder","baseTypeaheadPrefixWithDocumentContainsMatchBuilder","baseTypeaheadQueryMatchBuilder","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={prefix:c("baseTypeaheadStartsWithMatchBuilder"),prefix_with_document_substring:c("baseTypeaheadPrefixWithDocumentContainsMatchBuilder"),substring:c("baseTypeaheadContainsMatchBuilder"),token:c("baseTypeaheadQueryMatchBuilder")};a=function(){function a(a){var b=a.bootstrapDataProvider,d=a.matchStrategy;d=d===void 0?"prefix":d;a=a.normalize;this.$2=!1;this.$1=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:h[d]});this.$3=a;this.$4=b}var b=a.prototype;b.isBootstrapped=function(){return this.$2};b.bootstrap=function(){var a=this;c("promiseDone")(this.$4.fetch({query:""}).then(function(b){b=b.response;return a.$3(b)}).then(function(b){a.$1.add(b,null)}).then(function(){return a.$2=!0}))};b.fetchCache=function(a){var b=a.query;b=this.$1.match(b);return{entries:b,params:a}};return a}();g["default"]=a}),98);
__d("CometTypeaheadGraphQLDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.gqlQuery,d=a.normalize,e=a.options,f=a.queryVariablesBuilderFunction;a=a.relayEnvironment;var g=function(){return f};g=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(g);e=new(c("BaseTypeaheadDataProvider"))({options:e,query:b,queryVariablesBuilder:g,relayEnvironment:a});b=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:c("baseTypeaheadLabelSuffixBuilder")});this.$1=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,b,{normalizeFunc:d})}var b=a.prototype;b.fetchCache=function(a){return this.$1.fetchCache(a)};b.fetchNetwork=function(a){return this.$1.fetchNetwork(a)};return a}();g["default"]=a}),98);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;f["default"]=d}),66);
__d("FeedComposerCometMentionsViewItem.react",["fbt","ix","CometProfilePhoto.react","CometProfileVerificationBadge.react","CometSearchMentionsBaseViewItem.react","FDSText.react","TetraIcon.react","fbicon","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=(k||(k=d("react"))).c,m=k,n={invitedName:{alignItems:"x6s0dn4",maxWidth:"x11t6kkg",$$css:!0},invitedVerifiedName:{alignItems:"x6s0dn4",maxWidth:"xw5ewwj",$$css:!0},name:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0}};function a(a){var b=l(46),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;a=a.rawData;var g=!1,k=!1,o=null,p="circle";if(a.type==="MENTION_SEARCH_RESULT"){var q;g=Boolean(a.isExternal);k=a.isVerified;o=a.subtext;p=(q=a.iconShape)!=null?q:"circle"}q=e;q=q.label;var r=f.addOn,s=n.name;r!=null&&(s=k?n.invitedVerifiedName:n.invitedName);a=a.type!=="SEE_ALL_ENTRY"&&a.type!=="MENTION_TYPE_RESET"?a.photoURI:null;if(a==null){c("recoverableViolation")("No profile picture found for mentions entry","comet_composer");return null}var t;b[3]!==a?(t={uri:a},b[3]=a,b[4]=t):t=b[4];b[5]!==p||b[6]!==t?(a=m.jsx(c("CometProfilePhoto.react"),{shape:p,size:40,source:t}),b[5]=p,b[6]=t,b[7]=a):a=b[7];p=a;t="CometSearchMentionsBaseViewItem/"+q;var u;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a="x6s0dn4 x78zum5 x1gfrnbc x18ip3f8",u="x1vqgdyp x100vrsf",b[8]=a,b[9]=u):(a=b[8],u=b[9]);b[10]!==p?(u=m.jsx("div",{className:u,children:p}),b[10]=p,b[11]=u):u=b[11];var v;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(p="x1iyjqo2 x16n37ib x6ikm8r x10wlt62 xlyipyv xuxw1ft",v="x78zum5 x1gslohp x12nagc",b[12]=p,b[13]=v):(p=b[12],v=b[13]);var w;b[14]!==s?(w=(j||(j=c("stylex")))(s),b[14]=s,b[15]=w):w=b[15];b[16]!==q?(s=m.jsx(c("FDSText.react"),{numberOfLines:1,type:"headlineEmphasized4",children:q}),b[16]=q,b[17]=s):s=b[17];b[18]!==w||b[19]!==s?(q=m.jsx("div",{className:w,children:s}),b[18]=w,b[19]=s,b[20]=q):q=b[20];b[21]!==k||b[22]!==e?(w=k&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"x51ohtg"}),m.jsx("div",{className:"x1kpxq89",children:m.jsx(c("CometProfileVerificationBadge.react"),{profileID:e.key,size:"small"})}),m.jsx("div",{className:"x51ohtg"})]}),b[21]=k,b[22]=e,b[23]=w):w=b[23];b[24]!==g?(s=g?m.jsx("span",{className:"x1t2a60a",children:m.jsx(c("TetraIcon.react"),{alt:h._("__JHASH__U217aVJMGxG__JHASH__"),color:"primary",icon:d("fbicon")._(i("785426"),12)})}):null,b[24]=g,b[25]=s):s=b[25];b[26]!==q||b[27]!==w||b[28]!==s?(k=m.jsxs("div",{className:v,children:[q,w,s]}),b[26]=q,b[27]=w,b[28]=s,b[29]=k):k=b[29];b[30]!==o?(g=o!=null&&m.jsxs("div",{className:"x12nagc",children:[m.jsx("div",{className:"xdk7pt"}),m.jsx(c("FDSText.react"),{numberOfLines:1,type:"meta3",children:o})]}),b[30]=o,b[31]=g):g=b[31];b[32]!==k||b[33]!==g?(v=m.jsxs("div",{className:p,children:[k,g]}),b[32]=k,b[33]=g,b[34]=v):v=b[34];b[35]!==r?(q=m.jsx("div",{children:r}),b[35]=r,b[36]=q):q=b[36];b[37]!==u||b[38]!==v||b[39]!==q?(w=m.jsxs("div",{className:a,children:[u,v,q]}),b[37]=u,b[38]=v,b[39]=q,b[40]=w):w=b[40];b[41]!==f||b[42]!==e||b[43]!==t||b[44]!==w?(s=m.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},f,{entry:e,testid:void 0,children:w})),b[41]=f,b[42]=e,b[43]=t,b[44]=w,b[45]=s):s=b[45];return s}g["default"]=a}),226);
__d("MLCHealthLoggerEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({DAILY_INTERACTION_WITH_SURFACE:"daily_interaction_with_surface",COMMIT_CREATE:"commit_create",COMMIT_EDIT:"commit_edit"});c=a;f["default"]=c}),66);
__d("MlcHealthBizappEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2646");b=d("FalcoLoggerInternal").create("mlc_health_bizapp_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthFacebookAndWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2647");b=d("FalcoLoggerInternal").create("mlc_health_facebook_and_workplace_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthFacebookEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2648");b=d("FalcoLoggerInternal").create("mlc_health_facebook_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthInstagramEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3766");b=d("FalcoLoggerInternal").create("mlc_health_instagram_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthInternalToolsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2649");b=d("FalcoLoggerInternal").create("mlc_health_internal_tools_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthMessagingLightswitchEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2650");b=d("FalcoLoggerInternal").create("mlc_health_messaging_lightswitch_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2651");b=d("FalcoLoggerInternal").create("mlc_health_workplace_event",a);e=b;g["default"]=e}),98);
__d("MLCHealthInstrumentationPlugin__INTERNAL.react",["Lexical","LexicalComposerContext","LexicalUtils","MLCInstrumentationCommands","MlcHealthBizappEventFalcoEvent","MlcHealthFacebookAndWorkplaceEventFalcoEvent","MlcHealthFacebookEventFalcoEvent","MlcHealthInstagramEventFalcoEvent","MlcHealthInternalToolsEventFalcoEvent","MlcHealthMessagingLightswitchEventFalcoEvent","MlcHealthWorkplaceEventFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect,j=new Set();function k(a){switch(a){case"facebook":return c("MlcHealthFacebookEventFalcoEvent");case"workplace":return c("MlcHealthWorkplaceEventFalcoEvent");case"facebook_and_workplace":return c("MlcHealthFacebookAndWorkplaceEventFalcoEvent");case"internal_tools":return c("MlcHealthInternalToolsEventFalcoEvent");case"messaging_lightswitch":return c("MlcHealthMessagingLightswitchEventFalcoEvent");case"bizapp":return c("MlcHealthBizappEventFalcoEvent");case"instagram":return c("MlcHealthInstagramEventFalcoEvent");default:return null}}function l(a,b,c){(a=k(a))==null?void 0:a.log(function(){return{event:c,surface:b}})}function a(a){var b=a.policyProduct,c=a.surface;a=d("LexicalComposerContext").useLexicalComposerContext();var e=a[0];i(function(){var a=function(){};j.has(c)||(a=e.registerUpdateListener(function(d){var f=d.dirtyLeaves;d=d.tags;if(j.has(c)){a();return}if(f.size===0||d.has("history-merge")||!e.isEditable())return;j.add(c);l(b,c,"daily_interaction_with_surface");a()}));return d("LexicalUtils").mergeRegister(a,e.registerCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,function(a){a==="create"?l(b,c,"commit_create"):l(b,c,"commit_edit");return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL))},[e,b,c]);return null}g["default"]=a}),98);
__d("MLCInteractionInstrumentationPlugin__INTERNAL.react",["cr:3286","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return b("cr:3286")&&i.jsx(b("cr:3286"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCTypingPerformancePlugin__INTERNAL.react",["LexicalComposerContext","LexicalText","cr:2012305","cr:308","cr:3287","cr:5452","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useLayoutEffect,k=b("cr:2012305")||b("cr:308");e=(c=b("cr:5452"))!=null?c:{};var l=e.getTextLengthBucket;function a(a){if(k===null)return null;b("cr:3287")&&b("cr:3287")();return i.jsx(m,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b=a.format__DEPRECATED,c=a.surface;a=a.typingPerformanceID;var e=a===void 0?"":a;a=d("LexicalComposerContext").useLexicalComposerContext();var f=a[0];j(function(){var a=babelHelpers["extends"]({},l==null?null:{textLengthBucket:l(f.getEditorState().read(d("LexicalText").$rootTextContent).length)}),g;h();function h(){g==null?void 0:g();if(k===null)return;var d=null,h=f.registerRootListener(function(f){if(f===d)return;d!==null&&k.unregisterTypingPerf(d);if(f!==null){var g;k.trackTypingPerf(f,c,d,babelHelpers["extends"]({},a,{editor:"LexicalEditor",format:(g=b)!=null?g:"",typingPerformanceID:e}))}d=f});g=function(){h(),d!==null&&k.unregisterTypingPerf(d)}}var i=l==null?null:f.registerTextContentListener(function(b){b=l(b.length);if(b===a.textLengthBucket)return;a.textLengthBucket=b;h()});return function(){g==null?void 0:g(),i==null?void 0:i()}},[e,f,b,c]);return null}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCInstrumentationPlugin__INTERNAL.react",["MLCHealthInstrumentationPlugin__INTERNAL.react","MLCInteractionInstrumentationPlugin__INTERNAL.react","MLCTypingPerformancePlugin__INTERNAL.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b="facebook";b;function a(a){return i.jsxs(i.Fragment,{children:[i.jsx(c("MLCTypingPerformancePlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),i.jsx(c("MLCHealthInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),i.jsx(c("MLCInteractionInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.anchorNode,e=b.endOffset,f=b.selectedEntry;b=b.startOffset;if(b===0){var g=d.splitText(e);g=g[0]}else{d=d.splitText(b,e);g=d[1]}if(g==null){c("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+b+", "+e+".");return}d=a(f);g.replace(d);d.selectNext(0,0)}}g["default"]=a}),98);
__d("cometMentionsDataEntryText",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return(b=a.handle)!=null?b:a.label}f["default"]=a}),66);
__d("cometTypeaheadCreateOrGetCachedCompositeDataSource",["CometLruCache","CometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CometLruCache").create(5);function a(a){var b=a.cacheKey_SEARCH_ONLY;a=babelHelpers.objectWithoutPropertiesLoose(a,["cacheKey_SEARCH_ONLY"]);b=i(b);var d=h.get(b);if(d!=null)return d;d=new(c("CometTypeaheadCompositeDataSource"))(a);h.set(b,d);return d}function i(a){switch(a.type){case"group_rules_mentions_intentful_datasource_cache_key":case"groups_mentions_intentful_datasource_cache_key":case"groups_mentions_non_intentful_datasource_cache_key":return a.type+"-"+a.groupID;case"feed_mentions_intentful_datasource_cache_key":return a.enableTypeSelection.toString()+"-"+a.type+"-"+a.mentionTypes.join(",");case"workplace_chat_composer_mentions_datasource_cache_key":return a.participants.toString()+"-"+a.type+"-"+a.threadID+"}";case"groups_post_mentions_intentful_datasource_cache_key":return a.type+"-"+a.groupID+"-"+a.postID;default:return String(a.type)}}g["default"]=a}),98);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f,g){"use strict";var h="(?:\\.[ |$]| |["+c("DocumentMentionsRegex").PUNCTUATION+"]|)",i=75;function j(a,b,c){b="[^"+a+b+"\\s]";c=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+c+"){0,"+i+"}))$");var d=50;a=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+"){0,"+d+"}))$");return{regex:c,regexAlias:a}}function a(a){var b=a.minMatchLength,d=a.name,e=a.triggers,f=a.disallowedChars;f=f===void 0?c("DocumentMentionsRegex").PUNCTUATION:f;var g=a.disallowedTerms;a=a.validJoins;a=a===void 0?h:a;e=j(e,f,a);var i=e.regex,k=e.regexAlias;return{findMentionableString:function(a){var c=i.exec(a);c===null&&(c=k.exec(a));if(c!==null){a=c[1];var d=c[3];if(g==null?void 0:g.includes(d.toLowerCase()))return null;if(d.length>=b)return{leadOffset:c.index+a.length,matchingString:d,replaceableString:c[2]}}return null},name:d}}g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategy",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join("");function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({minMatchLength:a,name:"AtSignComposerMentionStrategy("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("createCometMentionsNameMatchStrategy",[],(function(a,b,c,d,e,f){"use strict";b="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";var g="\\b[A-Z][^\\s"+b+"]",h="\\b[a-z][^\\s"+b+"]";function a(a){var b=a.commonWordsBlocklist,c=a.minMatchLength;a=a.nameCase;var d=a==="capitalized"?g:h,e=new RegExp("(^|[^#])((?:"+d+"{"+1+",})$)");return{findMentionableString:function(a){a=e.exec(a);if(a===null)return null;var d=a[1],f=a[2];if(b.includes(f))return null;return f!=null&&f.length>=c?{leadOffset:a.index+d.length,matchingString:f,replaceableString:f}:null},name:"NameMentionStrategy("+c.toString()+", "+a+")"}}f["default"]=a}),66);
__d("getHashtagRegexStringChars",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="#\\uFF03";return{alpha:b,alphanumeric:a,hashChars:d}}f["default"]=a}),66);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],(function(a,b,c,d,e,f){function a(){var a=b("getHashtagRegexStringChars")(),c=a.alpha,d=a.alphanumeric;a=a.hashChars;c="["+c+"]";var e="["+d+"]";d="^|$|[^&/"+d+"]";a="["+a+"]";d="("+d+")("+a+")("+e+"*"+c+e+"*)";return d}f["default"]=a}),66);
__d("getUpgradedCometEmojiComposerHandler",["CometLexicalEmojiNode","EmojiRenderer","FBEmojiResource","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=a.registerNodeTransform(d("Lexical").TextNode,function(a){if(!a.isSimpleText())return;var e=a.getTextContent(),f=a,g=0;d("EmojiRenderer").parse(e).forEach(function(e){var h=e.emoji,i=e.length;e=e.offset;var j=h.join("");h=c("FBEmojiResource").fromCodepoints(h);if(h==null)return;h=h.getImageURL(b);if(h==null)return;var k=j;j=d("CometLexicalEmojiNode").$createEmojiNode(j,k,h,b);k=e-g;h=k+i;if(k===0){e=f.splitText(h);a=e[0];f=e[1]}else{i=f.splitText(k,h);a=i[1];f=i[2]}g+=h;a.replace(j);j})});return function(){e()}}g["default"]=a}),98);
__d("getUpgradedCometHashtagComposerHandler",["FBLogger","LexicalHashtag","LexicalText","LexicalUtils","getHashtagRegexString"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp(c("getHashtagRegexString")(),"i");function a(a){if(!a.hasNodes([d("LexicalHashtag").HashtagNode]))throw c("FBLogger")("outline_ufi").mustfixThrow("HashtagPlugin: HashtagNode not registered on editor");var b=function(a){return d("LexicalHashtag").$createHashtagNode(a.getTextContent())},e=function(a){a=h.exec(a);if(a===null)return null;var b=a[3].length+1;a=a.index+a[1].length;b=a+b;return{end:b,start:a}};return d("LexicalUtils").mergeRegister.apply(void 0,d("LexicalText").registerLexicalTextEntity(a,e,d("LexicalHashtag").HashtagNode,b))}g["default"]=a}),98);
__d("useCometMentionsDataSourceResolverConfig",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useLayoutEffect;b.useMemo;var j=b.c;function a(a,b){var c=j(12),d;c[0]!==a?(d=function(){a.forEach(function(a){a=a.dataSource;a.bootstrap()})},c[0]=a,c[1]=d):d=c[1];var e=d,f;c[2]!==b||c[3]!==e?(d=function(){if(!b)return;e()},f=[b,e],c[2]=b,c[3]=e,c[4]=d,c[5]=f):(d=c[4],f=c[5]);i(d,f);c[6]===Symbol["for"]("react.memo_cache_sentinel")?(d=new Map(),c[6]=d):d=c[6];var g=d;c[7]!==a?(f=function(b){var c={dataSource:null,searchResult:null};if(b==null)return c;var d=g.get(b);if(d!=null)return d;for(d=0;d<a.length;d++){var e=a[d],f=e.dataSource;e=e.matchStrategy;e=e.findMentionableString(b);if(e!=null){f={dataSource:f,searchResult:e};g.set(b,f);return f}}g.set(b,c);return c},c[7]=a,c[8]=f):f=c[8];c[9]!==e||c[10]!==f?(d={bootstrap:e,resolver:f},c[9]=e,c[10]=f,c[11]=d):d=c[11];f=d;return f}g["default"]=a}),98);
__d("useCometMentionsViewListStrategy",["CometMentionsViewListStrategy.react","CometTypeaheadProgressGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(2),d=a.viewItemStrategyRenderer;b[0]!==d?(a=function(a){var b=a.isLoading;a=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading"]);return i.jsxs(i.Fragment,{children:[i.jsx(c("CometMentionsViewListStrategy.react"),babelHelpers["extends"]({},a,{isLoading:!1,viewItemStrategyRenderer:d})),b&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})},b[0]=d,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCustomEqualityMemo",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(a,b){var d=(h||(h=c("useUnsafeRef_DEPRECATED")))(a),e=b(d.current,a)?d.current:a;j(function(){d.current=e},[e]);return e}g["default"]=a}),98);
__d("useDeepEqualMemo",["areEqual","useCustomEqualityMemo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("useCustomEqualityMemo")(a,h||(h=c("areEqual")))}g["default"]=a}),98);
__d("useCometTypeaheadCompositeBootstrapDataSource",["BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,h=a.normalize,j=a.queryVariables,k=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),l=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var m=i(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:l});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:h})},[a,l]);return i(function(){return{bootstrap:function(){return m.bootstrap()},fetchCache:function(a){return k(m.fetchCache(a))}}},[m,k])}g["default"]=a}),98);
__d("useCometTypeaheadCompositeDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometTypeaheadCompositeDataSource","baseTypeaheadFetchPayloadDecorate","cometTypeaheadCreateOrGetCachedCompositeDataSource","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.bootstrapDataSource,d=a.cacheKey_SEARCH_ONLY,e=a.limit,f=a.networkDataSource,g=a.nullstateDataSource,h=a.payloadDecorators,k=i(function(a){return c("baseTypeaheadFetchPayloadDecorate")(a,[].concat((a=h)!=null?a:[],[c("BaseTypeaheadPayloadDecoratorAddLimit")(e)]))},[e,h]),l=j(function(){return{bootstrapDataSource:b,limit:e,networkDataSource:f,nullstateDataSource:g}},[b,e,f,g]),m=j(function(){return d!=null?c("cometTypeaheadCreateOrGetCachedCompositeDataSource")(babelHelpers["extends"]({},l,{cacheKey_SEARCH_ONLY:d})):new(c("CometTypeaheadCompositeDataSource"))(l)},[d,l]);return j(function(){return{bootstrap:function(){return m.bootstrap()},fetchCache:function(a){return k(m.fetchCache(a))},fetchNetwork:function(a){return m.fetchNetwork(a).then(function(a){return k(a)})}}},[m,k])}g["default"]=a}),98);
__d("useCometTypeaheadGraphQLDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction,j=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(e)},[e]),k=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(h({query:""}));var l=i(function(){return new(c("CometTypeaheadGraphQLDataSource"))({gqlQuery:b,normalize:f,options:g,queryVariablesBuilderFunction:h,relayEnvironment:k})},[a,k]);return i(function(){return{fetchCache:function(a){return j(l.fetchCache(a))},fetchNetwork:function(a){return l.fetchNetwork(a).then(function(a){return j(a)})}}},[l,j])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5852881248149646"}),null);
__d("GroupsCometGlobalChatCreationDialogQuery$Parameters",["GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometGlobalChatCreationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometGlobalChatCreationDialog.entrypoint",["GroupsCometGlobalChatCreationDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("GroupsCometGlobalChatCreationDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometGlobalChatCreationDialog.react").__setRef("GroupsCometGlobalChatCreationDialog.entrypoint")};g["default"]=a}),98);
__d("LSClearTables",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(a){return b.forEach(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(c){return a[0]===void 0||a[0]===!0?b.forEach(b.db.table(69).fetch(),function(a){return a["delete"]()}):b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSSearchClearTablesStoredProcedure";e.exports=a}),null);
__d("LSClearTablesStoredProcedure",["LSClearTables","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b={});var d=[];d[0]=b.clearMessageResults;return c("LSClearTables").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("limit",a[0]),d[1]=c.createArray(),d[5]=(d[1].push("search_contacts"),d[1]),d[2]=c.i64.of_float(Date.now()),d[5]=(d[1].push(c.i64.to_string(d[2])),d[1]),d[3]=c.toJSON(d[1]),d[4]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),d[3],c.i64.cast([0,452]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSSearchInsertRankingContactsStoredProcedure";e.exports=a}),null);
__d("LSInsertRankingContactsStoredProcedure",["LSInsertRankingContacts","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.limit;return c("LSInsertRankingContacts").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LsUniversalSearchDataSource",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOCAL_BLENDED:0,SERVER_ENTITIES_NAMED_DSQ1:1,SERVER_ENTITIES_NAMED_DSQ2:2});c=a;f["default"]=c}),66);
__d("LsUniversalSearchThreadType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARMADILLO:0,TINCAN:1,OPEN_THREAD:2});c=a;f["default"]=c}),66);
__d("MDSIcon.react",["BaseTheme.react","Box.react","FDSIcon.react","SVGIcon","XPlatReactEnvironment","getMDSIconColorCometFallback","react","useMDSIconColors"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={iconBackground:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderTopStartRadius:"x17zif9m",borderTopEndRadius:"xfjaqqx",borderBottomEndRadius:"x1il12k9",borderBottomStartRadius:"x32snf2",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},themeWrapper:{display:"xt0psk2",$$css:!0}},l={dark:{"secondary-button-background":"rgba(255, 255, 255, 0.14)"},light:{"secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"};b=i.forwardRef(a);function a(a,b){var e=a.backgroundEnabled;e=e===void 0?!1:e;var f=a.color;a=babelHelpers.objectWithoutPropertiesLoose(a,["backgroundEnabled","color"]);var g=c("useMDSIconColors")(),h=f!=null&&f!=="primary"?g[f]:void 0;g=j(function(){return h!=null?{dark:{"primary-icon":h},light:{"primary-icon":h},type:"VARIABLES"}:void 0},[h]);var m=a.icon instanceof d("SVGIcon").SVGIcon;m=i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({color:m?"primary":d("getMDSIconColorCometFallback").getMDSIconColorCometFallback(f),ref:b},a));g!=null&&(m=i.jsx(c("BaseTheme.react"),{config:g,xstyle:d("XPlatReactEnvironment").isWeb()?k.themeWrapper:null,children:m}));return e?i.jsx(c("BaseTheme.react"),{config:l,children:i.jsx(c("Box.react"),{xstyle:k.iconBackground,children:m})}):m}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MDSPressable.react",["CometPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={hover:{backgroundColor:"x1yjz2vk",$$css:!0}};b=i.forwardRef(a);function k(a){switch(a){case"normal":return 6;case"50%":return"50%";case"compact":return 4;case"inherit":default:return void 0}}function a(a,b){var d=a.overlayRadius;a=babelHelpers.objectWithoutPropertiesLoose(a,["overlayRadius"]);return i.jsx(c("CometPressable.react"),babelHelpers["extends"]({overlayFocusVisibleStyle:j.hover,overlayHoveredStyle:j.hover,overlayRadius:k(d),ref:b},a))}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MWChatSearchTypeheadActionButtonViewItem.react",["CometTypeaheadViewItem.react","FDSSkittleIcon.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.entry,d=a.icon,e=a.onHighlightEntry,f=a.onPressEntry;a=a.title;d=i.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:d,size:36});return i.jsx("div",{className:"xe8uvvx xexx8yu xsyo7zv x18d9i69 x16hj40l",role:"listbox",children:i.jsx(c("CometTypeaheadViewItem.react"),{entry:b,isActive:!1,itemStartContent:d,onHighlightEntry:e,onPressEntry:f,role:"option",children:i.jsx(c("MWXText.react"),{type:"body3",children:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerGroup.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 26 19",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M13 10c-2.13 0-3.96-1.5-3.96-4.75C9.04 2.6 10.71.83 13 .83c2.3 0 3.96 1.77 3.96 4.42C16.96 8.51 15.13 10 13 10zm6.62 8.33c.57 0 .88-.5.88-1.1 0-3.08-3.47-5.56-7.5-5.56-4.03 0-7.5 2.48-7.5 5.55 0 .62.3 1.11.88 1.11h13.24zm2.55-7.5c-1.57 0-2.92-1.08-2.92-3.45 0-1.93 1.23-3.21 2.92-3.21s2.91 1.28 2.91 3.21c0 2.37-1.34 3.45-2.91 3.45zm.81 6.67a.83.83 0 0 1-.83-.72l-.01-.11a6.3 6.3 0 0 0-1.7-3.65c-.2-.22-.14-.57.14-.67a4.95 4.95 0 0 1 1.59-.27c1.66 0 3.33.84 3.33 2.5 0 2.92-2.08 2.92-2.08 2.92h-.44zM.92 7.38c0 2.37 1.34 3.45 2.91 3.45s2.92-1.08 2.92-3.45c0-1.93-1.23-3.21-2.92-3.21S.92 5.45.92 7.38zm2.1 10.12h-.44S.5 17.5.5 14.58c0-1.66 1.67-2.5 3.33-2.5.54 0 1.08.1 1.6.27.27.1.33.45.13.67a6.3 6.3 0 0 0-1.7 3.65l-.01.1a.83.83 0 0 1-.83.73z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("useMWLoggerEntrypoint",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("gkx")("23433"),d=null;a!==void 0&&(a==="Inbox"?d=b?"messengerdotcom":"fb_groups:comet_www_inbox":a==="ChatTab"?d="fb_groups:comet_www_chat":a==="FullscreenChat"&&(d="fb_groups:comet_www_fullscreen_chat"));return d}g["default"]=a}),98);
__d("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react",["fbt","$InternalEnum","GroupsCometChatsEngagementLogger","GroupsCometGlobalChatCreationDialog.entrypoint","LSThreadAttributionStore","MWChatSearchTypeheadActionButtonViewItem.react","MWLSThreadDisplayContext","MessengerGroup.svg.react","emptyFunction","react","useGroupsCometChatsEngagementImpressionLogger","useMWLoggerEntrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=b("$InternalEnum")({CHAT_HEAD:"bottom_chat_create",JEWEL:"top_chat_create"});function a(){var a=c("useMWXEntryPointDialog")(c("GroupsCometGlobalChatCreationDialog.entrypoint"),{}),b=a[0],e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f=c("useMWLoggerEntrypoint")(e);a=d("LSThreadAttributionStore").getSourceForNewThread();var g=a==="chatheadsNewMessage"?k.CHAT_HEAD:a==="jewelNewMessage"?k.JEWEL:null;a=c("useGroupsCometChatsEngagementImpressionLogger")({client_extras:{entry_point:(a=f)!=null?a:"",origin:(a=g)!=null?a:""},event:"community_chat_button_impression",surface:"chat_creation_template_list"});return j.jsx("div",{ref:a,children:j.jsx(c("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:{key:"newCommunityChat",label:"New Community Chat",type:"entry"},icon:c("MessengerGroup.svg.react"),onHighlightEntry:c("emptyFunction"),onPressEntry:function(){var a;b({entrypoint:f!=null?f:void 0,shouldCloseComposeTab:e==="ChatTab",shouldGoToMessenger:e==="Inbox"},function(){});d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{entry_point:(a=f)!=null?a:"",origin:(a=g)!=null?a:""},event:"create_cc_button_clicked",source:"create_cc_button",surface:"chat_creation_template_list"})},title:h._("__JHASH__Wh17zqow6GS__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWCMLightSpeedChatTabActionViewItems.react",["BaseDivider.react","CurrentEnvironment","MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react","cr:5103","cr:6189","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={divider:{marginTop:"x1xmf6yo",marginEnd:"xktsk01",marginBottom:"x1e56ztr",marginStart:"x1d52u69",$$css:!0}};function a(){var a=c("gkx")("24047")&&!c("CurrentEnvironment").messengerdotcom,d=c("gkx")("24048")||c("gkx")("3379");d=a||d;var e=b("cr:5103")||b("cr:6189");return d?i.jsxs(i.Fragment,{children:[a&&i.jsx(c("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react"),{}),e&&i.jsx(e,{}),i.jsx(c("BaseDivider.react"),{xstyle:j.divider})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchFetchCCRecommendations",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","LSSearchType","MNetContactItemType","MWChatTemporarySearchResult","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=3;function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))?[]:o(yield m(a,k))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.cm_search_nullstate_metadata).filter(function(a){return(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(18))})));return a.sort(function(a,b){a=a.score;b=b.score;return a===b?0:a>b?1:-1}).slice(0,b)});return n.apply(this,arguments)}function o(a){return a.map(function(a,b){var e=a.communityId,f=a.contextLine,g=a.score,k=a.scoreType,l=a.secondaryThreadPictureUrl,m=a.secondaryThreadPictureUrlFallback,n=a.threadKey,o=a.threadName,p=a.threadPictureUrl;a.threadPictureUrlFallback;var q=a.threadType;babelHelpers.objectWithoutPropertiesLoose(a,["communityId","contextLine","score","scoreType","secondaryThreadPictureUrl","secondaryThreadPictureUrlFallback","threadKey","threadName","threadPictureUrl","threadPictureUrlFallback","threadType"]);a={contactId:n,contactType:(j||(j=d("LSIntEnum"))).ofNumber(c("MNetContactItemType").COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION),score:g,scoreIndex:(i||(i=d("I64"))).of_int32(b),scoreType:k};return{communityId:e!=null?(i||(i=d("I64"))).to_string(e):"",displayName:o,id:i.to_string(n),imageUrl:(b=(g=p)!=null?g:l)!=null?b:"",isAiBot:i.equal(q,j.ofNumber(201)),isContact:d("LSMessagingThreadTypeUtil").isOneToOne(q),isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(q),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,rankingScore:a,resultType:d("MWChatTemporarySearchResult").getResultType(j.ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)),searchSource:"server",secondaryImageUrl:(e=(k=l)!=null?k:m)!=null?e:"",section:h._("__JHASH__6QBjd4SVwsL__JHASH__").toString(),subtext:(o=f)!=null?o:"",threadKey:n,threadType:q}})}g.fetchCCs=a;g.mapToSearchResults=o}),226);
__d("MWChatSearchFetchGenAIBotRecommendations",["I64","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","MNetContactItemType","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResultUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=3;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))?[]:n(yield l(a,j))});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.ai_bot_search_metadata)));return a.sort(function(a,b){a=a.score;b=b.score;return a===b?0:a>b?1:-1}).slice(0,b)});return m.apply(this,arguments)}function n(a){return a.map(function(a,b){var e=a.botId,f=a.contactViewerRelationship,g=a.contextLine,j=a.displayName,k=a.displayPictureUrl;a=a.score;a={contactId:e,contactType:(i||(i=d("LSIntEnum"))).ofNumber(c("MNetContactItemType").BOT),score:a,scoreIndex:(h||(h=d("I64"))).of_int32(b),scoreType:i.ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE)};return{displayName:j,id:h.to_string(e),imageUrl:(b=k)!=null?b:"",isAiBot:!0,isContact:!0,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(e),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,isViewerUnconnected:h.equal(f,i.ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)),rankingScore:a,resultType:c("MWChatSearchResultType").AI_BOT,searchSource:"server",secondaryImageUrl:"",section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForAIBot(),subtext:(j=g)!=null?j:"",threadKey:e,threadType:h.of_int32(201)}})}g.fetchGenAIBots=a;g.mapToSearchResults=n}),98);
__d("MWChatSearchFetchRecommendations",["LSIntEnum","LSSearchType","MWChatSearchFetchCCRecommendations","MWChatSearchFetchContactRecommendations","MWChatSearchFetchGenAIBotRecommendations","MWChatSearchIssueLightspeedQuery","Promise","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g,k,l){c("promiseDone")(d("MWChatSearchIssueLightspeedQuery").makeSearchQuery(e,g,k));k=e.includes((i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD));e=e.includes(i.ofNumber(c("LSSearchType").AI_BOT));c("promiseDone")((h||(h=b("Promise"))).all([d("MWChatSearchFetchContactRecommendations").fetchContacts(a,f),k?d("MWChatSearchFetchCCRecommendations").fetchCCs(a,g):[],e?d("MWChatSearchFetchGenAIBotRecommendations").fetchGenAIBots(a,g):[]]).then(function(a){var b=a[0],c=a[1];a=a[2];b=j(b,c,a);return l(b)}));return c("emptyFunction")}function j(a,b,c){return[].concat(c,b,a)}g.requestRecommendations=a;g.blendSearchResults=j}),98);
__d("MWChatSearchInsertRankingContacts",["I64","LSFactory","LSInsertRankingContactsStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1},k=(h||(h=d("I64"))).of_string("100");function a(a){if(!i.contents&&(h||(h=d("I64"))).gt(k,(h||(h=d("I64"))).zero)){i.contents=!0;c("promiseDone")(a.runInTransaction(function(a){return c("LSInsertRankingContactsStoredProcedure")(c("LSFactory")(a),{limit:k})},"readwrite",void 0,void 0,f.id+":39"),function(){j.contents=!0});return}}function b(){return j.contents}g.insertRankingContacts=a;g.isDone=b}),98);
__d("MWChatSearchResultTypeMapping",["LSSearchType","MWChatSearchResultType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("MWChatSearchResultType").GROUP:return c("LSSearchType").GROUP;case c("MWChatSearchResultType").MESSAGE:return c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD;case c("MWChatSearchResultType").PAGE:return c("LSSearchType").PAGE;case c("MWChatSearchResultType").USER:return c("LSSearchType").CONTACT;case c("MWChatSearchResultType").AI_BOT:return c("LSSearchType").AI_BOT}}g.mapMWChatSearchResultTypeToLSSearchType=a}),98);
__d("MWChatSearchIssueMAWFTSQuery",["I64","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","LSSearchType","LSThreadBitOffset","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MNetRankType","MWChatSearchResultTypeMapping","MWChatTemporarySearchResult","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchStandardResultTypeMappings","MWSearchThreadUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b,e,f,g){return d("MAWChatJid").toThreadKeyMaybe(a.tables,b).then(function(b){if(b!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)).then(function(a){var h;return{displayName:(h=f)!=null?h:"",id:e,imageUrl:"",isAiBot:a!=null&&(i||(i=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:a!=null?d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType):!1,isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:a!=null&&d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:a!=null&&d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:a!=null&&d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:a!=null&&d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:a!=null&&d("LSThreadBitOffset").has(229,a),isVerified:!1,matchedTerms:g,resultType:d("MWChatTemporarySearchResult").getResultType((k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)),searchResultType:14,searchSource:"secure",section:"",subtext:"",threadKey:b}})})}function m(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.mi_act_mapping_table).getKeyRange(a)).then(function(a){if(a!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.cutover_threads).filter(function(b){return(i||(i=d("I64"))).equal(b.armadilloThreadId,a.jid)})).then(function(b){if(b!=null)return b.openThreadId;else return a.jid});else return(h||(h=b("Promise"))).resolve()})}function n(a){var b=a.score-1e-6;return{contactId:a.contactId,contactType:a.contactType,score:b,scoreIndex:a.scoreIndex,scoreType:a.scoreType}}function o(a,b){return m(a,b).then(function(e){var f=e!=null?e:a,g=e!=null;return d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.ranking_scores).getKeyRange(f,(k||(k=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH))).then(function(a){if(a!=null)if(g)return n(a);else return a})})}function p(a,b,e,f){var g;g=(g=b.threadDescription)!=null?g:"";(i||(i=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))&&(g=d("MWLSThreadTitle").getThreadTitleWithSecondaryNames(b.threadDescription,e,f,b.threadType).toString());return g}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){e=(yield (h||(h=b("Promise"))).all([d("MAWChatJid").toThreadKeyMaybe(a.tables,e),d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId}))]));var j=e[0];e=e[1];if(j==null)return;j=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(j)));if(j==null||j.folderName!=="inbox")return;var l=(yield h.all([d("MWSearchThreadUtils").getThreadPics(j,e,a),d("MWSearchThreadUtils").getThreadParticipants(j,a),o(j.threadKey,a)])),m=l[0],n=l[1];l=l[2];var q=m[0];m=m[1];var r=d("LSMessagingThreadTypeUtil").isOneToOne(j.threadType),s=d("LSMessagingThreadTypeUtil").isGroup(j.threadType)?(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP):(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT),t=null;r===!0&&(t=(yield d("MWGetOtherContactOrSelf").getOtherContactOrSelf(j.threadKey,e,a)));return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(j.threadName,e,n,j.threadType).toString(),id:(i||(i=d("I64"))).to_string(j.threadKey),imageUrl:q,isAiBot:i.equal(j.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:r,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(j.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,j),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,j),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,j),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,j),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,j),isVerified:t!=null?d("LSContactBitOffset").has(23,t):!1,matchedTerms:g,otherUserId:t?(i||(i=d("I64"))).to_string(t.id):void 0,rankingScore:l,resultType:d("MWChatTemporarySearchResult").getResultType(s),searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(j.threadType),searchSource:"secure",secondaryImageUrl:m,section:"",subtext:p(f,j,e,n),threadKey:j.threadKey,threadType:j.threadType}});return r.apply(this,arguments)}function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));return d("MAWChatJid").toThreadKeyMaybe(a.tables,b).then(function(b){return b==null?null:d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)).then(function(g){return g==null?null:d("MWSearchThreadUtils").getThreadPics(g,f,a).then(function(a){var f,h=a[0];a=a[1];return{displayName:(f=g.threadName)!=null?f:"",id:(i||(i=d("I64"))).to_string(b),imageUrl:h,isAiBot:i.equal(g.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:g!=null&&d("LSThreadBitOffset").has(214,g),isTTLCClipEnabled:g!=null&&d("LSThreadBitOffset").has(226,g),isTTLCGenericXMAShareEnabled:g!=null&&d("LSThreadBitOffset").has(231,g),isTTLCMediaShareEnabled:g!=null&&d("LSThreadBitOffset").has(228,g),isTTLCStoryShareEnabled:g!=null&&d("LSThreadBitOffset").has(229,g),isVerified:!1,matchedTerms:e,resultType:d("MWChatTemporarySearchResult").getResultType(k.ofNumber(c("LSSearchType").GROUP)),searchResultType:3,searchSource:"secure",secondaryImageUrl:a,section:"",subtext:(f=g.threadDescription)!=null?f:"",threadKey:b}})})})});return t.apply(this,arguments)}function u(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton);a=(yield (h||(h=b("Promise"))).all(a.map(function(a){switch(a.recordType){case"msg":var b=a.msg,d=b==null?void 0:b.msgId;return b==null||d==null?null:l(e,a.chatJid,d,b.content,a.matchedTerms);case"groupInfo":return s(e,a.groupJid,a.matchedTerms);case"participant":return q(e,a.threadJid,c,a.matchedTerms)}})));return a.filter(Boolean)});return v.apply(this,arguments)}function w(a,b,e){return a.filter(function(a){a=(k||(k=d("LSIntEnum"))).ofNumber(d("MWChatSearchResultTypeMapping").mapMWChatSearchResultTypeToLSSearchType(a.resultType));var f=b.includes(a);if(!f)return!1;f=(i||(i=d("I64"))).equal(a,k.ofNumber(c("LSSearchType").GROUP));return!f||e})}function a(a,b,c,e){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:e.query,searchMode:d("MAWBridgeSearchMsg").NON_MESSAGE_CONTENT_SEARCH},{timeoutMs:1e4}).then(function(a){return u(a,b)}).then(function(b){return w(b,a,c)})}g.filterSearchResults=w;g.fetchResults=a}),98);
__d("mwGroupEntriesForDisplay",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f,g;if(c){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}g=g;e=(e=g.rawData.section)!=null?e:"";f=(f=b.get(e))!=null?f:[];f.push(g);b.set(e,f)}return b}f.mwGroupEntriesForDisplay=a}),66);
__d("MWChatSearchLightspeedTypeaheadViewList.react",["MWCMLightSpeedChatTabActionViewItems.react","MWXText.react","getItemRoleFromCompositeRole","mwGroupEntriesForDisplay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a){var b=a.activeEntryKey,d=a.children,e=a.entries,f=a.itemRole;a=a.title;var g="chatSearchListHeading-"+a.toString().replace(/\s/g,"-");return e!=null&&e.length>0?i.jsxs("li",{className:"xexx8yu xsyo7zv x18d9i69 x16hj40l",children:[a?i.jsx("div",{className:"x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:i.jsx(c("MWXText.react"),{id:g,isSemanticHeading:!0,type:"entityHeaderMeta1",children:a})}):null,i.jsx("ul",{"aria-labelledby":g,children:e.map(function(a,c){var e=b===a.key;return d({entry:a,index:c,isActive:e,itemRole:f})})})]}):null}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.showActionItems,e=a.ariaProps,f=a.children,g=a.entries,h=a.highlightedEntry;a=babelHelpers.objectWithoutPropertiesLoose(a,["showActionItems","ariaProps","children","entries","highlightedEntry"]);var l=h!=null?h.key:null;a=j(function(){return d("mwGroupEntriesForDisplay").mwGroupEntriesForDisplay(g)},[g]);var m=c("getItemRoleFromCompositeRole")(e.role);return i.jsxs("ul",{"data-testid":void 0,role:"listbox",children:[b&&i.jsx(c("MWCMLightSpeedChatTabActionViewItems.react"),{}),Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return i.jsx(k,{activeEntryKey:l,children:f,entries:a,itemRole:m,title:b},b)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSSearchIssueSearchQuerySupportedTypes",["LSIntEnum","LSSearchType","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)].concat(c("gkx")("24112")?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL)]:[],c("qex")._("136")||c("gkx")("24114")?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").AI_BOT)]:[]);b=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT)];e=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)];f=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)];var i=[h.ofNumber(c("LSSearchType").CONTACT)];d=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("gkx")("26356")===!0?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[]);var j=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT)],k=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)],l=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").NONCONTACT)];c=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT)];g.allSupportedTypes=a;g.supportedTypesForMSplitUser=b;g.allSupportedTypesWithMessageSearch=e;g.armadilloSupportedTypes=f;g.onlyContacts=i;g.broadcastFlowSupportedTypes=d;g.addParticipantBase=j;g.addParticipantXac=k;g.socialChannelsSupportedTypes=l;g.communityDirectInviteSupportedTypes=c}),98);
__d("MWPSearchOfflineOpenConversations",["gkx","minisearch"],(function(a,b,c,d,e,f,g){"use strict";e=c("gkx")("23913");f=e?{fuzzy:0,prefix:!0}:{fuzzy:.2,prefix:!0};var h=new(c("minisearch"))({fields:["content"],searchOptions:f,storeFields:["category"]});function a(a){return h.search(a)}function b(a){h.add(a)}function d(a){h.remove(a)}g.search=a;g.add=b;g.remove=d}),98);
__d("MWPSearchOfflineSearchTypes",[],(function(a,b,c,d,e,f){"use strict";a="Contact";b="ThreadName";c="ThreadParticipant";d={Contact:a,ThreadName:b,ThreadParticipant:c};f.MWPSearchType=d}),66);
__d("MWPSearchOfflineOpenConversationsUtils",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactBlockedByViewerStatus","LSInitSyncCompleteSubscription","LSIntEnum","LSMessagingThreadTypeUtil","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResult","MWPSearchOfflineOpenConversations","MWPSearchOfflineSearchTypes","MWSearchThreadUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return"p__"+(j||(j=d("I64"))).to_string(a)+"__"+j.to_string(b)}function e(a,c){if(n.contents==null)return(h||(h=b("Promise"))).resolve([]);var e=n.contents,f=d("MWPSearchOfflineOpenConversations").search(a).filter(function(a){return o(a,c)!==!0});return d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(e,(i||(i=d("LSIntEnum"))).ofNumber(7)).then(function(){return k(e,f,a)})}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){c=(yield (h||(h=b("Promise"))).all(c.map(function(c){var f=c.category.type;if(f==null)return(h||(h=b("Promise"))).resolve();switch(f){case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant:f=p(c.id);if(f!=null){f=f[0];return u(a,(j||(j=d("I64"))).to_string(f),c.terms)}else return(h||(h=b("Promise"))).resolve();case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName:return u(a,c.id,c.terms);case d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact:return q(a,c.id,c.terms,e)}})));c=m(c.filter(Boolean));return c});return l.apply(this,arguments)}function m(a){var b=a.filter(function(a){return a.resultType!==c("MWChatSearchResultType").GROUP}).sort(x);a=a.filter(function(a){return a.resultType===c("MWChatSearchResultType").GROUP}).sort(x);b=b.concat(a);return b}var n={contents:void 0};function o(a,b){if(b)return!1;b=a.category;return(b==null?void 0:b.type)==="Contact"?!1:!0}function p(a){a=a.split("__");if(a.length!==3)return;else return[(j||(j=d("I64"))).of_string(a[1]),j.of_string(a[2])]}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((j||(j=d("I64"))).of_string(e))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.ig_contact_info).getKeyRange(j.of_string(e))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.ranking_scores).getKeyRange(j.of_string(e),(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH)))]));e=a[0];var k=a[1];a=a[2];if(e==null||s(e,g))return;return d("MWChatTemporarySearchResult").fromContact((g=a)!=null?g:void 0,void 0,e,(a=k)!=null?a:void 0,"offline",f)});return r.apply(this,arguments)}function s(a,b){var e=d("LSContactBitOffset").hasWithDefault(66,a,!1);return a.isMemorialized===!0||(j||(j=d("I64"))).equal(a.contactViewerRelationship,(j||(j=d("I64"))).one)||!(j||(j=d("I64"))).equal(a.blockedByViewerStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))||e&&t(a.name,b)}function t(a,b,c){c===void 0&&(c=.7);a=a.trim().toLowerCase();b=b.trim().toLowerCase();b=!a.startsWith(b)||b.length/a.length<c;return b}function u(a,b,c){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){c=(yield (h||(h=b("Promise"))).all([d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})),d("ReQL").firstAsync(d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange((j||(j=d("I64"))).of_string(c)).filter(function(a){return!w(a)}),d("ReQL").fromTableAscending(a.tables.ig_thread_info).getKeyRange(j.of_string(c))))]));var f=c[0];c=c[1];if(c==null)return(h||(h=b("Promise"))).resolve();var g=c[0];c=c[1];a=(yield h.all([d("MWSearchThreadUtils").getThreadPics(g,f,a),d("MWSearchThreadUtils").getThreadParticipants(g,a)]));var i=a[0];a=a[1];var k={contactId:j.zero,contactType:j.zero,score:j.to_float(g.lastActivityTimestampMs),scoreIndex:j.zero,scoreType:j.zero};return d("MWChatTemporarySearchResult").fromThread(g,"offline",f,i[0],i[1],a,k,e,c)});return v.apply(this,arguments)}function w(a){return a.folderName!=="inbox"||d("LSMessagingThreadTypeUtil").isChannelPreview(a.threadType)||d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&(j||(j=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))}function x(a,b){a=a.rankingScore;a=a!=null?a.score:0;b=b.rankingScore;b=b!=null?b.score:0;if(b>a)return 1;return b<a?-1:0}g.getGroupParticipantKey=a;g.search=e;g.searchHelper=k;g.db=n}),98);
__d("MWLSSyncRankings",["LSIntEnum","MWLSDatabaseLazySync","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1};function a(a){if(!i.contents){i.contents=!0;c("promiseDone")(d("MWLSDatabaseLazySync").sync(a,(h||(h=d("LSIntEnum"))).ofNumber(7)),function(){j.contents=!0});return}}function b(){return j.contents}g.sync=a;g.isDone=b}),98);
__d("MWPSearchIndexingSource",["I64","LSIntEnum","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.contacts))}function b(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.threads).filter(function(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2))}))}function c(a,b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.participants).filter(function(b){return!(h||(h=d("I64"))).equal(b.contactId,a)}).map(function(a){a=[a,d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a.contactId),f.id+":49")];return a}))}g.fetchContacts=a;g.fetchGroupThreads=b;g.fetchGroupParticipants=c}),98);
__d("MWPSearchOpenIndexer",["I64","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversationsUtils","MWPSearchOfflineSearchTypes","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map(),k=new Map(),l=new Map();function m(a){var b=a.id;a=a.name;b=(i||(i=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);j.set(b,a)}function n(a){var b=j.get(a);if(b!=null){j["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function o(a){var b=a.threadKey;a=a.threadName;if(a==null)return;b=(i||(i=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);k.set(b,a)}function p(a){var b=k.get(a);if(b!=null){k["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function q(a,b){if(b==null)return;var c=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a.threadKey,a.contactId);b=b.name;a.nickname!=null&&(b+=" "+a.nickname);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant},content:b.trim(),id:c};d("MWPSearchOfflineOpenConversations").add(a);l.set(c,a)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b.contactId)));return q(b,a)});return s.apply(this,arguments)}function t(a,b){a=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a,b);b=l.get(a);if(b!=null){l["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function a(a,b){switch(b.operation){case"add":return m(b.value);case"put":n((i||(i=d("I64"))).to_string(a));return m(b.value);case"delete":return n((i||(i=d("I64"))).to_string(a))}}function c(a,b){switch(b.operation){case"add":return o(b.value);case"put":p((i||(i=d("I64"))).to_string(a));return o(b.value);case"delete":return p((i||(i=d("I64"))).to_string(a))}}function e(a,c,d,e){switch(e.operation){case"add":return r(a,e.value);case"put":t(c,d);return r(a,e.value);case"delete":return(h||(h=b("Promise"))).resolve(t(c,d))}}function f(a,b,c,e){d("MWPSearchOfflineOpenConversationsUtils").db.contents=a,b.forEach(m),c.forEach(o),e.forEach(function(a){var b=a[0];a=a[1];return q(b,a)})}g.onContactChanged=a;g.onGroupThreadChanged=c;g.onGroupParticipantChanged=e;g.startInitialIndex=f}),98);
__d("MWPSearchSystem",["CurrentUser","FBLogger","I64","JSScheduler","LSClearTablesStoredProcedure","LSFactory","LSIntEnum","MWChatSearchInsertRankingContacts","MWLSSyncRankings","MWPSearchIndexingSource","MWPSearchOpenIndexer","Promise","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l={contents:!1},m={contents:!1},n={contents:!1},o=c("gkx")("24168");function a(a){if(!n.contents){n.contents=!0;(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){d("MWChatSearchInsertRankingContacts").insertRankingContacts(a);d("MWLSSyncRankings").sync(a);var e=(k||(k=d("I64"))).of_string(c("CurrentUser").getID());l.contents||(l.contents=!0,c("promiseDone")((h||(h=b("Promise"))).all([d("MWPSearchIndexingSource").fetchContacts(a),o?d("MWPSearchIndexingSource").fetchGroupThreads(a):(h||(h=b("Promise"))).resolve([]),o?d("MWPSearchIndexingSource").fetchGroupParticipants(e,a):(h||(h=b("Promise"))).resolve([])]).then(function(b){var c=b[0],e=b[1];b=b[2];d("MWPSearchOpenIndexer").startInitialIndex(a,c,e,b)}),function(){m.contents=!0},function(a){c("FBLogger")("messenger_web_search").catching(a).mustfix("Error indexing contacts for search")}),d("ReQL").fromTableAscending(a.tables.contacts).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onContactChanged(a,b)}),o&&(d("ReQL").fromTableAscending(a.tables.threads).filter(function(a){return(k||(k=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(2))}).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onGroupThreadChanged(a,b)}),d("ReQL").fromTableAscending(a.tables.participants,["contactId","threadKey","nickname"]).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).subscribe(function(b,e){var f=b[0];b=b[1];c("promiseDone")(d("MWPSearchOpenIndexer").onGroupParticipantChanged(a,f,b,e))})))});return}}function e(a){return a.runInTransaction(function(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a),{clearMessageResults:!1})},"readwrite",void 0,void 0,f.id+":123")}function p(){if(d("MWLSSyncRankings").isDone()&&d("MWChatSearchInsertRankingContacts").isDone())return m.contents;else return!1}g.makeAll=a;g.clearAll=e;g.isDone=p}),98);
__d("MWStaticSearchEntries",["fbt","MWChatSearchResultType"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=h._("__JHASH__jyy97B7ulae__JHASH__",[h._param("param",a)]).toString();return{key:a,label:b,rawData:{displayName:b,id:a,imageUrl:"",isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:!1,isEPD:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,resultType:c("MWChatSearchResultType").MESSAGE,secondaryImageUrl:"",subtext:""},type:"entry"}}g.createMessageSearchHeaderEntry=a}),226);
__d("createMWChatSearchTypeaheadDataEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{key:a.id,label:a.displayName,rawData:{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:a.defaultE2eeThreadOneToOne,defaultE2eeThreads:a.defaultE2eeThreads,displayName:a.displayName,hasCutoverThread:a.hasCutoverThread,id:a.id,igid:a.resultIgid,imageUrl:a.imageUrl,isAiBot:a.isAiBot,isContact:a.isContact,isDisappearingModeSettingOn:a.isDisappearingModeSettingOn,isE2EE:a.isE2EE,isEPD:a.isEPD,isGroupsXacEligible:Boolean(a.isGroupsXacEligible),isInstagramAccount:Boolean(a.isInstagramAccount),isInstamadilloCutover:a.isInstamadilloCutover,isInteropEligible:a.isInteropEligible!==!1,isTTLCClipEnabled:Boolean(a.isTTLCClipEnabled),isTTLCGenericXMAShareEnabled:Boolean(a.isTTLCGenericXMAShareEnabled),isTTLCMediaShareEnabled:Boolean(a.isTTLCMediaShareEnabled),isTTLCStoryShareEnabled:Boolean(a.isTTLCStoryShareEnabled),isViewerUnconnected:a.isViewerUnconnected,isWAEligible:a.isWAEligible,otherUserId:a.otherUserId,rankingScore:a.rankingScore,renderIndex:b,resultType:a.resultType,searchResultType:a.searchResultType,searchSource:a.searchSource,secondaryImageUrl:(b=a.secondaryImageUrl)!=null?b:"",section:a.section,serverSearchResult:a.serverSearchResult,subtext:a.subtext,subtextAdditional:a.subtextAdditional,supportsE2eeSpamdStorage:a.supportsE2eeSpamdStorage,threadType:a.threadType,verificationStatus:a.isVerified?"BLUE_VERIFIED":"NOT_VERIFIED",waAddressable:a.waAddressable,waEligibility:a.waEligibility},type:"entry"}}f["default"]=a}),66);
__d("filterInstagramContactsMWChatSearchLocalEntries",["MWChatSearchSurfaces"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return b===c("MWChatSearchSurfaces").instagramAll?a:a.filter(function(a){return!a.isInstagramAccount})}g["default"]=a}),98);
__d("mwChatSearchPayloadDecoratorRemoveExcluded",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){var c=b.entries;b=babelHelpers.objectWithoutPropertiesLoose(b,["entries"]);return babelHelpers["extends"]({entries:c.filter(function(b){return!a.includes(b.key)})},b)}}f["default"]=a}),66);
__d("mwChatSearchPayloadEnumerate",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries;a=babelHelpers.objectWithoutPropertiesLoose(a,["entries"]);var c=b.reduce(function(a,b,c){b=b.rawData.section;if(b==null)return a;b===""&&a.set(b,0);var d=a.get(b);d=d==null?c:Math.min(d,c);a.set(b,d);return a},new Map());b=b.map(function(a,b){var d=a.key,e=a.label;a=a.rawData;var f=a.section;return{key:d,label:e,rawData:babelHelpers["extends"]({},a,{renderIndex:b,sectionRenderIndex:f==null?-1:c.get(f)}),type:"entry"}});return babelHelpers["extends"]({entries:b},a)}f["default"]=a}),66);
__d("sortMWChatSearchLocalEntries",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h={group:1,message:2,messages:3,page:4,user:0},i=c("gkx")("23913");function a(a,b){var c={};for(var d=0;d<a.length;d++){var e=a[d];c[e.id]=(e=e.rankingScore)==null?void 0:e.score}return a.sort(function(a,d){var e=h[a.resultType],f=h[d.resultType];if(e!==f)return e-f;if(i&&b.length>1){e=(f=(e=a.matchedTerms)==null?void 0:e.length)!=null?f:0;f=(f=(f=d.matchedTerms)==null?void 0:f.length)!=null?f:0;if(f!==e)return f-e}e=(f=c[a.id])!=null?f:0;f=(a=c[d.id])!=null?a:0;return f-e})}g["default"]=a}),98);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","LSIntEnum","MNetRankType","MWChatSearchFetchRecommendations","MWChatSearchFilteringUtils","MWChatSearchIssueLightspeedQuery","MWChatSearchSurfaces","MWLSSearchIssueSearchQuerySupportedTypes","MWPSearchOfflineOpenConversationsUtils","MWPSearchSystem","MWStaticSearchEntries","Promise","asyncToGeneratorRuntime","cr:3752","createMWChatSearchTypeaheadDataEntry","filterInstagramContactsMWChatSearchLocalEntries","isArmadillo","isSearchQualityEnabled","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","promiseDone","relay-runtime/network/RelayObservable","sortMWChatSearchLocalEntries"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=10,k=10,l=c("isArmadillo")();a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:f;var g=a.source;g=g===void 0?c("MWChatSearchSurfaces").universal:g;var h=a.includeRecommendations;h=h===void 0?!0:h;var j=a.includeGroupSearch;j=j===void 0?!1:j;var k=a.includeMessageSearchEntry;k=k===void 0?!0:k;a=a.nullstateRankType;a=a===void 0?(i||(i=d("LSIntEnum"))).ofNumber(c("isSearchQualityEnabled")()?c("MNetRankType").MESSENGER_BLENDED_NULLSTATE:c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a;this.$1=[];this.$5=function(){};this.$1=e;this.$2=g===c("MWChatSearchSurfaces").omnipickerArmadillo?d("MWLSSearchIssueSearchQuerySupportedTypes").armadilloSupportedTypes:f;this.$3=g;this.$4=b;this.$6=h;this.$7=j;this.$8=k;this.$9=a;d("MWPSearchSystem").makeAll(b)}var e=a.prototype;e.resolveData=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=[].concat(this.$8&&a.query.length>1?[d("MWStaticSearchEntries").createMessageSearchHeaderEntry(a.query)]:[],b);b=d("MWChatSearchFilteringUtils").dedupeByThreadKey(b);b=(yield d("MWChatSearchFilteringUtils").filterSearchResults(this.$3,b,this.$4,!1,l));var e=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);return c("mwChatSearchPayloadEnumerate")(e({entries:b,params:a}))});function e(b,c){return a.apply(this,arguments)}return e}();e.fetchNetwork=function(a){var e=this;this.$5();return c("relay-runtime/network/RelayObservable").create(function(f){if(a.query.length===0){e.$5=e.fetchNullstateResults(a,f);return}var g=[],i=[],l=!1,m=(h||(h=b("Promise"))).allSettled([b("cr:3752")!=null?b("cr:3752").fetchResults(e.$2,e.$3,e.$7,a):(h||(h=b("Promise"))).resolve([]),e.$3!==c("MWChatSearchSurfaces").broadcast?d("MWPSearchOfflineOpenConversationsUtils").search(a.query,e.$7):(h||(h=b("Promise"))).resolve([])]).then(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var h=b[0];b=b[1];h=h.status==="fulfilled"?h.value:[];b=b.status==="fulfilled"?b.value:[];b=j<=0?b:b.slice(0,j);h=k<=0?h:h.slice(0,k);g=b.concat(h);g=c("sortMWChatSearchLocalEntries")(g,a.query);g=d("MWChatSearchFilteringUtils").filterLocalSearchResults(g,e.$3);b=(yield e.resolveData(a,g.concat(i)));l||f.next(b)});return function(a){return h.apply(this,arguments)}}())["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}),n=d("MWChatSearchIssueLightspeedQuery").requestResults(e.$4,e.$2,e.$3,e.$7,a,function(j){i=j;j=a.query.length>0&&d("MWPSearchSystem").isDone()?m:(h||(h=b("Promise"))).resolve();c("promiseDone")(j["finally"](b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield e.resolveData(a,g.concat(i)));f.next(b);f.complete()})))});e.$5=function(){n(),l=!0}})};e.fetchNullstateResults=function(a,e){var f=this;if(!this.$6){e.next({entries:[],params:a});e.complete();return function(){}}return d("MWChatSearchFetchRecommendations").requestRecommendations(this.$4,this.$2,this.$9,this.$3,a,function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("filterInstagramContactsMWChatSearchLocalEntries")(b,f.$3);b=(yield f.resolveData(a,b));e.next(b);e.complete()});return function(a){return d.apply(this,arguments)}}())};e.setExcludedIds=function(a){this.$1=a};return a}();g["default"]=a}),98);
__d("SearchTransportType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARMADILLO:1,TINCAN:2,OPEN_THREAD:3,IG_DJANGO:4,IG_ADVANCED_CRYPTO_TRANSPORT:5,IG_MESSENGER_INFRA:6});c=a;f["default"]=c}),66);
__d("UniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("844");b=d("FalcoLoggerInternal").create("universal_search_end",a);e=b;g["default"]=e}),98);
__d("UniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("846");b=d("FalcoLoggerInternal").create("universal_search_result_selected",a);e=b;g["default"]=e}),98);
__d("UniversalSearchUISectionType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NULL_STATE_RECENTS:1,NULL_STATE_RECENTS_SEE_ALL:2,NULL_STATE_SUGGESTED:3,NULL_STATE_XAC_FOLLOWING:4,QUERY_SUGGESTED:5,QUERY_NON_FOLLOWING:6,QUERY_XAC_FOLLOWING:7,QUERY_XAC_NON_FOLLOWING:8,QUERY_BUSINESSES:9,QUERY_MESSAGES:10,OTHER:11,QUERY_NON_BUSINESSES:12,COMMUNITY_CHATS:13,MORE_COMMUNITY_CHATS:14,RELEVANT_SHARES:15,LATEST_SHARES:16,RECOMMENDED_COMMUNITIES:17,COMMUNITIES_AND_MORE:18,CHANNELS:19,NULL_STATE_NON_FOLLOWING:20,JOINED_CM_AND_CHANNEL:21,JOINED_CM_AND_CHANNEL_SEE_MORE:22,RECOMMENDED_CM_AND_CHANNEL:23,RECOMMENDED_CM_AND_CHANNEL_SEE_MORE:24,AI:25,AI_SEE_MORE:26,CHANNELS_SEE_MORE:27,UNJOINED_COMMUNITY_CHATS:28,MORE_UNJOINED_COMMUNITY_CHATS:29,NS_SUGGESTED_CHANNELS:30,NS_SUGGESTED_CHANNELS_SEE_MORE:31,NULL_STATE_MESSAGES:32,NULL_STATE_SUGGESTED_PROMPT:33,NULL_STATE_PYMK:34,QUERY_SUGGESTED_PROMPT:35,INVITE_TO_INSTAGRAM:36,INVITE_TO_INSTAGRAM_SEE_MORE:37,NULL_STATE_GROUP_CHATS:38,NULL_STATE_GROUP_CHATS_SEE_MORE:39,QUERY_NON_FOLLOWING_SEE_MORE:40,META_AI_SNIPPET:41});c=a;f["default"]=c}),66);
__d("MWSearchLogging",["$InternalEnum","I64","LSMessagingThreadTypeUtil","UniversalSearchEndFalcoEvent","UniversalSearchResultSelectedFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"non_contacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups"}),j=function(a){switch(a){case"server":return[1,2];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}};function k(a){return a===!0?1:3}function a(a){return a===!0?0:2}function l(a,b){var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;if(a==="")return 3;if(c!=="server"||d==="")return 5;a=i.cast(b);if(a==null)return 11;switch(a){case i.CM_THREADS:return 13;case i.CONTACTS_GROUPS:return 5;case i.NON_CONTACTS:return 6;case i.PAGES:return 9;default:return 11}}function m(a){return((a=a)!=null?a:-1).toString()}function e(a,b,e,f){var g=e.rawData;e=g.id;var i=g.isE2EE,n=g.isEPD,o=g.renderIndex,p=g.searchResultType,q=g.searchSource,r=g.serverSearchResult,s=m(o),t=e,u=k(i);if(r!=null){t=(o=r.resultId)!=null?o:t;u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(r==null?void 0:r.threadType)?1:3;s=(h||(h=d("I64"))).to_string(r.globalIndex)}c("UniversalSearchResultSelectedFalcoEvent").log(function(){var d;return{data_sources:j(q),is_epd:c("gkx")("23390")||n,search_result:{query_string:b,result_fbid:t,result_index:s,result_type:(d=p)!=null?d:7},session_id:a,transport_type:u,ui_section:l(b,g)}});f.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:7,is_epd:c("gkx")("24110")||n,session_id:a,transport_type:u}}),f.current=!0)}g.SectionAnalyticsNameType=i;g.getLoggingDataSources=j;g.getTransportType=k;g.getLsTransportType=a;g.mapSectionToSearchUISection=l;g.logResultSelected=e}),98);
__d("UniversalSearchImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("845");b=d("FalcoLoggerInternal").create("universal_search_impression",a);e=b;g["default"]=e}),98);
__d("useUniversalSearchImpressionFalcoEvent",["MWSearchLogging","UniversalSearchImpressionFalcoEvent","emptyFunction","gkx","react","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.cmGroupId,e=a.entry,f=a.instanceId,g=a.isCommunityChat,h=a.queryString,j=e.rawData;a=j.id;var k=j.isE2EE,l=j.isEPD;e=j.renderIndex;var m=j.searchResultType,n=j.searchSource;a=a;var o=a,p=((a=e)!=null?a:-1).toString();e=i(function(){if(f==null)return;c("UniversalSearchImpressionFalcoEvent").log(function(){var a;return{cm_group_id:b,data_sources:d("MWSearchLogging").getLoggingDataSources(n),impression_selected:!1,is_epd:l,search_result:{query_string:h,result_fbid:o,result_index:p,result_type:(a=m)!=null?a:7},session_id:f,transport_type:d("MWSearchLogging").getTransportType(k),ui_section:d("MWSearchLogging").mapSectionToSearchUISection(h,j)}})},[f,b,n,l,h,o,p,m,k,j]);return c("usePartialViewImpression")({onImpressionStart:g||c("gkx")("24109")?e:c("emptyFunction")})}g["default"]=a}),98);
__d("MWJewelSearchTypeaheadViewItem.react",["fbt","ix","BaseMiddot.react","CometPageVerificationIcon.react","CometTypeaheadViewItem.react","ConstUriUtils","CurrentEnvironment","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchType","MAWThreadCutover","MWCMIsAnyCMThread","MWChatFacepile.react","MWChatProfile.react","MWChatSearchResultType","MWSearchLogging","MWXIcon.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","UniversalSearchResultSelectedFalcoEvent","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","cr:393","cr:4538","cr:4539","cr:7325","deferredLoadComponent","fbicon","gkx","isTlcSearchEnabled","justknobx","qpl","react","requireDeferred","useCometMessengerhasDefaultThreadOneToOneCapability","useMWNavigation","useReStore","useUniversalSearchImpressionFalcoEvent"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||(m=d("react")),o=m.useState,p=c("deferredLoadComponent")(c("requireDeferred")("MAWChatVerifyCutover.react").__setRef("MWJewelSearchTypeaheadViewItem.react")),q=c("isTlcSearchEnabled")(),r={contentRoot:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"xdj266r",marginBottom:"xat24cr",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",":hover_backgroundColor":"x8du52y",$$css:!0}};function s(a){var b=(j||(j=c("useReStore")))(),e=d("MAWThreadCutover").useIsCutoverSecureThread(a);b=c("useCometMessengerhasDefaultThreadOneToOneCapability")(b,a);return e||b}var t=function(a){if(a!=null){a=a.loggingSessionId;return a}return null};function a(a){var e=a.entry,f=a.extraViewItemProps,g=a.onPressEntry,j=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","extraViewItemProps","onPressEntry","queryString"]);var m=e.rawData,u=m.communityId,v=m.id,w=m.imageUrl,x=m.isE2EE,y=m.isInstagramAccount,z=m.isInteropEligible,A=m.resultType,B=m.secondaryImageUrl,C=m.section,D=m.serverSearchResult,E=m.subtext,F=m.subtextAdditional,G=m.threadType;m=m.verificationStatus;u=u!=null?(k||(k=d("I64"))).of_string_opt(u):null;var H=b("cr:4538")==null?void 0:b("cr:4538")(),I=b("cr:4539")==null?void 0:b("cr:4539")({onSuccess:function(a){return H==null?void 0:H(a)}}),J=G!=null&&c("MWCMIsAnyCMThread")(G),K=t(f);f=c("useUniversalSearchImpressionFalcoEvent")({entry:e,instanceId:K,isCommunityChat:J,queryString:j});var L=c("useMWNavigation")(),M=(D==null?void 0:D.threadType)!=null&&((k||(k=d("I64"))).to_int32(D.threadType)===151||(k||(k=d("I64"))).to_int32(D.threadType)===155&&c("gkx")("24052"))&&(D==null?void 0:D.type_)!=null&&(k||(k=d("I64"))).to_int32(D.type_)===c("LSSearchType").PUBLIC_CHANNEL&&(D==null?void 0:D.threadJoinLinkHash)!=null,N=(D==null?void 0:D.threadType)!=null&&(l||(l=d("LSIntEnum"))).toNumber(D.threadType)===153,O=(D==null?void 0:D.threadType)!=null&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(D.threadType),P=s((k||(k=d("I64"))).of_string_opt(v));x=x&&!P?h._("__JHASH__PXg4X26-RXS__JHASH__"):E;P=G?d("LSMessagingThreadTypeUtil").isOneToOne(G):!1;E=J&&u!=null&&b("cr:7325")?n.jsx(b("cr:7325"),{chatPictureUrl:w,size:28,threadKey:u}):A===c("MWChatSearchResultType").MESSAGE?n.jsx("div",{className:"x123j3cw x1mpkggp xs9asl8 x1t2a60a",children:n.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("491284"),24),size:24})}):B!==""?P?n.jsx(c("MWChatProfile.react"),{size:36,src:B}):n.jsx(c("MWChatFacepile.react"),{firstParticipantURI:w,secondParticipantURI:B,size:36}):n.jsx(c("MWChatProfile.react"),{size:36,src:w});G=o();u=G[0];A=G[1];P=e.rawData.otherUserId;var Q=(B=u)!=null?B:v,R=(M||N)&&(D==null?void 0:D.threadJoinLinkHash)!=null?(w=d("ConstUriUtils").getUri(D==null?void 0:D.threadJoinLinkHash))==null?void 0:w.getPath().split("/").reverse()[1]:void 0;G=c("CurrentEnvironment").facebookdotcom?c("XCometMessengerControllerRouteBuilder").buildURL({link_hash:R,thread_key:Q}):c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({link_hash:R,thread_key:Q});var S=e.rawData.resultType===c("MWChatSearchResultType").USER||e.rawData.resultType===c("MWChatSearchResultType").GROUP;u=babelHelpers["extends"]({},e,{key:Q,rawData:babelHelpers["extends"]({},e.rawData,{id:Q},P==null&&v!==Q?{otherUserId:v}:{})});B=function(){if(c("CurrentEnvironment").messengerdotcom===!0)return!1;return c("justknobx")._("1406")?!1:q===!0&&S};return n.jsx("div",{ref:f,children:n.jsxs(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:u,isDisabled:y===!0&&z===!1,itemStartContent:E,linkProps:{preventLocalNavigation:!0,url:G},onPressEntry:M?function(){(D==null?void 0:D.threadJoinLinkHash)!=null&&(I==null?void 0:I(D.threadJoinLinkHash))}:N?function(){L.openInbox({threadKey:(k||(k=d("I64"))).of_string(Q),threadLinkHash:R,threadType:(l||(l=d("LSIntEnum"))).ofNumber(153)},"jewelSearch")}:function(a,b){g(a,b),J===!0?(c("QPLUserFlow").endSuccess(c("qpl")._(25312244,"1683")),K!=null&&c("UniversalSearchResultSelectedFalcoEvent").log(function(){var a;return{data_sources:d("MWSearchLogging").getLoggingDataSources(e.rawData.searchSource),is_epd:c("gkx")("23390")||e.rawData.isEPD,search_result:{query_string:j,result_fbid:e.rawData.id,result_index:((a=e.rawData.renderIndex)!=null?a:-1).toString(),result_type:7},session_id:K,transport_type:3,ui_section:13}})):c("QPLUserFlow").endCancel(c("qpl")._(25312244,"1683"))},testid:void 0,xstyle:r.contentRoot,children:[B()?n.jsx(p,{id:v.toString(),updateThreadKey:A}):null,n.jsx(c("MWXTextPairing.react"),{body:n.jsxs(c("MWXText.react"),{numberOfLines:1,type:"body3",children:[e.label,m!=null&&!O?n.jsx("span",{className:"xurb0ha",children:n.jsx(c("CometPageVerificationIcon.react"),{size:"small",verificationBadge:m})}):null]}),level:3,meta:x&&x!==""?n.jsxs(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:[x,O&&Boolean(F)&&n.jsxs(n.Fragment,{children:[m!=null&&n.jsx("span",{className:"x1e558r4 xxymvpz",children:n.jsx(c("CometPageVerificationIcon.react"),{size:"small",verificationBadge:m})}),n.jsx(c("BaseMiddot.react"),{}),F]}),(C==null||C==="")&&Boolean(e.rawData.isInstagramAccount)?n.jsxs(n.Fragment,{children:[n.jsx(c("BaseMiddot.react"),{}),"Instagram"]}):null]}):null}),b("cr:393")!=null&&n.jsx(b("cr:393"),{rawData:u.rawData})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWChatSearchClearSearchResults",["LSClearTablesStoredProcedure","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":22"))},[a])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("AsyncTypedRequest",["AsyncRequest"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.setReplaceTransportMarkers();return b}var c=b.prototype;c.promisePayload=function(b){return a.prototype.promisePayload.call(this,b)};c.setPayloadHandler=function(b){a.prototype.setPayloadHandler.call(this,b);return this};return b}(c("AsyncRequest"));g["default"]=a}),98);
__d("BDSignalBufferData",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("SignalValueContext",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();f["default"]=a}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.signalType=a}var d=a.prototype;d.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};d.executeAsyncSignalCollection=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.executeSignalCollection());case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};d.getContext=function(){return new(c("SignalValueContext"))(a.getSanitizedURI())};d.throwIfNotInitialized=function(){if(!(this.signalType in c("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();g["default"]=a}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(a,b,c,d,e,f,g){"use strict";a="biometric_signal_collected";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.listenForSignals=function(){throw c("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw c("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return b}(c("BDSignalCollectorBase"));g.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;g.BDBiometricSignalCollectorBase=b}),98);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var b=a.prototype;b.getSignalCollector=function(){return c("SignalCollectorMap").get(this.signalType)};b.getBufferConfig=function(){return c("BDSignalBufferData")[this.signalType]};return a}();g["default"]=a}),98);
__d("BDLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};c="JS";f.LEVELS=a;f.OPERATIONS=b;f.COMPONENT_NAME=c}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};f["default"]=a}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.INFO,b,c,e)}function b(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.WARNING,b,c,e)}function e(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.ERROR,b,c,e)}function h(a,b,e,f,g){f===void 0&&(f={});if(d("Random").coinflip(i(e))){if(f===null)throw new Error("opeartion info null");f.source=a;new(c("BDOperationTypedLogger"))().setLevel(b).setDurationUs(g).setOperation(e).setComponent(d("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(f).log()}}function i(a){var b=d("BDLoggingConstants").OPERATIONS;switch(a){case b.APPEND_SIGNAL:case b.HB_COLLECTED:case b.GET_LOCAL_STORAGE_ERROR:case b.WEB_STORAGE:case b.SIGNAL_NOT_IMPLEMENTED:case b.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}g.logInfo=a;g.logWarning=b;g.logError=e;g.log=h;g.getFlipSamplingByOperation=i}),98);
__d("SignalErrorValueTypeDef",[],(function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalValueTypeDef",i="t",j="ctx",k="v",l="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var b=a.prototype;b.getTimeStampMS=function(){return this.$1};b.getSignalContext=function(){return this.$2};b.getSignalValue=function(){return this.$3};b.getSignalValueType=function(){return this.$4};b.isEqual=function(a,b){if(a==null){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&a.getSignalValueType()===m.ERROR)return this.equalValue(a);var c=!1;b.has(128)&&(c=this.equalValue(a));b.has(256)&&(c=c&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());b.has(512)&&(c=c&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return c};b.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};b.toJSON=function(a){var b={};a&&(b[i]=this.$1/1e3,this.$2!=null&&(b[j]=this.$2));this.$3==null?b[l]=new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(b);return b};b.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[k]=this.$3;else throw new Error("Must implement in the subclasses")};b.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();g.BD_VALUE=k;g.BD_ERROR=l;g.VALUE_TYPES=m;g.SignalValueTypeDef=a}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30004,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("HeartbeatObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();f["default"]=a}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatObject"))());return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38e3,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("KeyDownUpObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();f["default"]=a}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.listenForSignals=function(){var a=this;c("gkx")("21049")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};e.collectSignals=function(a){a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return a}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),i=null,j={signalType:30100,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("StringArrayObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();f["default"]=a}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("StringArrayObject"))(a));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30003,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30002,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h="BDTouchOrMouseSignalCollectorBase";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}var e=b.prototype;e.listenForSignals=function(){this.collectSignals(),this.addListeners()};e.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){try{document.addEventListener(b,a.handler)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{e:a})}})};e.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};e.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);g["default"]=a}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType,["mousedown","mousemove"],h)||this}return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30106,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.STRING)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.appVersion;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30013,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=navigator.hardwareConcurrency)!=null?a:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30018,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30093,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=function(e){babelHelpers.inheritsLoose(a,e);function a(){return e.call(this,j.signalType)||this}var f=a.prototype;f.executeAsyncSignalCollection=function(){var a,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.prev=0;if(!navigator.permissions){f.next=8;break}f.next=4;return b("regeneratorRuntime").awrap(navigator.permissions.query({name:"notifications"}));case 4:e=f.sent;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),e.state);f.next=9;break;case 8:a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"));case 9:f.next=14;break;case 11:f.prev=11,f.t0=f["catch"](0),a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"));case 14:return f.abrupt("return",{valueOrError:a});case 15:case"end":return f.stop()}},null,this,[[0,11]])};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30008,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30015,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){var a=null;try{var b=navigator.plugins?navigator.plugins.length:0,e=new Set();for(var f=0;f<b;f++){var g=navigator.plugins[f].filename;if(!g)continue;var i=g.indexOf(".");if(i==-1||i==g.length-1)continue;e.add(g.substr(i+1));if(e.size>=h)break}e.size&&(a=new(c("StringArrayObject"))(Array.from(e)))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),j=null,k={signalType:30019,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30094,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30012,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){var a;window.Notification?a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30007,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=new Date().getTimezoneOffset())!=null?a:999);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30040,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType,["touchstart","touchcancel"],h)||this}return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30107,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:3e4,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}a=Boolean(b);b=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30022,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30095,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("DimensionObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();f["default"]=a}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=window.innerHeight,b=window.innerWidth;b=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("DimensionObject"))(b,a));return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30005,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(a){switch(a){case 3e4:return c("BDWebdriverSignalCollector").get();case 30001:return c("BDPluginCountSignalCollector").get();case 30002:return c("BDMimeTypeCountSignalCollector").get();case 30003:return c("BDLanguagesSignalCollector").get();case 30004:return c("BDConnectionRTTSignalCollector").get();case 30005:return c("BDWindowOuterDimensionSignalCollector").get();case 30007:return c("BDNotificationPermissionSignalCollector").get();case 30008:return c("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return c("BDNavigatorVendorSignalCollector").get();case 30013:return c("BDNavigatorAppVersionSignalCollector").get();case 30015:return c("BDNavigatorPlatformSignalCollector").get();case 30018:return c("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return c("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return c("BDWebglSupportSignalCollector").get();case 30040:return c("BDTimezoneOffsetSignalCollector").get();case 30093:return c("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return c("BDNavigatorUserAgentSignalCollector").get();case 30095:return c("BDWindowHistoryLengthSignalCollector").get();case 30100:return c("BDKeyDownUpSignalCollector").get();case 30106:return c("BDMousePresenceSignalCollector").get();case 30107:return c("BDTouchPresenceSignalCollector").get();case 38e3:return c("BDHeartbeatSignalCollector").get();case 38001:return c("BDHeartbeatV2SignalCollector").get()}}};b=a;g["default"]=b}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(c("HeartbeatObject"));g["default"]=a}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatV2Object"))(c("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(a,b,c,d,e,f,g){"use strict";var h="BDClientConfig",i=function(){function a(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(c("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var b=a.prototype;b.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};b.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};b.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};b.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};b.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};b.setSID=function(a){this.sid=a;return this};b.setHeartbeatVersion=function(a){this.hbVersion=a;return this};b.getHeartbeatVersion=function(){return this.hbVersion};b.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};b.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};b.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};b.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};b.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};b.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};b.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};b.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};b.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};b.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};b.addSignalToClientConfig=function(a){var b=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(c("BDSignalWrapper"))(b,d);if(d===38001){this.heartbeatSignal=e;return this}!b.includes(2)?this.staticSignals.push(e):b.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};b.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};b.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};b.getDynamicSignals=function(){return this.dynamicSignals};b.getStaticSignals=function(){return this.staticSignals};b.getBiometricSignals=function(){return this.biometricSignals};b.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};b.getHeartbeatSignal=function(){return this.heartbeatSignal};b.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};b.setParsingDone=function(a){this.parsingDone=a};b.isParsingDone=function(){return this.parsingDone};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g["default"]=b}),98);
__d("BDCollectionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});f["default"]=a}),66);
__d("BotDetection_SignalFlags",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});f["default"]=a}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var b=a.prototype;b.getSignalId=function(){return this.signalId};b.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var b=Object.keys(c("BotDetection_SignalFlags"));b.forEach(function(b){(c("BotDetection_SignalFlags")[b]&a.signalFlags)===c("BotDetection_SignalFlags")[b]&&a.parsedSignalFlags.push(c("BotDetection_SignalFlags")[b])})}this.parsedSignalFlags.length===0&&d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};b.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();g["default"]=a}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerConfig";function a(a){var b=[];try{var e=JSON.parse(a.sc),f=new Map(e.c);f.forEach(function(a,d){return b.push(new(c("BDServerSignalConfig"))(d,a))});if(f.size===0){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}f=c("BDClientConfig").get();f.setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(b).setConfigGenerationTimeStamp(e.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}g.parseConfig=a}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(a,b,c,d,e,f,g){"use strict";var h="BDSignalBuffer";function a(a,b,d){if(a in c("BDSignalBufferData"))return;var e=1;b!==void 0&&(e=b);c("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:(b=d)!=null?b:[]}}function i(a){if(a in c("BDSignalBufferData"))c("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function b(a,b){if(a in c("BDSignalBufferData")){var e=c("BDSignalBufferData")[a],f=e.max_buffer_size;e.values.length>=f&&e.values.shift();e.values.push(b);d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function e(){var a=c("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in c("BDSignalBufferData")&&i(a.signalType)})}function f(a){var b;a=c("BDSignalBufferData")[a];b=a==null?void 0:(b=a.values)==null?void 0:b.length;return b!=null&&b>0?a.values[b-1]:{valueOrError:void 0}}function j(a){return c("BDSignalBufferData")[a].values}function k(a){var b={};for(var d=0;d<a.length;d++){var e=a[d];e in c("BDSignalBufferData")&&(b[e]=j(e).map(function(a){return a.valueOrError}))}return b}function l(a){a=m(a);return JSON.stringify(k(a))}function m(a){var b=c("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case c("BDCollectionTypeEnum").STATIC:d=[].concat(d,b.getStaticSignals());break;case c("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,b.getDynamicSignals());break;case c("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,b.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}g.initialize=a;g.clearBuffer=i;g.appendSignal=b;g.clearBiometricSignals=e;g.getLastSignalFormatBySignalId=f;g.retrieveSignal=j;g.retrieveSignals=k;g.getSignalsAsJSONString=l;g._getSignalIdsByCollectionType=m}),98);
__d("BDUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}f.uuid=a}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743095");b=d("FalcoLoggerInternal").create("bd_pdc_signals",a);e=b;g["default"]=e}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i="SignalCollectionManager",j=function(){function a(){var a=this;this.$1=!1;this.$6=function(b){if(b instanceof CustomEvent&&b.detail!=null&&b.detail.data!=null){var d=c("BDClientConfig").get().getBiometricSignalsMap().get(b.detail.signalId);d!=null&&a.$4(b.detail.data,d)}}}var e=a.prototype;e.collectSignals=function(a){var c=this,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=[];a.forEach(function(a){a.signalFlags.includes(4)?c.$2(a):d.push(c.$3(a))});e.next=4;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(d));case 4:case"end":return e.stop()}},null,this)};e.isEqualToLastCollectedSignal=function(a,b){var c=d("BDSignalBuffer").getLastSignalFormatBySignalId(b.signalType);return c.valueOrError==void 0?!1:a.isEqual(c.valueOrError,new Set(b.signalFlags))};e.getCircularBufferSize=function(a){var b=c("BDClientConfig").get(),d=b.getBufferSizeBySignalId(a.signalType);if(d!=null&&b.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return b.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return b.getBiometricSignalBufferSize();else return b.getDynamicSignalBufferSize()};e.$3=function(a){var c,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=a.getSignalCollector();if(!(c!=null)){f.next=12;break}f.prev=2;f.next=5;return b("regeneratorRuntime").awrap(c.executeAsyncSignalCollection());case 5:e=f.sent;this.$4(e,a);f.next=12;break;case 9:f.prev=9,f.t0=f["catch"](2),d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:f.t0});case 12:case"end":return f.stop()}},null,this,[[2,9]])};e.$2=function(a){this.$5();a=a.getSignalCollector();a!=null&&a instanceof d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};e.$5=function(){if(this.$1)return;window.addEventListener(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};e.$4=function(a,b){b.getBufferConfig()==null&&d("BDSignalBuffer").initialize(b.signalType,this.getCircularBufferSize(b),b.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,b)&&d("BDSignalBuffer").appendSignal(b.signalType,a)};return a}(),k=null;a={get:function(){k==null&&(k=new j());return k}};e=a;g["default"]=e}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","Promise","SignalCollectionManager","WebStorage","javascript-blowfish","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="BDClientSignalCollectionTrigger",k="signal_flush_timestamp",l=!1,m=!1,n=!1,o=!1,p=0,q=0,r=0,s=30,t=5,u,v,w=d("BDUtils").uuid(),x=c("BDClientConfig").get(),y=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),z={startSignalCollection:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:x.setSID(a.sid);if(l){c.next=15;break}l=!0;d("BDServerConfig").parseConfig(a);if(x.isParsingDone()){c.next=8;break}d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});l=!1;return c.abrupt("return");case 8:a!=null&&(q=a.hbcbc&&a.hbcbc>0?a.hbcbc:q,r=a.hbvbc&&a.hbvbc>0?a.hbvbc:r,s=a.hbbi&&a.hbbi>0?a.hbbi:s);z.startHeartbeatDelayed();v=new(i||(i=b("Promise")))(function(a,b){try{x.getDynamicSignals().length>0&&(z.collectDynamicSignals(),d("BDOperationLogHelper").logInfo(j,d("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),x.getBiometricSignals().length>0&&(z.collectBiometricSignals(),d("BDOperationLogHelper").logInfo(j,d("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),a()}catch(a){b(a)}});c.next=13;return b("regeneratorRuntime").awrap(v);case 13:c.next=15;return b("regeneratorRuntime").awrap(z.startSignalPosting());case 15:l&&!n&&!o&&t>0&&(t-=1,d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),z.startHeartbeatDelayed());case 16:case"end":return c.stop()}},null,this)},retrieveSignals:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(v);case 2:a.next=4;return b("regeneratorRuntime").awrap(z.postSignals([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC,c("BDCollectionTypeEnum").STATIC]));case 4:case"end":return a.stop()}},null,this)},postSignals:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(z.collectStaticSignals());case 2:z._postSignalsHelper(d("BDSignalBuffer").getSignalsAsJSONString(a),y.NONE)&&z.setTimestampInStorage(Date.now(),k);case 3:case"end":return c.stop()}},null,this)},_postSignalsHelper:function(a,b){if(a.length<=2)return!1;var e=x.getConfigGenerationTimeStamp(),f=z.encryptDataUsingAsid(w,a);a=function(){return{asid:w,ct:e,sjd:f,sid:x.sid}};var g=!1;try{b===y.CRITICAL?c("BdPdcSignalsFalcoEvent").logCritical(a):b===y.VITAL?c("BdPdcSignalsFalcoEvent").logImmediately(a):c("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.INVALID_LENGTH);return""}var b="";for(var c=0;c<8;c++)b+=String.fromCharCode(a.charCodeAt(c)^a.charCodeAt(8+c));return b},encryptDataUsingAsid:function(a,b){if(a.length!==36){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.INVALID_GUID);return b}a=a.slice(19,23)+a.slice(24,36);var e=z.getInitialVector(a);a=new(c("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(b,e))},startSignalPosting:function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a=z.getTimestampInStorage(k);c=Date.now()-a;if(!(c>=x.getAllTiersFlushDurationMs())){d.next=7;break}d.next=5;return b("regeneratorRuntime").awrap(z.postSignalsIntermittently());case 5:d.next=8;break;case 7:window.setTimeout(function(){z.postSignalsIntermittently()},x.getAllTiersFlushDurationMs()-c);case 8:case"end":return d.stop()}},null,this)},postSignalsIntermittently:function(){z.postSignals([c("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){z.postSignals([c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC])},x.getAllTiersFlushDurationMs())},setTimestampInStorage:function(a,b){var e=(h||(h=c("WebStorage"))).getLocalStorage();if(!e){d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}e=h.setItemGuarded(e,b,a.toString());e!=null&&d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:e.message})},getTimestampInStorage:function(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b){d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return 0}b=b.getItem(a);if(b==null)return 0;a=Number.parseInt(b,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){n=!1,o=!1},startHeartbeatDelayed:function(){if(n||o)return;var a=z.getTimestampInStorage(z.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=x.getHeartbeatIntervalMs()?z.startHeartbeat():(window.setTimeout(function(){return z.startHeartbeat()},x.getHeartbeatIntervalMs()-a),o=!0)}catch(b){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:x.getHeartbeatIntervalMs().toString(),e:b})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!n&&x.getHeartbeatIntervalMs()>0&&(z.collectHeartbeatTimes(q,r),p!==0&&(window.clearInterval(p),d("BDOperationLogHelper").logWarning(j,d("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),p=window.setInterval(function(){return z.collectHeartbeatTimes(q,r)},x.getHeartbeatIntervalMs()),n=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&z.collectHeartbeat(y.CRITICAL);b>0&&z.collectHeartbeat(y.VITAL);(a>1||b>1)&&window.setTimeout(function(){return z.collectHeartbeatTimes(a-1,b-1)},s*1e3)},collectHeartbeat:function(a){var b;b=x==null?void 0:(b=x.getHeartbeatSignal())==null?void 0:(b=b.getSignalCollector())==null?void 0:b.executeSignalCollection();if(b==null){d("BDOperationLogHelper").logError(j,d("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else d("BDOperationLogHelper").logInfo(j,d("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:a.toString()});z.postHeartbeat(a,b)&&z.setTimestampInStorage(Date.now(),z.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return z._postSignalsHelper(b,a)},collectStaticSignals:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(z.collectSignalsOneTime(x.getStaticSignals()));case 2:case"end":return a.stop()}},null,this)},collectDynamicSignals:function(){z.stopDynamicSignalCollection(),u=window.setInterval(function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(z.collectSignalsOneTime(x.getDynamicSignals()));case 2:case"end":return a.stop()}},null,this)},x.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){z.collectSignalsOneTime(x.getBiometricSignals())},stopDynamicSignalCollection:function(){u!=null&&(window.clearInterval(u),u=null)},collectSignalsOneTime:function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(c("SignalCollectionManager").get().collectSignals(a));case 2:case"end":return d.stop()}},null,this)},startLoginTimeSignalCollection:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:if(m){c.next=9;break}m=!0;d("BDServerConfig").parseConfig(a);c.next=5;return b("regeneratorRuntime").awrap(z.collectSignalsOneTime(x.getDynamicSignals()));case 5:c.next=7;return b("regeneratorRuntime").awrap(z.collectSignalsOneTime(x.getBiometricSignals()));case 7:c.next=9;return b("regeneratorRuntime").awrap(z.collectSignalsOneTime(x.getStaticSignals()));case 9:case"end":return c.stop()}},null,this)},getSignalsAsJSONString:function(){return d("BDSignalBuffer").getSignalsAsJSONString([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").BIOMETRIC])}};a=z;g["default"]=a}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("BDClientSignalCollectionTrigger").startSignalCollection(c("BDSignalCollectionData"))}g.initSignalCollection=a}),98);
__d("Chromedome",["fbt"],(function(a,b,c,d,e,f,g,h){function i(){if(document.domain==null)return null;var a=document.domain,b=/^intern\./.test(a);if(b)return null;b=/(^|\.)facebook\.(com|sg)$/.test(a);if(b)return"facebook";b=/(^|\.)instagram\.com$/.test(a);if(b)return"instagram";b=/(^|\.)threads\.net$/.test(a);if(b)return"threads";b=/(^|\.)messenger\.com$/.test(a);return b?"messenger":null}function j(a){if(a==="instagram")return h._("__JHASH__1V4qdh25Bnb__JHASH__");return a==="threads"?h._("__JHASH__JSeBwAKhGJH__JHASH__"):h._("__JHASH__S8hqZ4zKptW__JHASH__")}function a(a){if(top!==window)return;a=i();if(a==null)return;var b=h._("__JHASH__4REdQ6uuqzn__JHASH__");a=j(a);var c=h._("__JHASH__1jNE2MHDhX-__JHASH__",[h._param("url","https://www.facebook.com/selfxss")]),d="font-family:helvetica; font-size:20px; ";[[b,d+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[a,d],[c,d],["",""]].map(function(a){window.setTimeout(console.log.bind(console,"\n%c"+a[0].toString(),a[1]))})}g.start=a}),226);
__d("ClientConsistencyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1764786");b=d("FalcoLoggerInternal").create("client_consistency",a);e=b;g["default"]=e}),98);
__d("WebBrowserDimensionsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:WebBrowserDimensionsLoggerConfig")}),null);
__d("CometBrowserDimensionsLogger",["CometDebounce","Cookie","ExecutionEnvironment","SiteData","WebBrowserDimensionsTypedLoggerLite","getViewportDimensions","isInIframe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=!1,k={height:0,width:0};function l(){i===null&&(i=c("getViewportDimensions")());return i}function m(){var a=c("getViewportDimensions")(),b=a.height;a=a.width;(k.width!==a||k.height!==b)&&(k={height:b,width:a},c("Cookie").set("wd",a+"x"+b))}function n(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||c("isInIframe")()||j)return;j=!0;m();window.addEventListener("resize",c("CometDebounce")(m,{wait:250}),{passive:!0});window.addEventListener("focus",m,{passive:!0})}function a(a){var b,d=l();n();b={client_hint_width:a==null?void 0:a.clientHintWidth,pixel_ratio:(b=window.devicePixelRatio)!=null?b:1,screen_x:window.screen.width,screen_y:window.screen.height,server_pixel_ratio:c("SiteData").pr,server_viewport_x:a==null?void 0:a.viewportWidth,server_viewport_y:a==null?void 0:a.viewportHeight,viewport_x:d.width,viewport_y:d.height};window.navigator&&window.navigator.hardwareConcurrency&&(b.cpu_cores_count=window.navigator.hardwareConcurrency);if(window.innerWidth>0&&window.outerWidth>0){a=Math.round(window.outerWidth/window.innerWidth*100)/100;b.zoom_ratio=a}if(window.getComputedStyle&&document.documentElement!=null){d=window.getComputedStyle(document.documentElement);d!=null&&(b.document_font_size=d.fontSize)}c("WebBrowserDimensionsTypedLoggerLite").log(b)}g.init=a}),98);
__d("CometChromeDome",["JSScheduler","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("Chromedome").__setRef("CometChromeDome");function a(){i.onReady(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){a.start({})})})}g.init=a}),98);
__d("CometFBUncaughtError.react",["fbt","CometContentArea.react","NullStateGeneral","TetraNullState.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",{className:"x6s0dn4 x78zum5 x1dr59a3 xl56j7k xixxii4 xh8yej3",children:j.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:j.jsx(c("TetraNullState.react"),{headline:h._("__JHASH__GbFoxuI3sCw__JHASH__"),icon:c("NullStateGeneral")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometIconWirelessSlashFilled.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("CometSVGIcon.react"),babelHelpers["extends"]({viewBox:"0 0 24 24"},a,{children:i.jsx("path",{d:"M23.7805.2195c.2925.293.2925.768 0 1.061l-22.5 22.5C1.134 23.927.942 24 .75 24c-.192 0-.384-.073-.5305-.2195-.2925-.293-.2925-.768 0-1.061l12.1967947-12.1971509c-2.3773758-.1150468-4.79162015.7286756-6.6038447 2.5401009-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.024 0-1.414 2.65728981-2.65728981 6.3696459-3.62280965 9.8005664-2.90852144l2.430738-2.43186193C11.7816792 4.58111626 6.15198938 5.65271062 2.27735 9.52735c-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.0235 0-1.414 4.6714534-4.67191574 11.571522-5.78608437 17.3096457-3.34843552L22.7195.2195c.293-.2925.768-.2925 1.061 0zM12 18.5c.6905 0 1.25.5595 1.25 1.25S12.6905 21 12 21s-1.25-.5595-1.25-1.25.5595-1.25 1.25-1.25zm1.4175-4.81495c.9705.2455 1.8905.741 2.6485 1.499.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.512-.0975-.707-.293-.7835333-.7835333-1.8301422-1.1445778-2.8581093-1.0880116L11.574 15.52855l1.8435-1.8435zm3.8154-3.8154c.848.4725 1.649 1.059 2.3685 1.779.391.39.391 1.023 0 1.414-.195.195-.451.293-.707.293-.2555 0-.5115-.098-.707-.293-.7285-.728-1.5575-1.291-2.439-1.7085zm2.1908-2.1908l1.4425-1.4425c.8.545 1.5615 1.168 2.2705 1.877.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.5115-.0975-.707-.293-.5933333-.59333333-1.2283333-1.11861111-1.895162-1.57959491L19.4237 7.67885l1.4425-1.4425z"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNetworkStatusToast",["fbt","ix","BaseToasterStateManager","CometIconWirelessSlashFilled.react","CometRelayEnvironmentFactory","NetworkStatus","SVGIcon","TetraIcon.react","cometPushToast","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=null;function m(a){a=a.online;var b=c("BaseToasterStateManager").getInstance();l!=null&&(b.expire(l),l=null);l=a?d("cometPushToast").cometPushToast({icon:k.jsx(c("TetraIcon.react"),{color:"positive",icon:d("fbicon")._(i("485124"),24)}),message:h._("__JHASH__Twor-U8sZs8__JHASH__")},4e3,b):d("cometPushToast").cometPushToast({action:{label:h._("__JHASH__mzjg0e604Yh__JHASH__"),onPress:function(){d("CometRelayEnvironmentFactory").commitLocalUpdateForEachEnvironment(function(a,b,c){c.invalidateStore()})}},icon:k.jsx(c("TetraIcon.react"),{color:"disabled",icon:d("SVGIcon").legacySVGIcon(c("CometIconWirelessSlashFilled.react")),size:24}),message:h._("__JHASH__px_Aor7szAo__JHASH__")},Infinity,b)}function a(){c("NetworkStatus").onChange(m)}g.subscribe=a}),226);
__d("CometPixelRatioUpdater",["Cookie","Run","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h="dpr";function i(a){c("Cookie").set(h,String(a))}function j(){window.devicePixelRatio!==d("WebPixelRatio").get()&&i(window.devicePixelRatio)}function a(){j(),d("Run").onBeforeUnload(j,!1),"onpagehide"in window&&window.addEventListener("pageHide",j)}g.startDetecting=a}),98);
__d("CometVirtualCursorStatus",["UserAgent","cr:1345969","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;function j(){i||(i=window.addEventListener("blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=a.keyCode,j()}function d(a){h=null,k()}if(typeof window!=="undefined"&&window.document&&window.document.createElement){f=document.documentElement;if(f)if(f.addEventListener)f.addEventListener("keydown",a,!0),f.addEventListener("keyup",d,!0);else if(f.attachEvent){f=f.attachEvent;f("onkeydown",a);f("onkeyup",d)}}var l={getKeyDownCode:function(){return h},isKeyDown:function(){return!!h}},m=!1,n=!1,o=null,p=!1;function q(a){var b=new Set(),d=l.isKeyDown(),e=a.WEBKIT_FORCE_AT_MOUSE_DOWN,f=a.clientX,g=a.clientY,h=a.isTrusted,i=a.mozInputSource,j=a.offsetX,k=a.offsetY,o=a.webkitForce;f===0&&g===0&&j>=0&&k>=0&&n&&h&&i==null&&b.add("Chrome");m&&n&&!d&&o!=null&&o<e&&j===0&&k===0&&i==null&&b.add("Safari-edge");f===0&&g===0&&j<0&&k<0&&n&&i==null&&b.add("Safari-old");if(!m&&!n&&!d&&h&&c("UserAgent").isBrowser("IE >= 10")&&i==null){o=a.target;e=o.clientHeight;d=o.clientWidth;f<0&&g<0?b.add("IE"):(j<0||j>d)&&(k<0||k>e)&&b.add("MSIE")}i===0&&h&&b.add("Firefox");return b}function r(){m=!0,c("setTimeout")(function(){m=!1},0)}function s(){n=!0,c("setTimeout")(function(){n=!1},0)}function t(a){p&&b("cr:1345969").log({extra_data:{source_app:"comet"},indicated_browsers:o,is_virtual_cursor_action:a})}function u(a){o===null&&(o=Array.from(q(a)));p=o!=null&&o.length>0;a=a.target!=null&&a.target.getAttribute!=null&&a.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";t(a);c("setTimeout")(function(){p=!1,o=null},0)}function e(){document.addEventListener("click",u,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("mouseup",s,!0)}g.initLogging=e}),98);
__d("SimplePageLoadLogger",["ODS","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){(i||(i=d("ODS"))).bumpEntityKey(1678,"www_client_navigations",j())}function j(){if((h||(h=c("performance"))).navigation==null||(h||(h=c("performance"))).navigation.type==null)return"UNSUPPORTED";switch((h||(h=c("performance"))).navigation.type){case(h||(h=c("performance"))).navigation.TYPE_NAVIGATE:return"NAVIGATE";case(h||(h=c("performance"))).navigation.TYPE_RELOAD:return"RELOAD";case(h||(h=c("performance"))).navigation.TYPE_BACK_FORWARD:return"BACK_FORWARD";case(h||(h=c("performance"))).navigation.TYPE_RESERVED:return"RESERVED";default:return"UNKNOWN"}}g.logPageNavigationType=a}),98);
__d("CometRootDeferredShared",["CometBootloaderLoggerUtil","CometOfflineTracing","CometVirtualCursorStatus","DeferredCookie","ErrorGuard","JSScheduler","SimplePageLoadLogger","WebStorageMonster","cr:10026","cr:1201738","cr:1332233","cr:1402","cr:1516609","cr:1813330","cr:2718","cr:6931","currentCometRouterInstance","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;function a(a){var e=a.blLoggingCavalryFields,f=a.deferredCookies;(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return d("CometBootloaderLoggerUtil").initLogging(e)},null,[]);i.applyWithGuard(function(){return d("CometVirtualCursorStatus").initLogging()},null,[]);b("cr:1402")!=null&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1402").subscribe()},null,[]);i.applyWithGuard(function(){return d("CometOfflineTracing").initialize()},null,[]);b("cr:10026")!=null&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:10026")(function(){var a;return(a=d("currentCometRouterInstance").get())==null?void 0:(a=a.getCurrentRouterState())==null?void 0:(a=a.main)==null?void 0:a.route})},null,[]);i.applyWithGuard(function(){return d("SimplePageLoadLogger").logPageNavigationType()},null,[]);(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(function(){c("WebStorageMonster").schedule()});b("cr:1201738")&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&b("cr:1201738").init("comet.idle")});j&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&j.init()});Object.keys(f).forEach(function(a){var b=f[a],d=b.expiration_for_js,e=b.first_party_only,g=b.path,h=b.secure;b=b.value;c("DeferredCookie").addToQueue(a,b,d,g,e,!1,h)});b("cr:1332233")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1332233")()},null,[]);b("cr:1516609")!=null&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1516609").initSignalCollection()},null,[]);b("cr:1813330")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1813330").init()},null,[]);b("cr:2718")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:2718").init()},null,[]);b("cr:6931")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:6931").init()},null,[])}g.initDeferred=a}),98);
__d("CometToasterView_DO_NOT_USE.react",["BaseContextualLayerAnchorRoot.react","BasePortal.react","BaseToastAnimationInternal.react","XPlatReactToasterView.react","gkx","react","useToasterStateManager"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l={root:{bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,start:"x1uvyrtv",pointerEvents:"x47corl",position:"xixxii4",zIndex:"xoegz02",$$css:!0},rootBlue:{zIndex:"x1jvg36b",$$css:!0},rootWorkplaceLegacy:{zIndex:"xdwmgzo",$$css:!0},toast:{paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",pointerEvents:"x71s49j","@media (max-width: 899px)_maxWidth":"xx1nl2z",$$css:!0}},m={center:{justifyContent:"xl56j7k",$$css:!0},end:{justifyContent:"x13a6bvl",$$css:!0},start:{justifyContent:"x1nhvcw1",$$css:!0}},n={full:{maxWidth:"x193iq5w",$$css:!0},regular:{maxWidth:"xpqan2r",$$css:!0}};function a(a){var b=a.align;b=b===void 0?"start":b;var d=a.filterToasts,e=a.maxVisible;e=e===void 0?1:e;a=a.maxWidth;var f=a===void 0?"full":a,g=c("useToasterStateManager")();a=k(function(){return g.getEmptyState()});var h=a[0],o=a[1];j(function(){var a=g.registerView(o,0);return a.remove},[g]);return i.jsx(c("BasePortal.react"),{target:document.body,xstyle:[l.root,c("gkx")("20935")?null:c("gkx")("22885")?l.rootWorkplaceLegacy:l.rootBlue,m[b]],children:i.jsx("ul",{className:"x78zum5 xdt5ytf xe8uvvx x193iq5w",children:i.jsx(c("XPlatReactToasterView.react"),{filterToasts:d,maxVisible:e,onExpireToast:function(a){g.expire(a)},toasterState:h,children:function(a,b,d,e){return i.jsx(c("BaseToastAnimationInternal.react"),{expired:d,id:b,position:e,xstyle:[l.toast,n[c("gkx")("22886")?"regular":f]],children:i.jsx(c("BaseContextualLayerAnchorRoot.react"),{children:a})},e)}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WebPerfDeviceInfoLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1871697");b=d("FalcoLoggerInternal").create("web_perf_device_info_log",a);e=b;g["default"]=e}),98);
__d("XDeviceClassRealtimeControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/web_perf/get_perf_level/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WebDevicePerfInfoLogging",["AsyncTypedRequest","JSScheduler","Promise","WebDevicePerfInfoData","WebPerfDeviceInfoLogFalcoEvent","XDeviceClassRealtimeControllerRouteBuilder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b=document.createElement("canvas");b=b.getContext("webgl")||b.getContext("experimental-webgl");if(!b)return;var c=b.getExtension("WEBGL_debug_renderer_info");if(!c)return;var d=b.getParameter(c.UNMASKED_RENDERER_WEBGL);b=b.getParameter(c.UNMASKED_VENDOR_WEBGL);a.gpu_vendor=b;a.gpu_renderer=d}function k(){var a=window.navigator,b={};a&&a.hardwareConcurrency!==void 0&&(b.cpu_cores=a.hardwareConcurrency);a&&a.deviceMemory!==void 0&&(b.ram=a.deviceMemory);c("WebDevicePerfInfoData").needsFullUpdate&&j(b);return b}function l(){var a=k();c("WebPerfDeviceInfoLogFalcoEvent").log(function(){var b;return{cpu_cores:(b=a.cpu_cores)!=null?b:null,ram:(b=a.ram)!=null?b:null,gpu_renderer:(b=a.gpu_renderer)!=null?b:null,gpu_vendor:(b=a.gpu_vendor)!=null?b:null}})}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=k();a=(yield new(c("AsyncTypedRequest"))(c("XDeviceClassRealtimeControllerRouteBuilder").buildURL({})).setData(a).promisePayload());return a.devicePerfClassLevel});return n.apply(this,arguments)}function a(){(c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate)&&(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(l)}function e(){return new(h||(h=b("Promise")))(function(a,b){c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate?(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){m().then(a)["catch"](b)}):a()})}g.doLog=a;g.doLogPromise=e}),98);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceCheckPoint",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||(h=d("I64"))).of_string("63");b=h.of_string("65");c=h.of_string("98");e=h.of_string("504");f=h.of_string("1000");d=h.of_string("1001");var i=h.of_string("1204"),j=h.of_string("1210"),k=h.of_string("1224"),l=h.of_string("1234"),m=h.of_string("1225"),n=h.of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=d;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=n}),98);
__d("BellNullCrossFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"m459.33 1076.878 2.524-2.525a.5.5 0 0 0-.707-.707l-2.323 2.323a3.606 3.606 0 0 0-1.838-1.322c.006-.048.014-.096.014-.147a1 1 0 0 0-2 0c0 .05.008.099.015.148-1.432.435-2.509 1.801-2.646 3.526l-.04.906c0 .273-.243.607-.502.96-.372.508-.834 1.14-.827 1.963.003.385.175.887.589 1.201l-1.442 1.442a.5.5 0 1 0 .707.707l1.853-1.853h.024l6.605-6.606-.007-.016m.141 6.622c1.115 0 1.526-.895 1.53-1.495.007-.824-.455-1.457-.827-1.965-.258-.353-.502-.686-.503-.981l-.04-.903c-.003-.043-.01-.083-.015-.126l-5.47 5.47h5.325zm-1.92 1h-3.1a.203.203 0 0 0-.138.352c.435.4 1.031.648 1.688.648s1.253-.247 1.687-.648a.204.204 0 0 0-.137-.352"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("Box.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={box:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var d=a.as;d=d===void 0?"div":d;var e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["as","xstyle"]);return j.jsx(d,babelHelpers["extends"]({},a,{className:(h||(h=c("stylex")))(k.box,e),ref:b}))}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.entry_point,g=a.event,i=a.field_value,j=a.group_id,k=a.parent_surface,l=a.source,m=a.surface,n=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,entry_point:f,event:g,field_value:i,group_id:j,parent_surface:k,source:l,surface:m,thread_id:n}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("CautionTriangleFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"m456.998 1077.516-.25 2.833c-.033.368-.358.651-.748.651s-.715-.283-.747-.651l-.25-2.833a.968.968 0 0 1 .998-1.015.968.968 0 0 1 .997 1.015zM456 1083.5a1.001 1.001 0 1 1 1-1c0 .551-.449 1-1 1zm1.114-8.877a1.26 1.26 0 0 0-1.094-.623h-.002a1.26 1.26 0 0 0-1.095.62l-4.747 7.996c-.23.388-.234.853-.011 1.245.227.4.64.64 1.106.64h9.459c.464 0 .877-.24 1.105-.638.223-.39.22-.856-.009-1.244l-4.712-7.996z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("ChatMuteStore",[],(function(a,b,c,d,e,f){"use strict";b={EightHours:288e5,FifteenMinutes:9e5,Indefinitely:-1,OneDay:864e5,OneHour:36e5};c={Both:"bothMuteScope",Call:"callMuteScope",Message:"messageMuteScope"};var g={Duration:"setMuteDuration",Scope:"setMuteScope"};d={type:c.Message};e={type:c.Call};var h={type:c.Both},i={duration:b.FifteenMinutes,scope:d};function a(a,b){return b.type===g.Scope?{duration:a.duration,scope:b.scope}:{duration:b.duration,scope:a.scope}}f.ChatMuteOptions=b;f.ChatMuteScopeTypes=c;f.SetMuteActionTypes=g;f.message=d;f.call=e;f.both=h;f.initialState=i;f.reducer=a}),66);
__d("CommunityMessagingEnableState",[],(function(a,b,c,d,e,f){a=Object.freeze({ENABLED:1,DISABLE_REQUESTED:2,DISABLING:3,DISABLED:4,DISABLE_FAILED:5});f["default"]=a}),66);
__d("GroupFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"M452.25 1079c-.69 0-1.25-.673-1.25-1.5 0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5m6.25-1.5c0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5s-1.25-.673-1.25-1.5m-2.5 1c-.827 0-1.5-.785-1.5-1.75 0-1.079.575-1.75 1.5-1.75s1.5.671 1.5 1.75c0 .965-.673 1.75-1.5 1.75m-4 3.478c0-.814.281-1.562.75-2.154a.2.2 0 0 0-.156-.324h-.64a1.957 1.957 0 0 0-1.953 1.9c-.016.603.474 1.1 1.076 1.1h.723a.2.2 0 0 0 .2-.2v-.322zm8 0c0-.814-.281-1.562-.75-2.154a.2.2 0 0 1 .156-.324h.64c1.059 0 1.925.848 1.954 1.9.015.603-.475 1.1-1.077 1.1h-.723a.2.2 0 0 1-.2-.2v-.322zm-1 .416c0 .61-.496 1.106-1.106 1.106h-3.788c-.61 0-1.106-.496-1.106-1.106v-.416a2.48 2.48 0 0 1 2.478-2.478h1.044a2.48 2.48 0 0 1 2.478 2.478v.416z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreForceImmediateSyncStoredProcedure";e.exports=a}),null);
__d("LSForceImmediateSyncStoredProcedure",["LSForceImmediateSync","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.dbType;return c("LSForceImmediateSync").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticFetchPendingGroupInvite",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("link_hash",a[0]),d[0].set("image_width",a[1]),d[0].set("image_height",a[2]),d[0].set("has_vanity_name",!1),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_pending_group_invite",c.i64.cast([0,434]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(b){return c.db.table(235).put({linkHash:a[0],threadTitle:"",lastThreadActivityMs:c.i64.cast([0,0]),groupImageUrl:"",groupImageUrlFallback:"",groupImageUrlExpirationTimestampMs:c.i64.cast([0,0]),joinExplainerText:"",numberOfMembers:c.i64.cast([0,0]),isInApprovalQueue:!1,isSubscribed:!1,canJoin:!1,fbGroupDescription:"",communityImageUrl:"",communityImageUrlFallback:"",communityImageUrlExpirationTimestampMs:c.i64.cast([0,0]),linkJoinType:c.i64.cast([0,1]),fbGroupVisibility:c.i64.cast([0,1]),communityId:c.i64.cast([0,0])})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticFetchPendingGroupInviteStoredProcedure";e.exports=a}),null);
__d("LSOptimisticFetchPendingGroupInviteStoredProcedure",["LSOptimisticFetchPendingGroupInvite","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.linkHash;d[1]=b.imageWidth;d[2]=b.imageHeight;return c("LSOptimisticFetchPendingGroupInvite").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSReadReceiptSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("MWEBRestoreDialogWrapperQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7536439776461727"}),null);
__d("MWEBRestoreDialogWrapperQuery$Parameters",["MWEBRestoreDialogWrapperQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEBRestoreDialogWrapperQuery_facebookRelayOperation"),metadata:{},name:"MWEBRestoreDialogWrapperQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MAWEncryptedBackupsRestoreDialog.entrypoint",["JSResourceForInteraction","MWEBRestoreDialogWrapperQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWEBRestoreDialogWrapperQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWEBRestoreDialogWrapper.react").__setRef("MAWEncryptedBackupsRestoreDialog.entrypoint")};g["default"]=a}),98);
__d("MDSScrollableAreaStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={themed:{scrollbarColor:"x16o0dkt",$$css:!0},unthemed:{scrollbarColor:"xgjnz6y",$$css:!0}};b=a;g["default"]=b}),98);
__d("MWAddOnCircleContainer.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},disabled:{backgroundColor:"x1281ex9",$$css:!0}};function a(a){var b=a.children,c=a.disabled;c=c===void 0?!1:c;a=a.size;return i.jsx(d("react-strict-dom").html.div,{style:[j.container,c&&j.disabled,[{height:a,width:a}]],children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMGetValidId",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){b===void 0&&(b=!1);return i(a,b)!=null}function i(a,b){b===void 0&&(b=!1);if(a==null){b&&c("FBLogger")("cc_web").warn("FB Group ID is not defined");return void 0}if((h||(h=d("I64"))).le(a,(h||(h=d("I64"))).zero)){b&&c("FBLogger")("cc_web").warn("FB Group ID is invalid: %s",(h||(h=d("I64"))).to_string(a));return void 0}return a}g.MWCMHasValidFbGroupId=a;g.MWCMGetValidFbGroupIdOrUndefined=i}),98);
__d("getLSMediaCommunityFolderPictureUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return;var b=a.pictureUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.pictureUrlFallback:a.pictureUrl}g["default"]=a}),98);
__d("MWCMThreadPictureCustomThreadCommunity.react",["BaseView.react","CometProfilePhoto_EXPERIMENTAL.react","MWXGlimmer.react","getLSMediaCommunityFolderPictureUrl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={base:{height:"x1auzw0x",position:"x10l6tqk",width:"xqu606t",$$css:!0},circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},community:{end:"xds687c",left:null,right:null,top:"x13vifvy",$$css:!0},glimmer:{borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",height:"x5yr21d",width:"xh8yej3",$$css:!0},rounded:{borderTopStartRadius:"x12myldv",borderTopEndRadius:"x1udsgas",borderBottomEndRadius:"xrc8dwe",borderBottomStartRadius:"xxxhv2y",$$css:!0},thread:{backgroundColor:"x1jx94hy",borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",boxSizing:"x1afcbsf",start:"x17qophe",left:null,right:null,marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.community,d=a.photoSize;a=a.threadPictureUrl;b=c("getLSMediaCommunityFolderPictureUrl")(b);return i.jsxs(c("BaseView.react"),{role:"img",style:{height:d,width:d},children:[i.jsx(c("BaseView.react"),{xstyle:[j.base,j.community],children:b==null?i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:[j.glimmer,j.rounded]}):i.jsx(c("CometProfilePhoto_EXPERIMENTAL.react"),{shape:"rounded",size:"fill",source:b})}),i.jsx(c("BaseView.react"),{xstyle:[j.base,j.thread,j.circle],children:i.jsx(c("CometProfilePhoto_EXPERIMENTAL.react"),{shape:"circle",size:"fill",source:a})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsQPLSource.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({JEWEL_RESTORE_SOFTBLOCK:"jewel_restore_softblock",JEWEL_THREADLIST_QP:"jewel_threadlist_qp",JEWEL_THREADLIST_ONBOARDING_QP:"jewel_threadlist_onboarding_qp",JEWEL_THREADLIST_QP_WITH_PIN:"jewel_threadlist_qp_with_pin",JEWEL_THREADLIST_PERSISTENT_BANNER:"jewel_threadlist_persistent_banner",JEWEL_ONBOARDING_SOFTBLOCK:"jewel_onboarding_softblock",JEWEL_ONBOARDING_HARDBLOCK:"jewel_onboarding_hardblock",CHAT_TAB_SOFTBLOCK:"chat_tab_softblock",CHAT_TAB_HARDBLOCK:"chat_tab_hardblock",CHAT_TAB_ONBOARDING_QP:"chat_tab_onboarding_qp",INBOX_INTERSTITIAL_SOFTBLOCK:"inbox_interstitial_softblock",INBOX_INTERSTITIAL_HARDBLOCK:"inbox_interstitial_hardblock",INBOX_THREADLIST_QP:"inbox_threadlist_qp",INBOX_THREADLIST_ONBOARDING_QP:"inbox_threadlist_onboarding_qp",INBOX_THREADLIST_PERSISTENT_BANNER:"inbox_threadlist_persistent_banner",INBOX_THREADLIST_QP_WITH_PIN:"inbox_threadlist_qp_with_pin",IN_THREAD_SCROLL_PERSISTENT_BANNER:"in_thread_scroll_persistent_banner",IN_THREAD_GAP_UI:"in_thread_gap_ui",EB_SETTINGS:"eb_settings",AUTO_RESTORE:"auto_restore",DYI:"dyi",UNKNOWN:"unknown",INBOX_MESSAGE_SEARCH:"inbox_message_search",SETTINGS_RESTORE_HOLDOUT_MENU_ITEM:"settings_restore_holdout_menu_item",UNIVERSAL_MESSAGE_SEARCH:"universal_message_search",MEDIA_GALLERY_RESTORE:"media_gallery_restore",EB_WEB_ONBOARDING_DIALOG:"eb_web_onboarding_dialog",IG_SETTINGS:"ig_settings",IG_INBOX_AUTO_RESTORE:"ig_inbox_auto_restore",CHAT_SETTINGS:"chat_settings"});c=a;f["default"]=c}),66);
__d("MWEBEntrypointsKillswitch.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({JEWEL_THREADLIST:"jewel_threadlist",IN_THREAD_GAP_UI:"in_thread_gap_ui",IN_THREAD_SCROLL_BANNER:"in_thread_scroll_banner",IN_THREAD_SEARCH:"in_thread_search",INBOX_INTERSTITIAL:"inbox_interstitial",INBOX_THREADLIST:"inbox_threadlist",INBOX_THREADLIST_UNIVERSAL_SEARCH:"inbox_threadlist_universal_search",MEDIA_GALLERY_RESTORE:"media_gallery_restore",EB_SETTINGS:"eb_settings",AUTO_RESTORE:"auto_restore",DYI:"dyi",IGD_NO_KILLSWITCH_APPLICABLE:"igd_no_killswitch_applicable",NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:"not_an_entrypoint_no_killswitch_applicable",IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:"in_development_add_a_todo_comment_with_a_task_above_this_to_add_a_killswitch"});c=a;f["default"]=c}),66);
__d("MWEBUpsellDismissedEnum.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NOT_DISMISSED:0,UPSELLS_DISMISSED:1,ALL_DISMISSED:2});f.MWEBUpsellDismissedStateEnum=a}),66);
__d("MWEncryptedBackupsDeferLocalStorageUpsell",["$InternalEnum","FBLogger","MWEncryptedBackupsSharedState","ReQL","WebStorage","asyncToGeneratorRuntime","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum").Mirrored(["SOFTBLOCK_JEWEL_AND_CHAT_TAB","QP_JEWEL","QP_WITH_PIN_JEWEL","PERSISTENT_BANNER_JEWEL"]),j=-1,k=12*60*60*1e3,l=24*60*60*1e3,m=72*60*60*1e3;function n(a){switch(a){case i.SOFTBLOCK_JEWEL_AND_CHAT_TAB:return{countdownInMS:l,impressionsCountKey:"mw_encrypted_backups_soft_block_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_soft_block_last_impression_time_key",maxImpressionLimit:5};case i.QP_JEWEL:return{countdownInMS:k,impressionsCountKey:"mw_encrypted_backups_qp_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_qp_jewel_last_impression_time_key",maxImpressionLimit:1};case i.QP_WITH_PIN_JEWEL:return{countdownInMS:k,impressionsCountKey:"mw_encrypted_backups_qp_with_pin_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_qp_with_pin_jewel_last_impression_time_key",maxImpressionLimit:1};case i.PERSISTENT_BANNER_JEWEL:return{countdownInMS:m,impressionsCountKey:"mw_encrypted_backups_banner_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_banner_jewel_last_impression_time_key",maxImpressionLimit:1}}}function a(a){var e=a.db,f=a.upsellType;a=n(f);var g=a.impressionsCountKey;a=a.lastImpressionTimeKey;c("promiseDone")(d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:e,stateKey:a,stateValue:Date.now().toString()}).then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.tables.experiences_shared_state)));a=(a=d("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:e,sharedStateTable:a,stateKey:g}))!=null?a:"0";yield d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:e,stateKey:g,stateValue:(+a+1).toString()})})),function(){},function(){var a="[Encrypted Backups] Failed to defer EB upsell "+f;c("FBLogger")("labyrinth_web").mustfix(a)})}function e(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=n(a);a=a.lastImpressionTimeKey;(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.removeItem(a)}}function f(a){var b=a.db,c=a.sharedStateTable;a=a.upsellType;a=n(a);a=a.impressionsCountKey;return(b=d("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:b,sharedStateTable:c,stateKey:a}))!=null?b:"0"}g.MWEncryptedBackupsDeferableUpsellType=i;g.INFINITE_IMPRESSIONS_LIMIT=j;g.getLocalStorageKeys=n;g.updateUpsellEntry=a;g.deleteEntry=e;g.getUpsellImpressions=f}),98);
__d("MWEncryptedBackupsDeviceRegistrationId",["FBLogger","MessengerWebInitData"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("MessengerWebInitData").sessionId;if(a==null){c("FBLogger")("labyrinth_web").mustfix("PAKE: Failed to get registration id from MessengerWebInitData");return""}return a}g.getDeviceRegistrationId=a}),98);
__d("MWEncryptedBackupsRetrieveQplLoggingAnnotations",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","Promise","ReQL","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWEncryptedBackupsRetrieveQplLoggingAnnotations"),l=c("gkx")("24091"),m=c("gkx")("609");function a(a){var e=a.db,f=a.onFetch,g=a.upsellType;c("promiseDone")((j||(j=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.tables.experiences_shared_state)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.tables.secure_encrypted_backups_client_state))]),function(a){var b=a[0];a=a[1];var j=a[0],n=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),o=d("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:e,sharedStateTable:b,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY}),p=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:e,sharedStateTable:b,stateKey:"auto_restored"});k.onReady(function(a){var k=a.mwEBGetIsLocalStorageEntryValuePresent;a=a.mwEBGetLocalStorageEntryValue;a=a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE);var q=k(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);k=k(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);var r=o!=null,s=g&&d("MWEncryptedBackupsDeferLocalStorageUpsell").getUpsellImpressions({db:e,sharedStateTable:b,upsellType:g}),t=j!=null&&(h||(h=d("I64"))).equal(j.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));f({ebsmWiped:(a=a)!=null?a:"false",firstUpsellTime:n,hasEbKeysLocally:p?"false":t.toString(),hasEBSM:m.toString(),hasPDB:l.toString(),hasUserOnboardedBefore:r.toString(),hasUserRestoredBefore:q.toString(),hasUserRestoredBeforeTemp:k.toString(),impressionsCount:(a=s)!=null?a:"0"})})},function(){c("FBLogger")("labyrinth_web").mustfix("[Encrypted Backups] Failed to fetch QPL annotations from Shared State")})}g.encryptedBackupsRetrieveQplLoggingAnnotations=a}),98);
__d("MWEnsureCutoverOpenThreadExists",["Int64Hooks","LSFactory","LSIntEnum","LSVerifyThreadRowExistsStoredProcedure","MAWThreadCutover","MWGetChatTabOpenQPLEventTrace","ReQL","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield d("ReQL").firstAsync(d("MAWThreadCutover").getMiActMappings(a,b)));if(b==null)return;b=(yield d("ReQL").firstAsync(d("MAWThreadCutover").getCutoverThreadsByJid(a,b.jid)));if(b==null)return;var e=b.openThreadId;b=(yield d("ReQL").firstAsync(d("MAWThreadCutover").getThreadByCutoverThread(a,b)));if(b==null)return a.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:e})},"readwrite",void 0,void 0,f.id+":54")});return j.apply(this,arguments)}function e(a){var b=(h||(h=c("useReStore")))(),e=d("MAWThreadCutover").useGetCutoverOpenThreadKey(a),g=d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.tables.threads).getKeyRange(e)},[b,e],f.id+":68");d("Int64Hooks").useEffectInt64(function(){g==null&&e!=null&&c("promiseDone")(b.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:e})},"readwrite",void 0,void 0,f.id+":78"),function(){c("MWGetChatTabOpenQPLEventTrace")(a,function(a){a.addMarkerPoint("requested_cutover_open_thread","AppTiming")})})},[g,b,e,a])}g.ensureCutoverOpenThreadExists=a;g.useMWEnsureCutoverOpenThreadExists=e}),98);
__d("useMWFacepileGetContactsToShow",["I64","LSAuthorityLevel","MWPActor.react","ReQL","ReQLSuspense","useGetContactsToShow","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){e===void 0&&(e=!1);var g=d("MWPActor.react").useActor(),j=(i||(i=c("useReStore")))(),k=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(j.tables.participants,[]).getKeyRange(a),d("ReQL").fromTableAscending(j.tables.contacts,["rank","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs","id","name","authorityLevel"])).filter(function(a){return!e||a[1]!=null&&e&&(h||(h=d("I64"))).to_int32(a[1].authorityLevel)>=c("LSAuthorityLevel").AUTHORITATIVE}).take(3)},[j,a,e],f.id+":59").map(function(a){a[0];a=a[1];return a});return c("useGetContactsToShow")({threadKey:a,threadType:b},k,g)}g["default"]=a}),98);
__d("MWFacepile.react",["CometHeroHoldTrigger.react","FDSFacepilePhoto.react","MWXGlimmer.react","UNTRANSLATED_STRING_FIXME","getLSMediaContactProfilePictureUrl","react","translatedServerString","useMWFacepileGetContactsToShow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=a.actualBadge,d=a.ariaHidden,e=a.label,f=a.onlyAuthoratitiveContacts,g=a.photoSize;g=g===void 0?32:g;var h=a.threadKey,k=a.threadType;a=a.withAltText;var l=a===void 0?!0:a;a=c("useMWFacepileGetContactsToShow")(h,k,f);return a.length!==0?i.jsx(c("FDSFacepilePhoto.react"),{ariaHidden:d,badge:b,label:l===!0&&e!=null?c("UNTRANSLATED_STRING_FIXME")(e):void 0,size:g,sources:a.map(function(a){return{alt:l?c("translatedServerString")(a.name):void 0,disabled:!1,source:c("getLSMediaContactProfilePictureUrl")(a)}}),totalItems:a.length}):i.jsxs("div",{style:{height:g,width:g},children:[i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j.glimmer}),i.jsx(c("CometHeroHoldTrigger.react"),{description:"MWFacepile photo",hold:!0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSDatabaseLazySync",["I64","Int64Hooks","LSFactory","LSForceImmediateSyncStoredProcedure","LSSyncGroupsUtils","Promise","ReQL","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.sync_groups).getKeyRange(e)).then(function(f){if(f!=null)if((j||(j=d("I64"))).equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSyncStoredProcedure")(c("LSFactory")(a),{dbType:e});else return(i||(i=b("Promise"))).resolve();else return(i||(i=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":28")}function a(a){var b=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){return k(b,a)},[a,b])}g.sync=k;g.useSync=a}),98);
__d("MWReQLCMThreadPictureCustomThreadCommunity.react",["MWCMThreadPictureCustomThreadCommunity.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.photoSize,e=a.thread;a=a.threadPictureUrl;var g=(h||(h=c("useReStore")))(),i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.community_folders).getKeyRange(e.parentThreadKey)},[g,e.parentThreadKey],f.id+":25");return j.jsx(c("MWCMThreadPictureCustomThreadCommunity.react"),{community:{pictureUrl:i==null?void 0:i.pictureUrl,pictureUrlExpirationTimestampMs:i==null?void 0:i.pictureUrlExpirationTimestampMs,pictureUrlFallback:i==null?void 0:i.pictureUrlFallback},photoSize:b,threadPictureUrl:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReQLFacepile.react",["MWFacepile.react","MWFacepileBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden,d=a.badge,e=a.badgeSize,f=a.label,g=a.onlyAuthoratitiveContacts;g=g===void 0?!1:g;var h=a.photoSize;h=h===void 0?32:h;var j=a.showBadge;j=j===void 0?!0:j;var k=a.thread;a=a.withAltText;a=a===void 0?!0:a;d=j?(j=d)!=null?j:i.jsx(c("MWFacepileBadge.react"),{size:e,threadKey:k.threadKey}):null;return i.jsx(c("MWFacepile.react"),{actualBadge:d,ariaHidden:b,label:f,onlyAuthoratitiveContacts:g,photoSize:h,threadKey:k.threadKey,threadType:k.threadType,withAltText:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadPictureCustomThread.react",["FDSFacepilePhoto.react","MWFacepileBadge.react","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.badge,e=a.badgeSize,g=a.photoSize,i=a.shape,k=a.showBadge,l=a.thread,m=a.threadPictureUrl;a=a.withAltText;var n=(h||(h=c("useReStore")))(),o=d("MWPActor.react").useActor(),p=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(n.tables.participants,["contactId","nickname"]).getKeyRange(l.threadKey),d("ReQL").fromTableAscending(n.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(d("MWPGetThreadTitle").amountToFetchForTitle)},[n,l.threadKey],f.id+":38");p=d("MWPGetThreadTitle").computeThreadTitle(void 0,l.threadType,p.slice(0,d("MWPGetThreadTitle").amountToFetchForTitle),o);k=k===!0?(o=b)!=null?o:j.jsx(c("MWFacepileBadge.react"),{size:e,threadKey:l.threadKey}):null;return j.jsx(c("FDSFacepilePhoto.react"),{badge:k,label:a===!0&&p!=null?c("translatedServerString")(p):void 0,shape:i,size:g,sources:[{alt:a===!0&&p!=null?c("translatedServerString")(p):void 0,disabled:!1,source:m}],totalItems:1})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadPicture.react",["MWCMIsAnyCMThread","MWReQLCMThreadPictureCustomThreadCommunity.react","MWReQLFacepile.react","MWThreadPictureCustomThread.react","ReQL","ReQLSuspense","getLSMediaThreadPictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=a.withCommunityPicture;return b===!0?j.jsx(c("MWReQLCMThreadPictureCustomThreadCommunity.react"),babelHelpers["extends"]({},a)):j.jsx(c("MWThreadPictureCustomThread.react"),babelHelpers["extends"]({},a))}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.ariaHidden,e=a.badge,g=a.badgeSize,i=a.onlyAuthoratitiveContacts;i=i===void 0?!1:i;var l=a.photoSize,m=a.showBadge;m=m===void 0?!0:m;var n=a.showFacepiles;n=n===void 0?!1:n;var o=a.threadKey,p=a.threadTitle,q=a.withAltText;q=q===void 0?!0:q;a=a.withCommunityPicture;a=a===void 0?!1:a;var r=(h||(h=c("useReStore")))(),s=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(r.tables.threads,["parentThreadKey","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadKey","threadName","threadType"]).getKeyRange(o)},[r,o],f.id+":55");if(s==null)return null;var t=c("MWCMIsAnyCMThread")(s.threadType);m=m&&!t;t=c("getLSMediaThreadPictureUrl")(s);return t!=null&&n!==!0?j.jsx(k,{badge:e,badgeSize:g,photoSize:l,showBadge:m,thread:s,threadPictureUrl:t,withAltText:q,withCommunityPicture:a}):j.jsx(c("MWReQLFacepile.react"),{ariaHidden:b,badge:e,badgeSize:g,label:(n=p)!=null?n:s.threadName,onlyAuthoratitiveContacts:i,photoSize:l,showBadge:m,thread:s,withAltText:q})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXButtonGroup.react",["cr:227","cr:5023","cr:5028","cr:6106","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=a.align,d=a.direction;d=d===void 0?"backward":d;var e=a.expanding;e=e===void 0?!1:e;var f=a.paddingHorizontal;f=f===void 0?0:f;var g=a.primary;a=a.secondary;if(b("cr:6106")!=null){var h,j=g.icon,k=g.loading,l=g.type,m=babelHelpers.objectWithoutPropertiesLoose(g,["icon","loading","type"]);l=l==="destructive"?"fdsOverride_negative":l;var n=f===10?8:f;return i.jsx(b("cr:6106"),{align:(h=c)!=null?h:"end",direction:d,expanding:e,paddingHorizontal:n,primary:babelHelpers["extends"]({},m,{addOnPrimary:k===!0&&b("cr:5023")?i.jsx(b("cr:5023"),{color:"disabled",size:16}):void 0,icon:j==null?void 0:j.component,type:l}),secondary:a!=null?babelHelpers["extends"]({},a,{icon:(h=a.icon)==null?void 0:h.component,reduceEmphasis:!0,type:"secondary"}):null})}if(b("cr:227")!=null){e=g.icon;n=g.loading;m=babelHelpers.objectWithoutPropertiesLoose(g,["icon","loading"]);return i.jsx(b("cr:227"),{align:c,direction:d,paddingHorizontal:f,primary:babelHelpers["extends"]({},m,{addOnStart:n===!0&&b("cr:5028")?i.jsx(b("cr:5028"),{color:"grey",size:24}):void 0,icon:e==null?void 0:e.originalComponent}),secondary:a!=null?babelHelpers["extends"]({},a,{icon:(k=a.icon)==null?void 0:k.originalComponent}):null})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXCardedDialogLoadingState.react",["cr:9908","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:9908")}),98);
__d("MWXIconBellCross",["MWXSvgIcon","SVGIcon","cr:9011","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9011")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconGroup",["MWXSvgIcon","SVGIcon","cr:9178","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9178")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXListCellPressable.react",["MessengerWebUXLogger","cr:321","cr:8697","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;e=i.forwardRef(a);function a(a,d){a=babelHelpers["extends"]({},a);var e=a.addOnBottom,f=a.addOnEnd,g=a.addOnStart,h=a.content,k=a.loggingEvent,l=a.onPress,m=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnBottom","addOnEnd","addOnStart","content","loggingEvent","onPress","size"]);var n=c("MessengerWebUXLogger").useInteractionLogger(),o=j(function(a){l==null?void 0:l(a),k&&(n==null?void 0:n(k))},[n,k,l]);if(b("cr:8697")!=null)return i.jsx(b("cr:8697"),babelHelpers["extends"]({addOnBottom:e,addOnEnd:f,addOnStart:g,addOnStartMarginTop:0,content:h,onPress:o,paddingVertical:8,verticalAlign:"center"},a,{ref:d}));if(b("cr:321")!=null){return i.jsx(b("cr:321"),babelHelpers["extends"]({addOnBottom:e,addOnEnd:f,addOnStart:g,content:h,onPress:o,size:(e=m)!=null?e:"medium"},a,{ref:d}))}return null}a.displayName=a.name+" [from "+f.id+"]";d=e;g["default"]=d}),98);
__d("MWXScrollableAreaStyles",["MDSScrollableAreaStyles"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSScrollableAreaStyles")}),98);
__d("MessagingCommunityChatsPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,PAUSED_BY_SOFT_ACTION:2,PAUSED_BY_ADMINLESS_STANDALONE_COMMUNITY:3});f["default"]=a}),66);
__d("MessengerDesktopPresenceInfo",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="__fb_messenger_desktop_presence_info";function a(){var a=(h||(h=c("WebStorage"))).getLocalStorageForRead();return JSON.parse((a=a==null?void 0:a.getItem(i))!=null?a:"null")}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();if(a==null){c("FBLogger")("desktop_messenger_deeplink_presence","local_storage_not_found").warn("Messenger Desktop Presence Token cannot be created if local storage doesn't exist");return null}var b={lastActiveTimestamp:Date.now()};a=h.setItemGuarded(a,i,JSON.stringify(b));a!=null&&c("FBLogger")("desktop_messenger_deeplink_presence","create_presence_info_error").warn(a.toString());return b}g.getPresenceInfo=a;g.createPresenceInfo=b}),98);
__d("MessengerDesktopLocalServerRequest",["ConstUriUtils","MessengerDesktopPresenceInfo"],(function(a,b,c,d,e,f,g){"use strict";var h=2e3;a=function(){function a(a,b){var c=this;this.$1=function(){c.request.status===200&&d("MessengerDesktopPresenceInfo").createPresenceInfo()};b="http://localhost:"+b+a;this.uri=(a=(a=d("ConstUriUtils").getUri(b))==null?void 0:a.toString())!=null?a:b;this.request=new XMLHttpRequest();this.request.timeout=h;this.request.onloadend=this.$1}var b=a.prototype;b.setOnLoadEndHandler=function(a){var b=this;this.request.onloadend=function(){b.$1(),a(b.request.status)};return this};b.setErrorHandler=function(a){var b=this;this.request.onerror=function(){b.request.status===500&&d("MessengerDesktopPresenceInfo").createPresenceInfo(),a(b.request.status)};return this};b.setTimeoutHandler=function(a){this.request.ontimeout=a;return this};b.send=function(){this.request.open("GET",this.uri),this.request.send()};return a}();g["default"]=a}),98);
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744027");b=d("FalcoLoggerInternal").create("messenger_desktop_promo",a);e=b;g["default"]=e}),98);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("MessengerDesktopPromoFalcoEvent").log(function(){return a})};g.log=a}),98);
__d("XMessengerDotComDesktopControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/",Object.freeze({start_download:!1,m:!1}),new Set(["m"]));b=a;g["default"]=b}),98);
__d("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/launch/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MessengerDesktopDeepLinkUtils",["fbt","MessengerDesktopLocalServerRequest","MessengerDesktopPresenceInfo","MessengerDesktopPromoEventLogger","Promise","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=k.useCallback,m=k.useEffect,n=k.useRef,o="messenger";k=3103;var p=1e3*60*60*24*28,q="https://www.messenger.com/desktop/";function a(a){return o+"://room?joinurl="+a}function e(a){return new(i||(i=b("Promise")))(function(b){new(c("MessengerDesktopLocalServerRequest"))("/ping",a).setOnLoadEndHandler(function(a){return b(a)}).setTimeoutHandler(function(a){return b(!1)}).setErrorHandler(function(a){return b(!1)}).send()})}function f(){var a=d("MessengerDesktopPresenceInfo").getPresenceInfo();return a==null?!1:Date.now()-a.lastActiveTimestamp<=p}function r(){var a=c("gkx")("23666"),b=c("gkx")("23667");if(b){b=c("gkx")("23668");return a||b}else return a}function s(){return c("gkx")("23669")}function t(){if(c("gkx")("23670")||!r())return!1;switch(v()){case"Windows":return!1;case"Mac":return c("gkx")("23671");default:return!1}}var u={openMessengerForDesktop:h._("__JHASH__XxNs-oGUpT___JHASH__"),openMessengerForMac:h._("__JHASH__tlUlAHzvu6R__JHASH__"),openMessengerForWindows:h._("__JHASH__3NgfF3NHofM__JHASH__"),tryMessengerForDesktop:h._("__JHASH___P6bnngRU_E__JHASH__"),tryMessengerForMac:h._("__JHASH__3Fm9-zbx5PN__JHASH__"),tryMessengerForWindows:h._("__JHASH__56Y2Um9FCTk__JHASH__")};function v(){if(c("UserAgent").isPlatform("Windows"))return"Windows";else if(c("UserAgent").isPlatform("Mac OS X"))return"Mac";return"Desktop"}function w(a){return(a=c("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:a}).setDomain("www.messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}function x(a){return(a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri(a).setDomain("messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}function y(){var a=r()?"open":"try",b=v();return u[a+"MessengerFor"+b]}function z(a){var b;return r()?(b=x(a))!=null?b:q:(b=w(a.funnel_session_id))!=null?b:q}function A(a,b){var c=n(!1);m(function(){c.current||(c.current=!0,d("MessengerDesktopPromoEventLogger").log({event:"Impression",funnelSessionId:a,location:b}))},[a,b]);return l(function(){d("MessengerDesktopPromoEventLogger").log({event:"Click",funnelSessionId:a,location:b})},[a,b])}g.PORT=k;g.getRoomDeepLink=a;g.isMessengerDesktopRunning=e;g.isMessengerDesktopProbablyInstalled=f;g.isMessengerDesktopDeeplinkEligible=r;g.isMessengerDesktopPromoEligible=s;g.isMessengerDesktopDeeplinkEnabled=t;g.getDeeplinkButtonLabel=y;g.getDeeplinkButtonURI=z;g.useMessengerDesktopPromoEventLogger=A}),226);
__d("MessengerDesktopDeeplinkEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1856945");b=d("FalcoLoggerInternal").create("messenger_desktop_deeplink_event",a);e=b;g["default"]=e}),98);
__d("MessengerMuteUtils",["fbt","ChatMuteStore","DateStrings","I64","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){if(a<=0){if(a===d("ChatMuteStore").ChatMuteOptions.Indefinitely)return h._("__JHASH__Qqz4BaNxhpZ__JHASH__");return}if(a<86401)return;var b=new Date(a*1e3).getDay(),e=b===new Date().getDay(),f=b===new Date().getDay()+1;if(f)return h._("__JHASH__oudW1xi6NTV__JHASH__",[h._param("time",c("formatDate")(a,"g:ia"))]);return e?h._("__JHASH__so9VkYDJtTA__JHASH__",[h._param("time",c("formatDate")(a,"g:ia"))]):h._("__JHASH__8p1YQCn8sSf__JHASH__",[h._param("time",c("formatDate")(a,"g:ia")),h._param("weekday name",d("DateStrings").getWeekdayName(b))])}f=h._("__JHASH__mE99UrtEjlr__JHASH__");function b(a,b){if(a==null)return b===!0?h._("__JHASH__4c66vwlOre0__JHASH__"):h._("__JHASH__f_P00nfKfsd__JHASH__");switch(a.type){case"messageMuteScope":return h._("__JHASH__wGzDdDLdmM0__JHASH__");case"callMuteScope":return h._("__JHASH__aevOqU7QNLm__JHASH__");case"bothMuteScope":return h._("__JHASH__e9DezvV_scv__JHASH__")}}function e(a){var b=a.muteCallsExpireTimeMs;a=a.muteExpireTimeMs;var c=Math.min((i||(i=d("I64"))).to_float(a),i.to_float(b));a=Math.max(i.to_float(a),i.to_float(b));return c===-1?-1:a}g.mutedUntilLabel=a;g.chatNotificationActionLabel=f;g.muteDialogTitle=b;g.calcMuteUntilMs=e}),226);
__d("isFacebookMessengerInboxURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){function a(a){return c("isFacebookURI")(a)&&a.getPath().startsWith("/messages")}g["default"]=a}),98);
__d("isMWEBEntrypointEnabled",["MWEBEntrypointsKillswitch.enum","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("qex")._("988");switch(a){case c("MWEBEntrypointsKillswitch.enum").INBOX_INTERSTITIAL:return c("justknobx")._("2598")&&!b;case c("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST:return c("justknobx")._("2599");case c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST:return c("justknobx")._("2600");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI:return c("justknobx")._("2601")&&!b;case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER:return c("justknobx")._("2602")&&!b;case c("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE:return c("justknobx")._("2603");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SEARCH:return c("justknobx")._("2604")&&!b;case c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST_UNIVERSAL_SEARCH:return c("justknobx")._("2768")&&!b;case c("MWEBEntrypointsKillswitch.enum").MEDIA_GALLERY_RESTORE:return c("justknobx")._("2841")&&!b;case c("MWEBEntrypointsKillswitch.enum").DYI:case c("MWEBEntrypointsKillswitch.enum").EB_SETTINGS:case c("MWEBEntrypointsKillswitch.enum").IGD_NO_KILLSWITCH_APPLICABLE:case c("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:case c("MWEBEntrypointsKillswitch.enum").IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:return!0}}g["default"]=a}),98);
__d("useLabyrinthLogging",["EncryptedBackupsSupportedPlatformUtils","MWEBODSCategory","MWEBODSEntityKey.enum","MWEncryptedBackupsDeviceRegistrationId","ODS","QPLEvent","QPLUserFlow","QuickPerformanceLogger","WebSession","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback;function a(){var a=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform(),b=l(function(b){var e=b.additionalAnnotations,f=b.event,g=b.instanceKey;g=g===void 0?0:g;var j=b.odsEntityName;b=b.source;if(!(h||(h=c("QuickPerformanceLogger"))).isMarkerOn(f,g)){j&&(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),j,c("MWEBODSEntityKey.enum").START);j=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();j={deviceRegistrationId:j,platform:a,sessionTabId:d("WebSession").getId(),source:b!=null?b:void 0};c("QPLUserFlow").start(f,{annotations:{string:babelHelpers["extends"]({},e,j)},instanceKey:g})}},[a]),e=l(function(b){var e=b.additionalAnnotations,f=b.event,g=b.marker;b=b.odsEntityName;if(!c("QPLUserFlow").getActiveFlowIDs().includes((j||(j=d("QPLEvent"))).getMarkerId(f))){b&&(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),b,c("MWEBODSEntityKey.enum").START);b={platform:a,sessionTabId:d("WebSession").getId()};c("QPLUserFlow").start(f,{annotations:{string:babelHelpers["extends"]({},e,b)}})}c("QPLUserFlow").addPoint(f,g)},[a]);return{addMarkerAndStartFlowIfNotActive:e,startFlow:b}}g.useLabyrinthLoggingFlow=a}),98);
__d("useMAWGetUserVisibleErrors",["MAWIssueNewUserVisibleErrors","Promise","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(){var a=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(a.tables.user_visible_errors).filter(function(a){a=a.presentationStyle;return a==="banner"})},[a],f.id+":37"),g=k(function(){return e!=null&&e.errorId!=null?d("MAWIssueNewUserVisibleErrors").deleteUserVisibleError(a,e.errorId):(h||(h=b("Promise"))).resolve()},[a,e]);return[e,g]}g["default"]=a}),98);
__d("useMWCMShouldGoToFullScreenChatHook",["getRequestConstUri","isFacebookMessengerInboxURI","isMessengerDotComURI"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("getRequestConstUri")();return c("isMessengerDotComURI")(a)||c("isFacebookMessengerInboxURI")(a)}g["default"]=a}),98);
__d("useMWEBBackupStateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBBackupStateQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBBackupStateQuery",selections:[a]},params:{cacheID:"780695c71d771c39c4d001bd676844c7",id:null,metadata:{},name:"useMWEBBackupStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEBBackupState",["CometRelay","isMWEBEntrypointEnabled","useMWEBBackupStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.entrypoint;var e=d("CometRelay").useClientQuery(h!==void 0?h:h=b("useMWEBBackupStateQuery.graphql"),{});e=e.viewer;return!c("isMWEBEntrypointEnabled")(a)?0:(a=e.backup_state)!=null?a:1}g["default"]=a}),98);
__d("useMWEBGetUpsellStateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eb_restore_upsells_dismissed",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBGetUpsellStateQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBGetUpsellStateQuery",selections:[a]},params:{cacheID:"3d6b0766f42bc6a61e179528381b00b4",id:null,metadata:{},name:"useMWEBGetUpsellStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEBGetUpsellState",["CometRelay","MWEBUpsellDismissedEnum.facebook","useMWEBGetUpsellStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("CometRelay").useClientQuery(h!==void 0?h:h=b("useMWEBGetUpsellStateQuery.graphql"),{});a=a.viewer;var c=a.is_eb_restore_upsells_dismissed===d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.ALL_DISMISSED;a=c||a.is_eb_restore_upsells_dismissed===d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.UPSELLS_DISMISSED;return{isAllRestoreUpsellsDismissed:c,isRestoreUpsellsDismissed:a}}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForUser",["LSIntEnum","LSReadReceiptSettingState","MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.messaging_privacy_settings).getKeyRange(b)},[a,b],f.id+":23");if(e==null)return c("MessengerWebPrivacySettings").read_receipts_disabled===c("LSReadReceiptSettingState").DISABLED;e=e.readReceiptsDisabled!=null?(h||(h=d("LSIntEnum"))).toNumber(e.readReceiptsDisabled):c("LSReadReceiptSettingState").DEFAULT;return e===c("LSReadReceiptSettingState").DISABLED}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("MWLSThread").useThread(a,function(a){return(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabledV2)});var b=c("useMWIsReadReceiptsDisabledForUser")();return a!=null&&a!==c("LSReadReceiptSettingState").DEFAULT?a===c("LSReadReceiptSettingState").DISABLED:b}g["default"]=a}),98);
__d("useMWLSMarkThreadAsRead",["I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","cr:2580","cr:2865","promiseDone","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback;function a(){return{}}var m=(h=b("cr:2865"))!=null?h:a;function e(a,e){var g,h=(i||(i=c("useReStore")))(),k=(g=d("MWThreadKey.react").useMWThreadKeyMemoized())!=null?g:e;if(k==null)throw c("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_messaging");g=m();var n=g.setIsPassive,o=c("MessengerWebUXLogger").useInteractionLogger();return l(function(){o==null?void 0:o({eventName:"mark_thread_as_read"}),n!=null&&n(!1),c("promiseDone")(h.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.threads).getKeyRange(k)));if(f==null)return;var g=f.lastActivityTimestampMs,h=f.lastReadWatermarkTimestampMs;f=f.threadType;if((j||(j=d("I64"))).gt(g,h)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:k,threadType:f},"seen_receipt",a);h=g;return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(e),{readWatermarkTimestampMs:h,threadKey:k})}});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":66"))},[o,n,h,k,a])}g["default"]=e}),98);
__d("useOpenThreadAfterJoin",["I64","MWLSThreadDisplayContext","ReQL","promiseDone","react","useAsyncReStore","useMWChatOpenTabForGroup","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(){var a=c("useMWChatOpenTabForGroup")("jewel"),b=a[0],e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f=c("useAsyncReStore")(),g=c("useMWNavigation")();return j(function(a){if(e==="ChatTab"){b(a);return}c("promiseDone")(f,function(b){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.threads).getKeyRange((i||(i=d("I64"))).of_string(a))),function(b){b!=null&&g.openInbox({clientThreadKey:void 0,threadKey:(i||(i=d("I64"))).of_string(a),threadType:b.threadType},"deepLink")})})},[f,e,b,g])}g["default"]=a}),98);
__d("usePublicChatShortlinkCallback",["ConstUriUtils","I64","JSResourceForInteraction","LSFactory","LSIntEnum","LSOptimisticFetchPendingGroupInviteStoredProcedure","ReQL","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useCallback,m=b.useEffect,n=b.useRef,o=c("JSResourceForInteraction")("MWJoinPublicChatDialog.react").__setRef("usePublicChatShortlinkCallback");function p(a){a=d("ConstUriUtils").getUri(a);if(a==null?void 0:a.isSubdomainOfDomain("m.me")){a=a==null?void 0:(a=a.getPath())==null?void 0:a.split("/").filter(function(a){return a!==""});return(a==null?void 0:a.length)===2&&a[0]==="j"?a[1]:null}return null}function a(a){var b=a.onSuccess,e=n(!1),f=n(),g=n(),k=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(o);var q=a[0];m(function(){return function(){f.current==null?void 0:f.current(),g.current==null?void 0:g.current()}},[]);return l(function(a){var h=p(a);h!=null&&(c("promiseDone")(k.runInTransaction(function(a){return c("LSOptimisticFetchPendingGroupInviteStoredProcedure")(c("LSFactory")(a),{linkHash:h})},"readwrite")),f.current=d("ReQL").fromTableAscending(k.tables.group_invitations_pending).getKeyRange(h).subscribe(function(a,c){if(c.operation!=="delete"){var l=c.value;if((l==null?void 0:l.isSubscribed)&&(l==null?void 0:l.threadId)!=null){b==null?void 0:b((i||(i=d("I64"))).to_string(l.threadId));return}else if((l==null?void 0:l.linkJoinType)!=null&&(i||(i=d("I64"))).equal(l==null?void 0:l.linkJoinType,(j||(j=d("LSIntEnum"))).ofNumber(6))&&(l==null?void 0:l.threadId)!=null){b==null?void 0:b((i||(i=d("I64"))).to_string(l==null?void 0:l.threadId));return}(l==null?void 0:l.threadTitle.length)>0&&!e.current&&(e.current=!0,q({linkHash:h,onClick:function(){Boolean(l.needsAdminApprovalForNewParticipant)||(g.current=d("ReQL").fromTableAscending(k.tables.threads).subscribe(function(a,c){c.operation!=="delete"&&(c.value.threadInviteLink!=null&&p(c.value.threadInviteLink)===h&&(b==null?void 0:b((i||(i=d("I64"))).to_string(c.value.threadKey)),g.current==null?void 0:g.current()))}))}},function(){e.current=!1}),f.current==null?void 0:f.current())}}))},[k,q,b])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArmadilloCutoverClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("699");b=d("FalcoLoggerInternal").create("armadillo_cutover_client",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupdDYIFileSaver",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("file-saver").__setRef("EncryptedBackupdDYIFileSaver");function a(a,b){h.onReadyImmediately(function(c){c=c.saveAs;c(b,a)})}g.saveFile=a}),98);
__d("LSAppState",[],(function(a,b,c,d,e,f){a=Object.freeze({BACKGROUND:0,FOREGROUND:1});f["default"]=a}),66);
__d("LSDeleteAndReenrollDeviceState",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] Beginning execution."),function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] No reenrollment trigger table. Doing nothing."),d[1]=c.createArray(),void 0!==void 0?d[8]=(d[1].push(void 0),d[1]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure","No reenrollment trigger table. Doing nothing.",d[1],c.i64.cast([0,3]))},function(a){return d[2]=c.i64.of_float(Date.now()),d[3]=c.i64.random(),d[5]="Finishing execution. Execution time: ",d[6]=c.i64.to_string(c.i64.sub(d[2],d[0])),d[7]=" ms",d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure] ",d[4],d[5],d[4],d[6],d[4],d[7]].join("")),c.i64.eq(c.i64.mod_(d[3],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[8]=",",d[9]=c.createArray(),void 0!==void 0?d[10]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure",[d[5],d[8],d[6],d[8],d[7]].join(""),d[9],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDeleteAndReenrollDeviceStateStoredProcedure";e.exports=a}),null);
__d("LSEncryptedBackupsOnboardingDecision",[],(function(a,b,c,d,e,f){a=Object.freeze({FAILURE:-1,NO_DECISION_MADE:0,BACKUP_CREATED:1,STORE_ON_DEVICE_ONLY:2});f["default"]=a}),66);
__d("LSEncryptedBackupsVirtualDeviceType",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFLINE:1,HSM:2,BLOCK_STORE:3,KEYCHAIN:5,ICLOUD_KVS:6,GOOGLE_DRIVE:7,CLOUDKIT:8,ICLOUD_DRIVE:9,PASSKEY:10,ICLOUD_KEYCHAIN:11,GOOGLE_ONE_AUTO_BACKUP:12,SECURITY_QUESTION_HSM:13});f["default"]=a}),66);
__d("LSIssueThreadRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueThreadRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return d[11]=c.createArray(),d[14]=(d[11].push("Skipping thread remove since EB is disabled. act thread id = "),d[11]),d[14]=(d[11].push(a[0]),d[11]),d[12]=d[11].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[12]].join("")),c.resolve()},function(a){return d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,1])),d[13].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[13].set("error_message",""),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[18]=f.backupTenancy,d[17]=f.encryptionVersion,d[11]=void 0,c.i64.neq(d[11],void 0)?c.resolve(d[12]=d[11]):c.sequence([function(a){return d[19]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[29]=(d[19].push(c.i64.cast([0,0])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[29]=(d[19].push(c.i64.cast([0,2])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[29]=(d[19].push(c.i64.cast([0,3])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[29]=(d[19].push(c.i64.cast([0,4])),d[19]):0,d[24]=c.createArray(),d[25]=c.i64.of_int32(d[19].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(a){return d[29]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[29]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return d[32]=(d[24].push(d[30]),d[24])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[29]=c.createArray(),d[30]=c.i64.of_int32(d[24].length),c.i64.gt(d[30],c.i64.cast([0,0]))?c.loopAsync(d[30],function(a){return d[32]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],d[32]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(a){return d[35]=(d[29].push(c.i64.to_string(d[33])),d[29])}])}):c.resolve()},function(a){return d[31]=d[29].join(","),d[26]=d[31]}])},function(a){return d[24].some(function(a){return c.i64.eq(d[17],a)})?d[27]=d[17]:d[27]=void 0,c.i64.neq(d[27],void 0)?d[28]=d[27]:d[28]=void 0,d[12]=d[28]}])},function(e){return c.i64.neq(d[12],void 0)?d[13]=d[12]:d[13]=c.i64.cast([0,0]),c.i64.neq(d[18],void 0)?d[14]=d[18]:d[14]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return d[19]=["eb_upload",":",a[0]].join(""),d[20]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),d[19],c.i64.cast([0,50026]),"",c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[20],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[20],c.i64.cast([0,0])))),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[21],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,2]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[0],sortKey:a[1],persistentId:"",isInstamadillo:!1,lsTraceId:a[3],error:a[4]})},function(b){return c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message backup task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued thread remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve())},function(a){return d[22]=new c.Map(),d[22].set("task_id",d[21]),a=[d[22],void 0],d[15]=a[0],d[16]=a[1],a}]):c.sequence([function(b){return d[19]=c.createArray(),d[22]=(d[19].push("Skipping thread remove since EB is disabled. act thread id = "),d[19]),d[22]=(d[19].push(a[0]),d[19]),d[20]=d[19].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[20]].join("")),c.resolve()},function(a){return d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,24])),d[21].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[21].set("error_message",""),a=[void 0,d[21]],d[15]=a[0],d[16]=a[1],a}])},function(a){return a=[d[15],d[16]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueThreadRemove",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueThreadRemoveStoredProcedure";e.exports=a}),null);
__d("LSIssueThreadRemoveStoredProcedure",["LSIssueThreadRemove","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actThreadId;d[1]=b.sortKey;d[2]=b.source;d[3]=b.traceId;d[4]=b.error;return c("LSIssueThreadRemove").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOnboardFromExistingDeviceStart",["LSGetLatestEpochKeys","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][onboardFromExistingDeviceStart] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.db.table(282).add({stateKey:"auto_restored",stateValue:"true"})},function(b){return c.db.table(185).add({pk:c.i64.cast([0,1]),backupId:a[0],deviceRegistrationId:a[2],taskId:c.i64.cast([0,1])})},function(a){return c.storedProcedure(b("LSGetLatestEpochKeys"),!1).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return d[2]!==void 0?c.sequence([function(e){return d[11]=d[2].get("epoch_keys"),d[2],d[12]=d[11].get("epoch_id"),d[11],d[13]=new c.Map(),d[13].set("existing_device_id",a[1]),d[13].set("base_epoch_id",d[12]),d[14]=new c.Map(),d[14].set("success",d[13]),d[15]=c.toJSON(d[14]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"meb_onboard_from_existing_device",c.i64.cast([0,50036]),d[15],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[4]=void 0}]):c.sequence([function(a){return d[3]!==void 0?c.sequence([function(a){return d[12]=d[3].get("error_message"),d[3],d[13]=d[3].get("error_code"),d[3],d[14]=new c.Map(),d[14].set("error_code",d[13]),d[14].set("stored_procedure","onboardFromExistingDeviceStart"),d[14].set("error_message",d[12]),d[15]=new c.Map(),d[15].set("failure",d[14]),d[16]=c.toJSON(d[15]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"meb_onboard_from_existing_device",c.i64.cast([0,50036]),d[16],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[18]=new c.Map(),d[18].set("error_code",d[13]),d[18].set("stored_procedure","LSEncryptedBackupsOnboardFromExistingDeviceStartStoredProcedure"),d[18].set("error_message",""),d[11]=d[18]}]):c.sequence([function(a){return d[12]=new c.Map(),d[12].set("error_code",c.i64.cast([0,603])),d[12].set("stored_procedure","onboardFromExistingDeviceStart"),d[12].set("error_message","Unknown error encountered"),d[13]=new c.Map(),d[13].set("failure",d[12]),d[14]=c.toJSON(d[13]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"meb_onboard_from_existing_device",c.i64.cast([0,50036]),d[14],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[15]=a[0],a})},function(a){return d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,603])),d[16].set("stored_procedure","LSEncryptedBackupsOnboardFromExistingDeviceStartStoredProcedure"),d[16].set("error_message",""),d[11]=d[16]}])},function(a){return d[4]=d[11]}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][onboardFromExistingDeviceStart] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"onboardFromExistingDeviceStart",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsOnboardFromExistingDeviceStartStoredProcedure";e.exports=a}),null);
__d("LSOnboardFromExistingDeviceStartStoredProcedure",["LSOnboardFromExistingDeviceStart","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.backupId;d[1]=b.previousDeviceId;d[2]=b.newDeviceRegistrationId;return c("LSOnboardFromExistingDeviceStart").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSReportAppState",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("app_state",a[0]),d[0].set("request_id",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"ls_presence_report_app_state",c.i64.cast([0,123]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,6]),void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSPresenceReportAppStateStoredProcedure";e.exports=a}),null);
__d("LSReportAppStateStoredProcedure",["LSReportAppState","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.appState;d[1]=b.requestId;return c("LSReportAppState").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSUpdateBackupsTable",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSDeleteAndReenrollDeviceState","LSDeleteBackupOnClient","LSFlushDataTrace.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Beginning execution."),c.sequence([function(d){return a[5]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[5],c.i64.cast([0,1467]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[7]=a[0],a})},function(a){return d[7]?d[8]=!0:d[8]=!1,d[8]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[9]=c.createArray(),void 0!==void 0?d[10]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[9],c.i64.cast([0,3]))):c.resolve()}])},function(e){return a[0]?c.sequence([function(a){return c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(a,b){b=a.done;a=a.value;return b?d[7]=!1:(a.item,d[7]=!0)})},function(e){return d[7]&&!0?c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0],d[11]=f[0],d[12]=f[1],d[13]=f[2],d[14]=f[3],d[15]=f[4],d[16]=f[5],d[17]=f[6],d[18]=f[7],d[19]=f[8],d[20]=f[9],d[21]=f[10],d[22]=f[11],d[23]=f[12],d[24]=f[13],d[25]=f[14],d[26]=f[15],d[27]=f[16],f):(e=a.item,c.sequence([function(a){return d[36]=e.backupTenancy,d[35]=e.encryptionVersion,d[31]=void 0,c.i64.neq(d[31],void 0)?c.resolve(d[32]=d[31]):c.sequence([function(a){return d[37]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[47]=(d[37].push(c.i64.cast([0,0])),d[37]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[39]?d[47]=(d[37].push(c.i64.cast([0,2])),d[37]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[40]?d[47]=(d[37].push(c.i64.cast([0,3])),d[37]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[41]?d[47]=(d[37].push(c.i64.cast([0,4])),d[37]):0,d[42]=c.createArray(),d[43]=c.i64.of_int32(d[37].length),c.i64.gt(d[43],c.i64.cast([0,0]))?c.loopAsync(d[43],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[37],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=(d[42].push(d[48]),d[42])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[47]=c.createArray(),d[48]=c.i64.of_int32(d[42].length),c.i64.gt(d[48],c.i64.cast([0,0]))?c.loopAsync(d[48],function(a){return d[50]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[42],d[50]).then(function(a){return a=a,d[51]=a[0],d[52]=a[1],a})},function(a){return d[53]=(d[47].push(c.i64.to_string(d[51])),d[47])}])}):c.resolve()},function(a){return d[49]=d[47].join(","),d[44]=d[49]}])},function(a){return d[42].some(function(a){return c.i64.eq(d[35],a)})?d[45]=d[35]:d[45]=void 0,c.i64.neq(d[45],void 0)?d[46]=d[45]:d[46]=void 0,d[32]=d[46]}])},function(a){return c.i64.neq(d[32],void 0)?d[33]=d[32]:d[33]=c.i64.cast([0,0]),c.i64.neq(d[36],void 0)?d[34]=d[36]:d[34]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[33],d[34],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],d[27]=a[16],a}]))})},function(e){return d[29]=!1,d[30]=c.i64.of_int32(a[3].length),c.i64.gt(d[30],c.i64.cast([0,0]))?c.loopAsync(d[30],function(e){return d[31]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=d[32].get("device_id"),d[32],d[29]=d[29]||c.i64.eq(d[12],d[34])}])}):c.resolve()},function(e){return d[29]?c.resolve():(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Client device id not in the list of device ids associated with the backupDeleting backup client state"),c.i64.neq(d[12],void 0)?c.storedProcedure(b("LSDeleteBackupOnClient"),void 0,void 0,!1,a[5],void 0,!0):c.storedProcedure(b("LSDeleteBackupOnClient"),void 0,void 0,!1,a[5],void 0,!0))}]):c.resolve()},function(a){return c.forEach(c.filter(c.db.table(184).fetch(),function(a){return!0}),function(a){return a["delete"]()})},function(e){return d[9]=c.i64.of_int32(a[2].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(e){return d[11]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[2],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return d[14]=d[12].get("virtual_devices"),d[12],d[14]?d[15]=!1:d[15]=!0,d[15]?c.resolve():(d[16]=c.i64.of_int32(d[14].length),c.i64.gt(d[16],c.i64.cast([0,0]))?c.loopAsync(d[16],function(a){return d[17]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],d[17]).then(function(a){return a=a,d[18]=a[0],d[19]=a[1],a})},function(a){return d[20]=d[18].get("virtual_device_id"),d[18],d[21]=d[18].get("virtual_device_type"),d[18],d[22]=d[18].get("creation_time"),d[18],d[23]=d[18].get("device_created_on"),d[18],d[24]=d[18].get("cloud_service_account"),d[18],d[25]=d[18].get("hsm_pin_normalization_status"),d[18],d[26]=d[18].get("requires_hsm_migration"),d[18],d[27]=d[18].get("hsm_migration_status"),d[18],d[28]=d[18].get("security_question_type"),d[18],d[29]=d[12].get("backup_id"),d[12],c.count(c.filter(c.db.table(184).fetch(),function(a){return c.i64.eq(a.backupId,d[29])&&c.blobs.eq(a.virtualDeviceId,d[20])})).then(function(a){return d[30]=a})},function(a){return c.i64.eq(d[30],c.i64.cast([0,0]))?(d[31]=d[12].get("backup_id"),d[12],c.db.table(184).add({pk:void 0,backupId:d[31],virtualDeviceId:d[20],virtualDeviceType:d[21],creationTime:d[22],deviceCreatedOn:d[23],requiresHsmMigration:d[26]})):c.resolve()}])}):c.resolve())}])}):c.resolve()},function(a){return c.forEach(c.db.table(172).fetch(),function(a){return a["delete"]()})},function(e){return d[10]=c.i64.of_int32(a[1].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[1],c.i64.cast([0,0])).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(a){return d[13]=d[11].get("backup_id"),d[11],d[14]=d[11].get("backup_tenancy"),d[11],c.forEach(c.filter(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){return c.i64.eq(a.pk,c.i64.cast([0,1]))&&c.i64.lt(a.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(172).add({pk:c.i64.cast([0,1]),backupId:d[13],authorityLevel:c.i64.cast([0,80]),backupTenancy:d[14],isUserOptedOut:a[6],hasOtcEligibleDevices:a[7],encryptionManagementDelegatorId:a[8]})}]):c.sequence([function(a){return c.forEach(c.filter(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){return c.i64.eq(a.pk,c.i64.cast([0,1]))&&c.i64.lt(a.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(172).add({pk:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,80]),isUserOptedOut:a[6],hasOtcEligibleDevices:a[7],encryptionManagementDelegatorId:a[8]})}])}]):c.sequence([function(e){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Fetch backup task did not succeed."),a[5]!==void 0?c.sequence([function(d){return a[5]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[5],c.i64.cast([0,85]),c.i64.cast([0,2]),"[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Fetch backup task did not succeed.",void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[8]=a[0],a})},function(a){return d[8]?d[9]=!0:d[9]=!1,d[9]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[10],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(e){return d[7]=c.createArray(),a[5]!==void 0?d[8]=(d[7].push(a[5]),d[7]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUpdateBackupsTableStoredProcedure","Fetch backup task did not succeed.",d[7],c.i64.cast([0,3]))},function(a){return c.forEach(c.db.table(172).fetch(),function(a){return a["delete"]()})},function(a){return c.forEach(c.filter(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){return c.i64.eq(a.pk,c.i64.cast([0,1]))&&c.i64.lt(a.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(a){return c.db.table(172).add({pk:c.i64.cast([0,1]),backupId:c.i64.cast([-1,4294967295]),authorityLevel:c.i64.cast([0,80]),hasOtcEligibleDevices:!1})},function(e){return c.sequence([function(e){return a[5]!==void 0?c.sequence([function(d){return a[5]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[5],c.i64.cast([0,85]),c.i64.cast([0,2]),"The flow did not succeed",void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[10]?d[11]=!0:d[11]=!1,d[11]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[12],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[5]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[5]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[8]=a[0],a})},function(a){return d[8]?d[9]=!0:d[9]=!1,d[9]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[10],c.i64.cast([0,3]))):c.resolve()}])}])},function(e){return c.sequence([function(e){return c.sequence([function(d){return a[5]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[5],c.i64.cast([0,84]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(d){return a[5]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[5]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[7]=a[0],a})},function(a){return d[7]?d[8]=!0:d[8]=!1,d[8]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[9]=c.createArray(),void 0!==void 0?d[10]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[9],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.random(),d[4]="Finishing execution. Execution time: ",d[5]=c.i64.to_string(c.i64.sub(d[1],d[0])),d[6]=" ms",d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] ",d[3],d[4],d[3],d[5],d[3],d[6]].join("")),c.i64.eq(c.i64.mod_(d[2],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[7]=",",d[8]=c.createArray(),void 0!==void 0?d[9]=(d[8].push(void 0),d[8]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUpdateBackupsTableStoredProcedure",[d[4],d[7],d[5],d[7],d[6]].join(""),d[8],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsUpdateBackupsTableStoredProcedure";e.exports=a}),null);
__d("LSUpdateBackupsTableStoredProcedure",["LSUpdateBackupsTable","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.isSuccess;d[1]=b.backupIds;d[2]=b.virtualDevices;d[3]=b.deviceIds;d[4]=b.backupMetadata;d[5]=b.traceId;d[6]=b.isUserOptedOut;d[7]=b.hasOtcEligibleDevices;d[8]=b.encryptionManagementDelegatorId;return c("LSUpdateBackupsTable").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSUserVisibleErrorsUtil",["LSFactory","LSRemoveErrorStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("promiseDone")(a.runInTransaction(function(a){return c("LSRemoveErrorStoredProcedure")(c("LSFactory")(a),{errorId:b})},"readwrite",void 0,void 0,f.id+":24"))}g.removeUserVisibleErrorFromTable=a}),98);
__d("MAWBridgeDeleteMessagesOfThreadHandler",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssueThreadRemoveStoredProcedure","LSMEBTaskCreationSource","MAWEncryptedBackupUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.actionType===2){var e=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a));if(e==null||!(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return;yield c("LSIssueThreadRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:b.threadId,sortKey:b.ts.toString(),source:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM_WEB)})}});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeIssuePointQueryHandler",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssuePointQueryRestoreTaskStoredProcedure","LSMEBTaskCreationSource","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","Promise","QuickPerformanceLogger","WAGetStorageQplAnnotations","WAHashStringToNumber","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e){return d("MAWEncryptedBackupUtils").getBackupTenancy(a).then(function(f){if(f==null)return(k||(k=b("Promise"))).resolve();if(!(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return(k||(k=b("Promise"))).resolve();f=d("WAHashStringToNumber").hashStringToNumber(e.messageId);var g=f.toString(),l=e.startSortKey,m=e.taskSource===c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES?c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:c("LSMEBTaskCreationSource").EB_POINT_QUERY_IN_ACT;m===c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES&&((h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(1056840931,"814"),f),c("promiseDone")(d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(1056840931,"814"),a)})),h.markerPoint(c("qpl")._(1056840931,"814"),"eb_point_restore_begin",{data:{"int":{msgId:f},string:{jid:e.jid}},instanceKey:f}));d("MAWEBRestoreTrackingUtils").markEBRestorePoint(m,g);if(l!=null)return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:e.messageId,source:(j||(j=d("LSIntEnum"))).ofNumber(m),startSortKey:l,threadId:e.threadId,traceId:g}).then(function(){});else return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:e.messageId,source:(j||(j=d("LSIntEnum"))).ofNumber(m),threadId:e.threadId,traceId:g}).then(function(){})})}g.call=a}),98);
__d("MAWBridgeTraceUtils",["I64","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&c===b&&(i||(i=d("I64"))).equal(a.traceType,e))return a.shouldFlush===!1;else return!1})).then(function(a){if(a.length!==0)return(h||(h=b("Promise"))).resolve(a[0].traceId);else return(h||(h=b("Promise"))).resolve()})}g.getTraceId=a}),98);
__d("MAWBridgeStartTraceHandler",["ArmadilloDataTraceCheckPoint","ArmadilloDataTraceType","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceTag","LSFactory","LSRequestId","MAWAckLevel","MAWBridgeTraceUtils","MAWMsg","MAWTimeUtils","Promise","gkx","killswitch","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){return a.data_trace_meta.add({contextOne:void 0,contextThree:b.externalId,contextTwo:void 0,foregroundTimestampMs:(i||(i=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(b.ts),predefinedId:void 0,shouldFlush:!1,traceId:e,traceType:b.traceType}).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceCreated,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){var f;if(b.threadKey==null||!c("gkx")("23995"))return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one,tags:(f=b.threadKey)!=null?f:void 0})})}function a(a,e){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return(h||(h=b("Promise"))).resolve();var f=e.ack,g=e.traceType;return f===d("MAWAckLevel").ACK.clock?d("MAWBridgeTraceUtils").getTraceId(a,e.externalId,e.traceType).then(function(f){if(f!=null)return;var k=c("LSRequestId").generate();if((i||(i=d("I64"))).equal(g,d("ArmadilloDataTraceType").armadilloMessageSend))return j(a,e,k).then(function(){var b=e.threadType;if(b==="User")return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceGroupMessage,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){if(e.isFirstMsg)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloActMessageSend,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:"first_msg=1"})}).then(function(){var f=e.type_;f=f===d("MAWMsg").text?d("ArmadilloDataTraceCheckPoint").traceTextMessage:f===d("MAWMsg").ptt||f===d("MAWMsg").image||f===d("MAWMsg").video||f===d("MAWMsg").gif?d("ArmadilloDataTraceCheckPoint").traceMediaMessage:void 0;if(f==null)return(h||(h=b("Promise"))).resolve(f);c("promiseDone")(c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one}));return(h||(h=b("Promise"))).resolve(f)}).then(function(b){if(b==null)return;if(!(i||(i=d("I64"))).equal(b,d("ArmadilloDataTraceCheckPoint").traceMediaMessage))return;b=e.type_;b=b===d("MAWMsg").image?d("LSDataTraceTag").image:b===d("MAWMsg").ptt?d("LSDataTraceTag").audio:b===d("MAWMsg").video?d("LSDataTraceTag").video:b===d("MAWMsg").gif?d("LSDataTraceTag").animatedImage:d("LSDataTraceTag").none;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").richMediaMediaSendAttachmentType,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:String(b)})});else return j(a,e,k)}):(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeStartTraceWithTraceIdHandler",["MAWMainTraceUtils","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMainTraceUtils").startTraceWithTxn(a,d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),b.traceId,b.traceType,void 0,void 0,b.traceContext)}g.call=a}),98);
__d("MAWBridgeUpdateDYIStatusV2",["EncryptedBackupdDYIFileSaver","EncryptedBackupsDYIFileUtils","EncryptedBackupsDYITypes","FBLogger","QPLUserFlow","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){d("EncryptedBackupdDYIFileSaver").saveFile(a,b),window.setTimeout(function(){c("promiseDone")(e())},1e3)});return i.apply(this,arguments)}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.qplEvent,f=a.qplInstanceKeyE2E;a=a.status;var g=c("FBLogger")("[labyrinth_web][dyi]");if(a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed)try{if(navigator.storage==null)throw g.mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.");var i=d("EncryptedBackupsDYIFileUtils").DyiArchiveFilename,j=(yield d("EncryptedBackupsDYIFileUtils").getRootFolderHandle()),k=(yield d("EncryptedBackupsDYIFileUtils").readFile(j,i));yield h(i,k,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield j.removeEntry(i)}));g.info("Saving file with filename ",i);e!=null&&f!=null&&c("QPLUserFlow").endSuccess(e,{instanceKey:f});g.info("DYI Complete")}catch(a){g.mustfix("Failed to download the DYI archive: %s",a);e!=null&&f!=null&&c("QPLUserFlow").endFailure(e,a.message,{instanceKey:f});return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed}a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed&&(e!=null&&f!=null&&c("QPLUserFlow").endFailure(e,"Unknown error",{instanceKey:f}));return a});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUpdateTraceHandler",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","MAWBridgeTraceEvent","Promise","ReQL","emptyFunction","killswitch","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e,f){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&e.externalIds.includes(b)&&(j||(j=d("I64"))).equal(a.traceType,e.traceType))return a.shouldFlush===!1;else return!1})).then(function(g){var i=[];return g.reduce(function(b,g){return b.then(function(){i.push(g.traceId);var b=e.errorMessage;if(b!=null)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,errorMessage:b,syncChannel:(j||(j=d("I64"))).neg_one});else return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,syncChannel:(j||(j=d("I64"))).neg_one})})},(h||(h=b("Promise"))).resolve()).then(function(){return i})})}function l(a,d){return d.reduce(function(b,d){return b.then(function(){return c("updateAndFlushLSDataTrace")(a,d)})},(h||(h=b("Promise"))).resolve())}function a(a,e){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return(h||(h=b("Promise"))).resolve();var f=e.event;if(f===c("MAWBridgeTraceEvent").ReceivedReceipt)return k(a,e,d("ArmadilloDataTraceCheckPoint").deliveryReceiptReceived).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").ReceivedSent)return k(a,e,d("ArmadilloDataTraceCheckPoint").advancedCryptoMEMSendTaskComplete).then(c("emptyFunction"));else if(f===c("MAWBridgeTraceEvent").FlowEndForFailure)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE)).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").FlowEndForSuccess)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH)).then(function(b){return l(a,b)});else return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeUploadMessageGQLHandler",["I64","JSResourceForInteraction","LSEncryptedBackupsBackupTenancy","LSIntEnum","MAWEBFrontendQPLLogger","MAWEncryptedBackupUtils","MAWSharedWriteToMPSTables","Promise","asyncToGeneratorRuntime","gkx","isInstamadilloEB","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("isInstamadilloEB")())return(j||(j=b("Promise"))).resolve();var g=(yield a.runInTransaction(function(a){return d("MAWEncryptedBackupUtils").getBackupTenancy(a)},"readonly",void 0,void 0,f.id+":36"));e=(yield (j||(j=b("Promise"))).all(e.map(function(b){var e=b.protoMsg;if(g==null||!(h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))){if(b.uploadTrackingInstanceKey!=null){var j=b.uploadTrackingInstanceKey;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(j,"user_device_not_enrolled_invalid_gql_request");d("MAWEBFrontendQPLLogger").endEBUploadTracking(j)}return}return(c("qex")._("1527")===!0||c("gkx")("23966"))&&e!=null?a.runInTransaction(function(a){return d("MAWSharedWriteToMPSTables").writeToMPSTables(a,e,b.threadId,!1).then(function(){return b})},"readwrite",void 0,void 0,f.id+":70"):b})));e=e.filter(Boolean);if(e.length===0)return;yield l(a,e)});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield c("JSResourceForInteraction")("MAWEncryptedBackupsMessageUploadMutation").__setRef("MAWBridgeUploadMessageGQLHandler").load().then(function(c){return c.uploadMessageOverGQL(a,b)})});return m.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUploadMessageByBatchGQLHandler",["FBLogger","MAWBridgeUploadMessageGQLHandler","MAWEBFrontendQPLLogger","Promise","WALogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Error in GQL upload batch of size "," , error: ",""]);i=function(){return a};return a}function j(a,b){a.forEach(function(a){a.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(a.uploadTrackingInstanceKey,b)})}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){j(e.messages,"upload_tracking_bridge_batch_handler_gql");try{yield d("MAWBridgeUploadMessageGQLHandler").call(a,e.messages),c("FBLogger")("labyrinth_web").info("Successfully completed GQL upload batch of size %s",e.messages.length),j(e.messages,"upload_tracking_bridge_batch_handler_gql_issued")}catch(a){a instanceof Error&&j(e.messages,a.message),e.messages.forEach(function(a){a.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").failEBUploadTracking(a.uploadTrackingInstanceKey,"gql_upload_failed")}),d("WALogger").ERROR(i(),e.messages.length,a)}return(h||(h=b("Promise"))).resolve()});return k.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUploadMessageByBatchHandler",["MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUploadMessageHandler","MAWEBFrontendQPLLogger","Promise","QPLUserFlow","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){a.forEach(function(a){a.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(a.uploadTrackingInstanceKey,b)})}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){i(e.messages,"upload_tracking_bridge_batch_handler");e.qpl.forEach(function(a){return c("QPLUserFlow").addPoint(a.event,a.action.name,{instanceKey:a.instanceKey,timestamp:a.timestamp})});e.checkPoint.forEach(function(b){return c("promiseDone")(d("MAWBridgeTraceRecordCheckpointHandler").call(a,b))});for(e of e.messages)yield d("MAWBridgeUploadMessageHandler").call(a,e);return(h||(h=b("Promise"))).resolve()});return j.apply(this,arguments)}g.call=a}),98);
__d("MWChatEncryptedBackupsAddDeviceWithEBKeys",["ClientConsistencyEventEmitter","CurrentUser","EBSMGating","FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSOnboardFromExistingDeviceStartStoredProcedure","LSShape","MAWEncryptedBackupsPersistedDB","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBODSEntityName.enum","MWEncryptedBackupsInitializeRestoreDeferred","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","QPLUserFlow","ReQL","WALogger","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][auto_restore] unexpected error when calling add device sproc: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][auto_restore] error when auto restoring: ",""]);k=function(){return a};return a}var l=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWChatEncryptedBackupsAddDeviceWithEBKeys"),m=c("requireDeferred")("MWEncryptedBackupsFetchBackupIds").__setRef("MWChatEncryptedBackupsAddDeviceWithEBKeys");function a(a){var b=a.backupId,e=a.db,g=a.newDeviceRegistrationId,n=a.previousDeviceId;c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"START_LS_ADD_DEVICE_WITH_EB_KEYS_SPROC");e.runInTransaction(function(a){return c("LSOnboardFromExistingDeviceStartStoredProcedure")(c("LSFactory")(a),{backupId:b,newDeviceRegistrationId:g,previousDeviceId:n})},"readwrite",void 0,void 0,f.id+":65").then(function(a){a=a[0];c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"END_LS_ADD_DEVICE_WITH_EB_KEYS_SPROC");if(a!=null){var b;a=d("LSShape").toRecord(a).error_message;c("QPLUserFlow").addPoint((b=d("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"FAIL_LS_ADD_DEVICE_WITH_EB_KEYS_SPROC_WIPE_EBSM");c("QPLUserFlow").addPoint(b.restoreQplEvent,"FAIL_LS_ADD_DEVICE_WITH_EB_KEYS_SPROC_WIPE_EBSM");d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:b.restoreQplEvent});d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:b.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH});d("WALogger").ERROR(k(),a);c("promiseDone")(d("MAWEncryptedBackupsPersistedDB").deleteEBIDB());switch(c("CurrentUser").getAppID()){case 772021112871879..toString():c("ClientConsistencyEventEmitter").emit("hardRefresh","ls_forced_refresh");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","ls_forced_refresh")}return}var f=d("ReQL").fromTableAscending(e.tables.secure_encrypted_backups_client_state).subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"){a=b.value.authorityLevel;(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"END_LS_ADD_DEVICE_WITH_EB_KEYS_TASK"),f(),c("promiseDone")(d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:e,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY})),l.onReady(function(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}),d("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:e,onFailure:function(){d("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:d("EBSMGating").isBackendSetupSuccessfulForEBSM()}},errorName:"FAILED_TO_RESTORE_ENCRYPTED_BACKUP",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:d("EBSMGating").isBackendSetupSuccessfulForEBSM()}},errorName:"FAILED_TO_RESTORE_ENCRYPTED_BACKUP",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH})},onSuccess:function(){c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"auto_restore"}}),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGating").isBackendSetupSuccessfulForEBSM()}},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH})}}),m.onReady(function(a){a=a.encryptedBackupsFetchBackupIds;a(e)["catch"](function(a){return c("FBLogger")("labyrinth_web").mustfix("Auto restore: Error when fetching backup ids, %s",a)})}))}})})["catch"](function(a){d("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:d("EBSMGating").isBackendSetupSuccessfulForEBSM()}},errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH}),d("WALogger").ERROR(j(),a)})}g.addDeviceWithEBKeys=a}),98);
__d("MWChatEncryptedBackupsHandleRestoreWrapper.react",["cr:6736","cr:8598","cr:8599","cr:8601"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:8598")==null?void 0:b("cr:8598")();b("cr:8599")==null?void 0:b("cr:8599")();b("cr:8601")==null?void 0:b("cr:8601")();b("cr:6736")==null?void 0:b("cr:6736")();return null}g["default"]=a}),98);
__d("useMWPReportPresence",["I64","LSAppState","LSFactory","LSReportAppStateStoredProcedure","MsgrPresenceUpdateFalcoEvent","gkx","promiseDone","react","useReStore","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return k(function(b){var e=c("uuidv4")();c("gkx")("21097")&&c("MsgrPresenceUpdateFalcoEvent").log(function(){return{client_request_id:e,event_type:"app_state_update",is_foregrounded:b===c("LSAppState").FOREGROUND,is_new_ls_presence_reporting:!0}});c("promiseDone")(a.runInTransaction(function(a){return c("LSReportAppStateStoredProcedure")(c("LSFactory")(a),{appState:(i||(i=d("I64"))).of_float(b),requestId:e})},"readwrite",void 0,void 0,f.id+":40"))},[a])}g["default"]=a}),98);
__d("useMWPPresenceManager",["CometUserActivityMonitor","LSAppState","react","useDebouncedComet","useMWPReportPresence"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){var a=c("useMWPReportPresence")(),b=c("useDebouncedComet")(a,{wait:2e3});i(function(){var a=function(a){a==="ACTIVE"?b(c("LSAppState").FOREGROUND):b(c("LSAppState").BACKGROUND)},e=d("CometUserActivityMonitor").getActivityState();a(e);var f=d("CometUserActivityMonitor").subscribe(a);return function(){return f&&f.remove()}},[b])}g.useMWPPresenceManager=a}),98);
__d("MWSetupPresenceReporting.react",["useMWPPresenceManager"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("useMWPPresenceManager").useMWPPresenceManager();return null}g["default"]=a}),98);
__d("useMWV2ChatCloseTabs",["MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MessengerWebEventsFalcoEvent","react","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useCometFeedNoRoutingNavigationEventLogger")(),b=d("MWChatStateContext").useChatState(function(a){return a.tabs}),e=d("MWChatStateV2.react").useDispatch();return i(function(){a(Date.now(),"","messenger");c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"close_all_chat_tabs"}});var f=Date.now();return e(Array.from(b.values()).flatMap(function(a){return d("MWChatStateActions").closeTab(f,a.tabId)}))},[e,b,a])}g["default"]=a}),98);
__d("useMWV2ChatMinimizeTabs",["MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatStateV2IsOpen","MessengerWebEventsFalcoEvent","react","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useCometFeedNoRoutingNavigationEventLogger")(),b=d("MWChatStateContext").useChatState(function(a){return a.tabs}),e=d("MWChatStateV2.react").useDispatch();return i(function(){a(Date.now(),"","messenger");c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"minimize_all_chat_tabs"}});var f=Date.now();return e(Array.from(b.values()).filter(function(a){return d("MWChatStateV2IsOpen").isOpen(void 0,a)}).flatMap(function(a){return d("MWChatStateActions").minimizeTab(f,a.tabId)}))},[e,b,a])}g["default"]=a}),98);
__d("MWV2ChatOptionsHeadPopover.react",["fbt","ix","ARIA_LABEL_PLACEHOLDER_FIXME","MWXMenu.react","MWXMenuItem.react","fbicon","react","useMWV2ChatCloseTabs","useMWV2ChatMinimizeTabs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=a.hasOpenTabs;babelHelpers.objectWithoutPropertiesLoose(a,["hasOpenTabs"]);var e=c("useMWV2ChatCloseTabs")(),f=c("useMWV2ChatMinimizeTabs")();return k.jsxs(c("MWXMenu.react"),{"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),withArrow:!0,children:[k.jsx(c("MWXMenuItem.react"),{icon:d("fbicon")._(i("491584"),20),onClick:function(a){return e()},primaryText:h._("__JHASH__NqZo9nQ8ikh__JHASH__"),testid:void 0}),b?k.jsx(c("MWXMenuItem.react"),{icon:d("fbicon")._(i("518013"),20),onClick:function(a){return f()},primaryText:h._("__JHASH__hQGxv_C9Fv6__JHASH__"),testid:void 0}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WebStorageManagerEstimatesFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2144");b=d("FalcoLoggerInternal").create("web_storage_manager_estimates",a);e=b;g["default"]=e}),98);
__d("mwEBSetBackupState",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.setBackupState;a=a.state;switch(a){case 1:break;case 2:b(2);break;case 3:b(3);break;case 4:b(4);break;case-1:b(-1);break;case 0:break}}f["default"]=a}),66);
__d("mwEBUpdateBackupsTable",["LSFactory","LSUpdateBackupsTableStoredProcedure","LSVec"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.backupIds,d=a.deviceIds,e=a.encryptionManagementDelegatorId,g=a.hasOtcEligibleDevices,h=a.isSuccess,i=a.isUserOptedOut,j=a.storage,k=a.virtualDevices;return j.runInTransaction(function(a){return c("LSUpdateBackupsTableStoredProcedure")(c("LSFactory")(a),{backupIds:b,backupMetadata:c("LSVec").ofArray([]),deviceIds:d,encryptionManagementDelegatorId:e,hasOtcEligibleDevices:g,isSuccess:h,isUserOptedOut:i,virtualDevices:k})},"readwrite",void 0,void 0,f.id+":48")}g["default"]=a}),98);
__d("mwProcessBackupIds",["I64","LSAuthorityLevel","LSIntEnum","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","QPLEvent","QPLUserFlow","WebSession"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k="-1";function l(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,"EB_STATE_"+a+"."),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent})}function m(a){var b=a.clientStateData;a=a.encryptedBackupData;a=a==null?void 0:a.backupId;if(a==null){l("NO_BACKUPS_PRESENT");return 2}if((h||(h=d("I64"))).to_string(a)===k){d("MWChatEncryptedBackupsLogging").endFailure({errorName:"FETCH_ERROR",event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent});return-1}if(b==null||!(h||(h=d("I64"))).equal(b.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){l("DEVICE_NOT_ONBOARDED");return 4}if(!(h||(h=d("I64"))).equal(b.backupId,a)){l("DEVICE_NOT_ONBOARDED_BACKUP_ID_MISMATCH");return 4}l("DEVICE_ONBOARDED");return 3}function a(a){var b=a.clientStateData;a=a.encryptedBackupData;if(a==null)return 0;var e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((j||(j=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:e,processBackupIdsVersion:"JS",sessionTabId:d("WebSession").getId()}}});if((h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))){l("FETCH_IN_PROGRESS");return 1}else if((h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return m({clientStateData:b,encryptedBackupData:a});else{d("MWChatEncryptedBackupsLogging").endFailure({errorName:"FETCH_ERROR_WRONG_AUTHORITY_LEVEL",event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent});return-1}}g["default"]=a}),98);
__d("useMWChatDisplayEncryptedBackupsRestoreToast",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","ReQL","ReQLSuspense","react","useMAWEncryptedBackupsRestoreToast","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect,m=b.useState;function a(){var a=(h||(h=c("useReStore")))(),b=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(a.tables.encrypted_backups_client_restore_status)},[a],f.id+":27"),e=c("useMAWEncryptedBackupsRestoreToast")(),g=e.showInProgressToast,k=e.showSuccessToast;e=m(!1);var n=e[0],o=e[1];l(function(){var a=b.some(function(a){a=a.restoreStatus;return a!=null&&(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS))});n&&!a?(o(!1),k()):!n&&a&&(o(!0),g())},[n,b,g,k])}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAutoRestore",["I64","LSAuthorityLevel","LSIntEnum","MWChatEncryptedBackupsAddDeviceWithEBKeys","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","ReQL","ReQLSuspense","react","useLabyrinthLogging","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect,m=b.useRef,n=b.useState;function a(){var a=c("MWChatEncryptedBackupsQPLSource.enum").AUTO_RESTORE,b=n(!0),e=b[0],g=b[1],k=(h||(h=c("useReStore")))();b=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var o=b.startFlow,p=d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(k.tables.secure_encrypted_backups_epochs):d("ReQL").empty()},[e,k],f.id+":42"),q=d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(k.tables.secure_encrypted_backups_client_state).filter(function(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}):d("ReQL").empty()},[e,k],f.id+":49"),r=c("useMWEBBackupState")({entrypoint:c("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE}),s=d("ReQLSuspense").useArray(function(){return e?d("ReQL").fromTableAscending(k.tables.experiences_shared_state):d("ReQL").empty()},[e,k],f.id+":66"),t=m(!1);l(function(){if(t.current||r===1||r===0)return;if(r===3){var b=q==null?void 0:q.deviceId,e=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:k,sharedStateTable:s,stateKey:"auto_restored"}),f=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:k,sharedStateTable:s,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}),h=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:k,sharedStateTable:s,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY});e=e||f||h;f=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();if(!e&&f!==""&&q!=null&&p!=null&&b!=null){d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);o({additionalAnnotations:{device_type:"auto_restore"},event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH,source:a});h=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();o({additionalAnnotations:{eb_session_identifier:h,restore_upsell_first_impression_time:h},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:a});d("MWChatEncryptedBackupsAddDeviceWithEBKeys").addDeviceWithEBKeys({backupId:q.backupId,db:k,newDeviceRegistrationId:f,previousDeviceId:b})}}t.current=!0;g(!1)},[r,q,p,s,a,o,k])}g["default"]=a}),98);
__d("useMWEBListenForChangesToBackupStateXDevice",["I64","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useEffect,l=b.useRef;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.encrypted_backups_status_trigger)},[b],f.id+":27"),g=l(null);k(function(){e!=null&&g.current!==e.pk&&!(i||(i=d("I64"))).equal(e.pk,(i||(i=d("I64"))).of_float(0))&&(g.current=e.pk,a())},[e,a])}g["default"]=a}),98);
__d("useMWEBPropagateEbStateChangesThroughRelay",["CometRelay","FBLogger","Promise","ReQL","ReQLSuspense","promiseDone","react","requireDeferred","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useCallback,l=e.useEffect,m=c("requireDeferred")("mwEBSetBackupState").__setRef("useMWEBPropagateEbStateChangesThroughRelay"),n=c("requireDeferred")("mwProcessBackupIds").__setRef("useMWEBPropagateEbStateChangesThroughRelay");function a(a){var e=a.listenForChangesToBackupState,g=(i||(i=c("useReStore")))(),j=d("CometRelay").useRelayEnvironment(),o=d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(g.tables.encrypted_backups):d("ReQL").empty()},[g,e],f.id+":41"),p=d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(g.tables.secure_encrypted_backups_client_state):d("ReQL").empty()},[g,e],f.id+":48"),q=k(function(a){d("CometRelay").commitLocalUpdate(j,function(b){b=b.getRoot().getLinkedRecord("viewer");if(b==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][backup_state] A viewer record does not exist when propagating EB state.");return}b.setValue(a,"backup_state")})},[j]);a=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();a=a.shouldHideEBFlow;var r=c("useMAWHasUserVisibleErrors")(),s=a||r;l(function(){(o!=null||p!=null)&&c("promiseDone")((h||(h=b("Promise"))).all([n.load(),m.load()]),function(a){var b=a[0];a=a[1];b=s?0:b({clientStateData:p,encryptedBackupData:o});a({setBackupState:q,state:b})})},[p,g,o,j,s,q])}g["default"]=a}),98);
__d("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7143386292434169"}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery.graphql",["useMWEncryptedBackupsFetchBackupIdsV2ImplQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsFetchBackupIdsV2ImplQuery",selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsFetchBackupIdsV2Impl_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEncryptedBackupsFetchBackupIdsV2ImplQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"encryption_management_delegator_id",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesConnection",kind:"LinkedField",name:"devices",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEBDevice",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEBUserPreferences",kind:"LinkedField",name:"xfb_eb_user_preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"onboarding_decision",storageKey:null},a],storageKey:null}]},params:{id:b("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery_facebookRelayOperation"),metadata:{},name:"useMWEncryptedBackupsFetchBackupIdsV2ImplQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2Impl_query.graphql",["useMWEncryptedBackupsFetchBackupIdsV2ImplQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:[],operation:b("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery.graphql")}},name:"useMWEncryptedBackupsFetchBackupIdsV2Impl_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"encryption_management_delegator_id",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesConnection",kind:"LinkedField",name:"devices",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEBDevice",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEBUserPreferences",kind:"LinkedField",name:"xfb_eb_user_preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"onboarding_decision",storageKey:null}],storageKey:null}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7376203159158541"}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2Query.graphql",["useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsFetchBackupIdsV2Query",selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsFetchBackupIdsV2Impl_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEncryptedBackupsFetchBackupIdsV2Query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"encryption_management_delegator_id",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesConnection",kind:"LinkedField",name:"devices",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEBDevice",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEBUserPreferences",kind:"LinkedField",name:"xfb_eb_user_preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"onboarding_decision",storageKey:null},a],storageKey:null}]},params:{id:b("useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation"),metadata:{},name:"useMWEncryptedBackupsFetchBackupIdsV2Query",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2",["Base64Utils","CometRelay","FBLogger","I64","LSEncryptedBackupsBackupTenancy","LSEncryptedBackupsOnboardingDecision","LSEncryptedBackupsVirtualDeviceType","LSIntEnum","LSShape","LSVec","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsListenForChangesToBackupStateInitPath","Promise","QPLEvent","QPLUserFlow","WebSession","cr:10048","promiseDone","react","requireDeferred","useAsyncReStore","useMWEBListenForChangesToBackupStateXDevice","useMWEBPropagateEbStateChangesThroughRelay","useMWEncryptedBackupsFetchBackupIdsV2Impl_query.graphql","useMWEncryptedBackupsFetchBackupIdsV2Query.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n;e=k||d("react");var o=e.useEffect,p=e.useRef,q=e.useState,r=c("requireDeferred")("mwEBUpdateBackupsTable").__setRef("useMWEncryptedBackupsFetchBackupIdsV2");function s(a){if(a!=null){a=a;a=c("LSEncryptedBackupsOnboardingDecision")[a];return a}return void 0}function t(a){if(a!=null){a=a;a=c("LSEncryptedBackupsBackupTenancy")[a];return(l||(l=d("LSIntEnum"))).ofNumber(a)}return void 0}function u(a){var e=a.data,f=a.dbPromise,g=a.isInitalLoad,h=a.setListenForChangesToBackupState,i=e.xfb_backup,k=i==null?void 0:i.id;if(i!=null&&k!=null){g.current===!0&&b("cr:10048")!=null&&c("promiseDone")(b("cr:10048")(f));var m=!1;(i==null?void 0:i.has_otc_eligible_devices)!=null?m=i==null?void 0:i.has_otc_eligible_devices:c("FBLogger")("labyrinth_web").mustfix("failed to retrieve has_otc_eligible_devices. defaulting to false");var o=c("LSVec").ofArray([d("LSShape").ofRecord({backup_id:(n||(n=d("I64"))).of_string(k),backup_tenancy:t(i.backup_tenancy)})]),p=[];i.virtual_devices.forEach(function(a){var b,e=a.client_generated_id;if(k==null||e==null||a.device_type==null){c("FBLogger")("labyrinth_web").warn("Invalid virtual device fetched in fetchBackupsIdsV2.");return}var f="REQUIRES_MIGRATION";f=a.migration_status===f;var g=a.device_type;g=c("LSEncryptedBackupsVirtualDeviceType")[g];p.push(d("LSShape").ofRecord({backup_id:(n||(n=d("I64"))).of_string(k),virtual_device_ids:c("LSVec").ofArray([d("LSShape").ofRecord({virtual_device_id:d("Base64Utils").toArrayBuffer(e)})]),virtual_devices:c("LSVec").ofArray([d("LSShape").ofRecord({creation_time:(b=a.creation_time)!=null?b:void 0,device_created_on:(b=a.device_created_on)!=null?b:void 0,requires_hsm_migration:f,virtual_device_id:d("Base64Utils").toArrayBuffer(e),virtual_device_type:(l||(l=d("LSIntEnum"))).ofNumber(g)})])}))});var q=[];(a=i.devices)==null?void 0:a.edges.forEach(function(a){var b;if(((b=a.node)==null?void 0:b.id)==null)return;q.push(d("LSShape").ofRecord({device_id:(n||(n=d("I64"))).of_string((b=a.node)==null?void 0:b.id)}))});var u=i.encryption_management_delegator_id!=null?(n||(n=d("I64"))).of_string(i.encryption_management_delegator_id):void 0;c("promiseDone")((j||(j=b("Promise"))).all([r.load(),f]),function(a){var b=a[0],d=a[1];c("promiseDone")(b({backupIds:o,deviceIds:c("LSVec").ofArray(q),encryptionManagementDelegatorId:u,hasOtcEligibleDevices:m,isSuccess:!0,isUserOptedOut:(a=i.is_user_opted_out)!=null?a:void 0,storage:d,virtualDevices:c("LSVec").ofArray(p)}),function(){h(!0),g.current===!0&&(g.current=!1,c("MWEncryptedBackupsListenForChangesToBackupStateInitPath").preloadEBData(d))})})}else{var v=s((a=e.xfb_eb_user_preferences)==null?void 0:a.onboarding_decision)===c("LSEncryptedBackupsOnboardingDecision").STORE_ON_DEVICE_ONLY;c("promiseDone")((j||(j=b("Promise"))).all([r.load(),f]),function(a){var b=a[0];a=a[1];c("promiseDone")(b({backupIds:c("LSVec").ofArray([]),deviceIds:c("LSVec").ofArray([]),hasOtcEligibleDevices:!1,isSuccess:!0,isUserOptedOut:v,storage:a,virtualDevices:c("LSVec").ofArray([])}),function(){h(!0)})})}}function v(a){var e=c("useAsyncReStore")(),f=p(!0),g=p(!1),i=q(!1),j=i[0],k=i[1];i=d("CometRelay").useRefetchableFragment(h!==void 0?h:h=b("useMWEncryptedBackupsFetchBackupIdsV2Impl_query.graphql"),a);var l=i[0],n=i[1];c("useMWEBPropagateEbStateChangesThroughRelay")({listenForChangesToBackupState:j});a=function(){var a=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((m||(m=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:a,fetchBackupIdsVersion:"GQL",sessionTabId:d("WebSession").getId()}}});n({},{fetchPolicy:"network-only",onComplete:function(){g.current=!1,c("QPLUserFlow").getActiveFlowIDs().includes((m||(m=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent))&&d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent})}})};c("useMWEBListenForChangesToBackupStateXDevice")(a);o(function(){if(g.current===!0)return;g.current=!0;u({data:l,dbPromise:e,isInitalLoad:f,setListenForChangesToBackupState:k})},[l,e])}function a(){var a=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("useMWEncryptedBackupsFetchBackupIdsV2Query.graphql"),{});v(a)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometDismissFBNuxMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8135555943121384"}),null);
__d("CometDismissFBNuxMutation.graphql",["CometDismissFBNuxMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id_input"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id_input"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometDismissFBNuxMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux_dismiss",plural:!1,selections:[d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometDismissFBNuxMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux_dismiss",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometDismissFBNuxMutation_facebookRelayOperation"),metadata:{},name:"CometDismissFBNuxMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("encodeNUXIDForRelay",[],(function(a,b,c,d,e,f){"use strict";var g="NUX_ID:";function a(a){return typeof a==="string"&&a.startsWith(g)?{nuxID:Number(a.replace(g,"")),relayID:a}:{nuxID:Number(a),relayID:g+a}}f["default"]=a}),66);
__d("CometDismissFBNuxMutation",["CometDismissFBNuxMutation.graphql","CometRelay","encodeNUXIDForRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometDismissFBNuxMutation.graphql");function a(a,b,e,f){b=c("encodeNUXIDForRelay")(b);var g=b.nuxID;b=b.relayID;return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:e,onError:f,optimisticResponse:{nux_dismiss:{__typename:"NUX",id:b,should_show:!1}},variables:{nux_id_input:g}})}g.commit=a}),98);
__d("CometFocusedStoryViewPortableVideoContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometLogImpressionFBNuxMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5712935945399791"}),null);
__d("CometLogImpressionFBNuxMutation.graphql",["CometLogImpressionFBNuxMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometLogImpressionFBNuxMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"log_nux_view",plural:!1,selections:[d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometLogImpressionFBNuxMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"log_nux_view",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometLogImpressionFBNuxMutation_facebookRelayOperation"),metadata:{},name:"CometLogImpressionFBNuxMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8041112739247711"}),null);
__d("CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation.graphql",["CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"log_nux_view_and_increment_view_count",plural:!1,selections:[d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"log_nux_view_and_increment_view_count",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation_facebookRelayOperation"),metadata:{},name:"CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometLogImpressionFBNuxMutation",["CometLogImpressionFBNuxMutation.graphql","CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation.graphql","CometRelay","encodeNUXIDForRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CometLogImpressionFBNuxMutation.graphql");function a(a,b,e,f){b=c("encodeNUXIDForRelay")(b);b=b.nuxID;return d("CometRelay").commitMutation(a,{mutation:j,onCompleted:e,onError:f,variables:{nux_id:b}})}var k=i!==void 0?i:i=b("CometLogImpressionFBNuxMutationWithNoImpressionLimitMutation.graphql");function e(a,b,e,f){b=c("encodeNUXIDForRelay")(b);b=b.nuxID;return d("CometRelay").commitMutation(a,{mutation:k,onCompleted:e,onError:f,variables:{nux_id:b}})}g.commit=a;g.commitNuxWithNoImpressionLimit=e}),98);
__d("CometTahoeCustomVideoAreaContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState,k=b.c,l=i.createContext({customVideoAreaHidden:!0,setCustomVideoAreaHidden:c("emptyFunction")});function a(a){var b=k(5);a=a.children;var c=j(!0),d=c[0];c=c[1];b[0]!==d?(c={customVideoAreaHidden:d,setCustomVideoAreaHidden:c},b[0]=d,b[1]=c):c=b[1];d=c;c=d;b[2]!==c||b[3]!==a?(d=i.jsx(l.Provider,{value:c,children:a}),b[2]=c,b[3]=a,b[4]=d):d=b[4];return d}g.CometTahoeCustomVideoAreaContext=l;g.CometTahoeCustomVideoAreaContextProvider=a}),98);
__d("CometTahoeSidePaneContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={rightRailExpanded:!1,rightRailHidden:!1,setRightRailExpanded:function(){},setRightRailHidden:function(){}};c=a.createContext(b);g["default"]=c}),98);
__d("CometWatchAndScrollTriggerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={isControlShown:!1,isTriggerDisabled:!1,setIsControlShown:null,setIsTriggerDisabled:null};c=a.createContext(b);g["default"]=c}),98);
__d("VideoControlsContainerFocusedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.c,n=44,o={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},"default":{bottom:"x1ey2m1c",flexDirection:"x1q0g3np",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x11uqc5h",$$css:!0},firstRow:{alignItems:"x6s0dn4",direction:"xzt5al7",display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=m(15),e=a.children,f=a.height,g=a.initialBottomRowAddOn,i=a.isBackgroundVisible,p=a.isVisible,q=a.xstyle;a=g===void 0?null:g;var r=d("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(a);g=(j||(j=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions();var s=g.release,t=g.reserve,u=(a=f)!=null?a:n;b[0]!==p||b[1]!==i||b[2]!==t||b[3]!==u||b[4]!==s?(g=function(){if(Boolean(p)||Boolean(i)){var a=t({location:"bottom",size:u});return function(){s(a)}}},f=[p,i,t,s,u],b[0]=p,b[1]=i,b[2]=t,b[3]=u,b[4]=s,b[5]=g,b[6]=f):(g=b[5],f=b[6]);l(g,f);var v=i===!1||p===!1,w=i===!0||p===!0;b[7]!==r||b[8]!==p||b[9]!==v||b[10]!==w||b[11]!==q||b[12]!==u||b[13]!==e?(a=k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsx(c("VideoControlsContainerFocusedContext").Provider,{value:b,children:k.jsxs("div",{className:(h||(h=c("stylex")))(o["default"],r==null&&o.firstRow,p===!1&&o.hidden,p===!0&&o.visible),"data-testid":void 0,children:[k.jsx("div",{className:h(o.backgroundGradient,v&&o.hidden,w&&o.visible,q),style:{height:u}}),k.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:v,children:r==null?e:k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np",children:e}),k.jsx(c("CometErrorBoundary.react"),{children:r})]})})]})})}}),b[7]=r,b[8]=p,b[9]=v,b[10]=w,b[11]=q,b[12]=u,b[13]=e,b[14]=a):a=b[14];return a}g["default"]=a}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.c,m={contracted:{paddingTop:"xexx8yu",paddingEnd:"x1mpkggp",paddingBottom:"x18d9i69",paddingStart:"x1t2a60a",$$css:!0},"default":{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",flexWrap:"xozqiw3",$$css:!0},expanded:{flexGrow:"x1iyjqo2",$$css:!0},hidden:{opacity:"x1fmh03i",pointerEvents:"x47corl",$$css:!0},noPaddingEnd:{paddingEnd:"x4uap5",$$css:!0},noPaddingStart:{paddingStart:"xkhd6sd",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=l(10),d=a.children,e=a.isVisible,f=a.noPaddingEnd;a=a.noPaddingStart;e=e===void 0?!0:e;f=f===void 0?!1:f;a=a===void 0?!1:a;var g=k(c("VideoControlsContainerFocusedContext"));e=e||g;g=k(c("VideoPlayerControlsHiddenContext"));f=f&&m.noPaddingEnd;a=a&&m.noPaddingStart;var i=e?m.visible:m.hidden,n;b[0]!==f||b[1]!==a||b[2]!==i?(n=(h||(h=c("stylex")))(m["default"],m.contracted,f,a,i),b[0]=f,b[1]=a,b[2]=i,b[3]=n):n=b[3];f=g||!e;b[4]!==f||b[5]!==d?(a=j.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f,children:d}),b[4]=f,b[5]=d,b[6]=a):a=b[6];b[7]!==n||b[8]!==a?(i=j.jsx("div",{className:n,children:a}),b[7]=n,b[8]=a,b[9]=i):i=b[9];return i}function b(a){var b=l(8),d=a.children;a=a.isVisible;a=a===void 0?!0:a;var e=k(c("VideoControlsContainerFocusedContext"));a=a||e;e=k(c("VideoPlayerControlsHiddenContext"));var f=a?m.visible:m.hidden,g;b[0]!==f?(g=(h||(h=c("stylex")))(m["default"],m.expanded,f),b[0]=f,b[1]=g):g=b[1];f=e||!a;b[2]!==f||b[3]!==d?(e=j.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f,children:d}),b[2]=f,b[3]=d,b[4]=e):e=b[4];b[5]!==g||b[6]!==e?(a=j.jsx("div",{className:g,children:e}),b[5]=g,b[6]=e,b[7]=a):a=b[7];return a}g.Contracted=a;g.Expanded=b}),98);
__d("VideoPlayerLiveRewindControlContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({cachedLiveRewindTimestamp:null,onLiveRewindControlEvent:function(){}});g["default"]=b}),98);
__d("VideoPlayerPlaybackControlBase.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j;function a(a){var b=k(10),e=a.onPress;a=a.playbackIcon;var f,g;bb0:switch(a){case"pause":var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._("__JHASH__neZzFA-dHLC__JHASH__"),b[0]=j):j=b[0];f=j;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=d("fbicon")._(i("497675"),20),b[1]=j):j=b[1];g=j;break bb0;case"replay":b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._("__JHASH__HFCl7btmLVQ__JHASH__"),b[2]=j):j=b[2];f=j;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(j=d("fbicon")._(i("534219"),20),b[3]=j):j=b[3];g=j;break bb0;case"play":b[4]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._("__JHASH__Pdft-1wnTrL__JHASH__"),b[4]=j):j=b[4];f=j;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(j=d("fbicon")._(i("484863"),20),b[5]=j):j=b[5];g=j;break bb0;default:throw c("unrecoverableViolation")("The playback icon is unsupported "+a,"comet_video_player")}b[6]!==g||b[7]!==f||b[8]!==e?(j=l.jsx(c("VideoPlayerControlIcon.react"),{icon:g,label:f,onPress:e,tooltip:f}),b[6]=g,b[7]=f,b[8]=e,b[9]=j):j=b[9];return j}g["default"]=a}),226);
__d("VideoPlayerPlaybackControl.react",["VideoHomeTypedLiteLogger","VideoPlayerHooks","VideoPlayerPlaybackControlBase.react","react","useFeedClickEventHandler","useMinifiedProductAttribution","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useEffect,l=b.c;function a(a){var b=l(12),e=a.isNPC;a=a.unmuteOnPlay;var f=e===void 0?!1:e,g=a===void 0?!1:a;b[0]!==f?(e=function(){f&&c("VideoHomeTypedLiteLogger").log({event:"npc_control_playback_button_impression"})},a=[f],b[0]=f,b[1]=e,b[2]=a):(e=b[1],a=b[2]);k(e,a);e=c("useVideoPlayerControllerSubscription")(m);var h=e.showPauseButton;a=e.showReplayButton;var n=(i||(i=d("VideoPlayerHooks"))).useController(),o=c("useMinifiedProductAttribution")();b[3]!==f||b[4]!==o||b[5]!==h||b[6]!==n||b[7]!==g?(e=function(){f&&c("VideoHomeTypedLiteLogger").log({attribution_id_v2:o,click_point:"npc_control_playback_button",event:"click",event_target:"video"}),h?n.pause("user_initiated"):(g&&n.setMuted(!1,"user_initiated"),n.play("user_initiated"))},b[3]=f,b[4]=o,b[5]=h,b[6]=n,b[7]=g,b[8]=e):e=b[8];e=c("useFeedClickEventHandler")(e);a=h?"pause":a?"replay":"play";var p;b[9]!==e||b[10]!==a?(p=j.jsx(c("VideoPlayerPlaybackControlBase.react"),{onPress:e,playbackIcon:a}),b[9]=e,b[10]=a,b[11]=p):p=b[11];return p}function m(a,b){var c=a.getCurrentState(),d=c.ended,e=c.paused,f=c.playing,g=c.stalling;a=a.getPlayheadPosition();c=c.duration;e=!e&&(f||g);g=!f&&d&&a>=c;return b!=null&&b.showPauseButton===e&&b.showReplayButton===g?b:{showPauseButton:e,showReplayButton:g}}g["default"]=a}),98);
__d("getFormattedTimestamp",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b="";a=a;isNaN(a)?a=0:a<0&&(a*=-1,b="-");var c=Math.floor(a/d("DateConsts").SEC_PER_HOUR),e=Math.floor((a-c*d("DateConsts").SEC_PER_HOUR)/d("DateConsts").SEC_PER_MIN);a=Math.round(a-c*d("DateConsts").SEC_PER_HOUR-e*d("DateConsts").SEC_PER_MIN);a===d("DateConsts").SEC_PER_MIN&&(a=0,e++);e===d("DateConsts").MIN_PER_HOUR&&(e=0,c++);a=("0"+a).slice(-2);if(c===0)return""+b+e+":"+a;else{e=("0"+e).slice(-2);return""+b+c+":"+e+":"+a}}g["default"]=a}),98);
__d("VideoPlayerPlaybackTimerBase.react",["getFormattedTimestamp","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(11),d=a.currentTime;a=a.duration;var e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="x14ctfv x1rg5ohu x1pg5gke xss6m8b x7h9g57 x1t4t16n x8j4wrb x9hgts1 x2b8uid x27saw0 x3ajldb",f="x1s688f x15hfatp",b[0]=e,b[1]=f):(e=b[0],f=b[1]);var g;b[2]!==d?(g=c("getFormattedTimestamp")(d),b[2]=d,b[3]=g):g=b[3];b[4]!==g?(d=j.jsx("span",{className:f,children:g}),b[4]=g,b[5]=d):d=b[5];b[6]!==a?(f=a!=null&&j.jsxs(j.Fragment,{children:[j.jsx("span",{children:" / "}),j.jsx("span",{children:c("getFormattedTimestamp")(a)})]}),b[6]=a,b[7]=f):f=b[7];b[8]!==d||b[9]!==f?(g=j.jsxs("div",{className:e,children:[d,f]}),b[8]=d,b[9]=f,b[10]=g):g=b[10];return g}g["default"]=a}),98);
__d("useLiveRewindUtils",["VideoPlayerHooks","VideoPlayerLiveRewindControlContext","react","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");j.useCallback;var k=j.useContext,l=j.c,m=10,n=10;function a(){var a=l(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==b||a[1]!==e?(f=function(){var a=b.getCurrentState().seekableRanges;a=a!=null?(a=a.end(a.length()-1))!=null?a:0:0;var c=Math.min(b.getPlayheadPosition()+m,a);c===a?(b.setIsLiveRewindActive(!1),b.seek(a)):b.seek(c);e.onLiveRewindControlEvent()},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}function b(){var a=l(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==b||a[1]!==e?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;a=Math.max(b.getPlayheadPosition()-n,a);b.seek(a);b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}function e(){var a=l(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==b||a[1]!==e?(f=function(){var a=b.getCurrentState().seekableRanges;a=a!=null?(a=a.end(a.length()-1))!=null?a:0:0;b.seek(a);b.play("user_initiated");b.setIsLiveRewindActive(!1);e.onLiveRewindControlEvent()},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}function f(){var a=l(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==b||a[1]!==e?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;b.seek(a);b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}function o(){var a=l(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==b||a[1]!==e?(f=function(){b.play("user_initiated"),e.onLiveRewindControlEvent()},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}function p(){var a=l(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==b||a[1]!==e?(f=function(){b.pause("user_initiated"),b.setIsLiveRewindActive(!0),e.onLiveRewindControlEvent()},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}function q(){var a=l(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==b||a[1]!==e?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;b.seek(a);b.setIsLiveRewindActive(!0);b.play("user_initiated");e.onLiveRewindControlEvent()},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}function r(){var a=l(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==b||a[1]!==e?(f=function(a){var c,d=b.getCurrentState().seekableRanges;c=(c=d==null?void 0:d.start(0))!=null?c:0;d=d!=null?(d=d.end(d.length()-1))!=null?d:0:0;c=Math.min(c+a,d);b.scrubEnd(c);c===d?b.setIsLiveRewindActive(!1):b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}function s(){return c("useVideoPlayerControllerSubscription")(t)}function t(a){return(a=(a=a.getCurrentState().seekableRanges)==null?void 0:a.start(0))!=null?a:0}g.useLiveRewindForward=a;g.useLiveRewindBack=b;g.useLiveRewindLive=e;g.useLiveRewindStart=f;g.useLiveRewindPlay=o;g.useLiveRewindPause=p;g.useLiveRewindReplay=q;g.useLiveRewindScrub=r;g.useLiveRewindSeekableStartTime=s}),98);
__d("VideoPlayerPlaybackTimer.react",["VideoPlayerHooks","VideoPlayerPlaybackTimerBase.react","react","useLiveRewindUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;b=a;function l(){var a=j(2),b=d("useLiveRewindUtils").useLiveRewindSeekableStartTime(),e=(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200),f=i.useCurrentTimeThrottled(1e3,m),g=i.useIsLiveRewindActive();g=g?f:e-b;a[0]!==g?(f=k.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:g,duration:null}),a[0]=g,a[1]=f):f=a[1];return f}function m(a){var b=a.getCurrentState();a=a.getPlayheadPosition();return a-b.duration}function n(){var a=j(3),b=(i||(i=d("VideoPlayerHooks"))).useDuration(),e=i.useCurrentTimeThrottled(200),f;a[0]!==e||a[1]!==b?(f=k.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:e,duration:b}),a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function a(){var a=j(2),b=(i||(i=d("VideoPlayerHooks"))).useIsLive();if(b){a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(l,{}),a[0]=b):b=a[0];return b}else{a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(n,{}),a[1]=b):b=a[1];return b}}e=b;g["default"]=e}),98);
__d("VideoPlayerPointerDrag",["react","useResizeObserver","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=j(null),b=j(null),d=c("useResizeObserver")(function(c,d){a.current=d.getBoundingClientRect(),b.current=d}),e=c("useStable")(function(){return function(){var c=b.current;c?a.current=c.getBoundingClientRect():a.current=null}});return{invalidateRootRect:e,rootRectRef:a,rootSizeRefCallback:d}}function b(a,b){if(b==null)return null;var c=Math.max(0,Math.min(b.width,a.clientX-b.left));a=Math.max(0,Math.min(b.height,a.clientY-b.top));return{ratioX:b.width>0?c/b.width:0,ratioY:b.height>0?a/b.height:0}}function l(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return{clientX:d.clientX,clientY:d.clientY}}return null}function m(a,b){var c=a;switch(b.type){case"start":c=babelHelpers["extends"]({},a,{clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":a.lastEffect});break;case"move":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":"move"};break;case"end":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"end"};break;case"cancel":if(a.dragState!=="dragging")break;c={clientX:a.clientX,clientY:a.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"cancel"};break;default:break}return c.dragState!==a.dragState||c.lastEffect!==a.lastEffect||c.clientX!==a.clientX||c.clientY!==a.clientY?c:a}var n={clientX:0,clientY:0,dragState:"idle",lastEffect:null},o=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function p(a,b,c){var d=n,e=null,f=null,g=function(b){d=m(d,b),a(d)},h=function(a){g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},i=function(a){e&&e();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},j=function(){e&&e();g({type:"cancel"});var a=b.current.onDragCancelSync;a==null?void 0:a(d)},k=function(a){a=l(a,c.current);if(a==null)return;g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},p=function(a){a=l(a,c.current);if(a==null)return;f&&f();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},q=p;return{destroy:function(){e&&e(),f&&f()},onMouseDown:function(a){o()||a.preventDefault();g({clientX:a.clientX,clientY:a.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);e||(window.addEventListener("mousemove",h),window.addEventListener("mouseup",i),window.addEventListener("blur",j),window.addEventListener("mouseleave",j),e=function(){e=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i),window.removeEventListener("blur",j),window.removeEventListener("mouseleave",j)})},onTouchStart:function(a){a.preventDefault();var e=a.changedTouches[0];e!=null&&(c.current=e.identifier);e=l(a,c.current);if(e==null)return;g({clientX:e.clientX,clientY:e.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);f||(window.addEventListener("touchmove",k),window.addEventListener("touchend",p),window.addEventListener("touchcancel",q),window.addEventListener("blur",j),f=function(){f=null,window.removeEventListener("touchmove",k),window.removeEventListener("touchend",p),window.removeEventListener("touchcancel",q),window.removeEventListener("blur",j)})}}}function q(a,b){i(function(){var c=b.current,d=c.onDragCancel,e=c.onDragEnd,f=c.onDragMove;c=c.onDragStart;switch(a.lastEffect){case"start":c(a);return;case"move":f(a);return;case"end":e(a);return;case"cancel":d(a);return}},[a,b])}function r(a,b,d){var e=k(n),f=e[0],g=e[1];e=c("useStable")(function(){return p(g,a,b)});var h=e.destroy,j=e.onMouseDown;e=e.onTouchStart;i(function(){return h},[h]);return{dragState:f,rootProps:{onClick:function(a){a.stopPropagation(),a.preventDefault()},onMouseDown:j,onTouchStart:(d==null?void 0:d.hasTouchEvents)===!0?e:void 0}}}function e(a,b){var c=j(a),d=j(null);i(function(){c.current=a},[a]);d=r(c,d,b);b=d.dragState;d=d.rootProps;q(b,c);return{dragState:b,isDragging:b.dragState==="dragging",rootProps:d}}g.usePointerDragResizeObserver=a;g.computePointerOffsetRatio=b;g.usePointerDrag=e}),98);
__d("VideoPlayerSliderNub.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={"default":{backgroundColor:"x14hiurz",borderTopColor:"x1g7gg9k",borderEndColor:"xenha5r",borderBottomColor:"x1eoefnw",borderStartColor:"x124h113",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",boxShadow:"x1nqv1ya",display:"x1s85apg",height:"xdk7pt",marginRight:"x1x862rh",marginTop:"x1rdy4ex",position:"x10l6tqk",right:"x3m8u43",width:"x1xc55vz",zIndex:"x1vjfegm",$$css:!0},visible:{display:"x1lliihq",$$css:!0}};function a(a){var b=j(4);a=a.isVisible;a=a&&l.visible;var d;b[0]!==a?(d=(h||(h=c("stylex")))(l["default"],a),b[0]=a,b[1]=d):d=b[1];b[2]!==d?(a=k.jsx("div",{className:d,"data-testid":void 0}),b[2]=d,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("VideoPlayerScrubberBaseContentDefault.react",["CometVisualCompletionAttributes","VideoPlayerSliderNub.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=j(26),d=a.bufferedRatio,e=a.isLive,f=a.isLiveRewindActive,g=a.isNubVisible,i=a.playedRatio,m=a.timelineBackgroundXStyle,n=a.timelineBufferedXStyle;a=a.timelinePlayedXStyle;var o;b[0]!==m?(o=(h||(h=c("stylex")))(l.timelineBackground,m),b[0]=m,b[1]=o):o=b[1];m=!e&&l.timelineBufferedBackground;var p;b[2]!==m||b[3]!==n?(p=(h||(h=c("stylex")))(l.timelineBuffered,m,n),b[2]=m,b[3]=n,b[4]=p):p=b[4];m=(100*d).toFixed(5)+"%";b[5]!==m?(n={width:m},b[5]=m,b[6]=n):n=b[6];b[7]!==p||b[8]!==n?(d=k.jsx("div",babelHelpers["extends"]({className:p},c("CometVisualCompletionAttributes").IGNORE,{style:n})),b[7]=p,b[8]=n,b[9]=d):d=b[9];m=e&&!f&&l.liveTimePlayed;p=e&&f&&l.liveRewindTimePlayed;b[10]!==m||b[11]!==p||b[12]!==a?(n=(h||(h=c("stylex")))(l.timelinePlayed,m,p,a),b[10]=m,b[11]=p,b[12]=a,b[13]=n):n=b[13];e=(100*i).toFixed(5)+"%";b[14]!==e?(f={width:e},b[14]=e,b[15]=f):f=b[15];b[16]!==g?(m=k.jsx(c("VideoPlayerSliderNub.react"),{isVisible:g}),b[16]=g,b[17]=m):m=b[17];b[18]!==n||b[19]!==f||b[20]!==m?(p=k.jsx("div",babelHelpers["extends"]({className:n},c("CometVisualCompletionAttributes").IGNORE,{style:f,children:m})),b[18]=n,b[19]=f,b[20]=m,b[21]=p):p=b[21];b[22]!==o||b[23]!==d||b[24]!==p?(a=k.jsxs("div",{className:o,children:[d,p]}),b[22]=o,b[23]=d,b[24]=p,b[25]=a):a=b[25];return a}g["default"]=a}),98);
__d("useVideoPlayerScrubberState",["VideoPlayerPointerDrag","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState,k=b.c;function l(a,b){return Math.min(a>0?b/a:0,1)}function a(a){var b=k(41),e=a.bufferEnd,f=a.currentTime,g=a.duration,h=a.onScrubCancel,m=a.onScrubEnd,n=a.onScrubStart;a=a.supportsTouch;var o=d("VideoPlayerPointerDrag").usePointerDragResizeObserver(),p=o.invalidateRootRect,q=o.rootRectRef;o=o.rootSizeRefCallback;var r=j(0),s=r[0],t=r[1];r=j(!1);var u=r[0],v=r[1],w=c("usePrevious")(f),x;b[0]!==f||b[1]!==w?(r=function(){f!==w&&v(!1)},x=[f,w],b[0]=f,b[1]=w,b[2]=r,b[3]=x):(r=b[2],x=b[3]);i(r,x);b[4]!==h?(r=function(a){h()},b[4]=h,b[5]=r):r=b[5];b[6]!==q.current||b[7]!==h||b[8]!==g||b[9]!==m?(x=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,q.current);if(!a){h();return}t(a.ratioX);a=a.ratioX*g;m(a)},b[6]=q.current,b[7]=h,b[8]=g,b[9]=m,b[10]=x):x=b[10];var y;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(){v(!0)},b[11]=y):y=b[11];var z;b[12]!==q.current?(z=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,q.current);if(!a)return;t(a.ratioX)},b[12]=q.current,b[13]=z):z=b[13];var A;b[14]!==p||b[15]!==q.current||b[16]!==n?(A=function(a){p();a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,q.current);if(!a)return;t(a.ratioX);n()},b[14]=p,b[15]=q.current,b[16]=n,b[17]=A):A=b[17];b[18]!==r||b[19]!==x||b[20]!==z||b[21]!==A?(y={onDragCancel:r,onDragEnd:x,onDragEndSync:y,onDragMove:z,onDragStart:A},b[18]=r,b[19]=x,b[20]=z,b[21]=A,b[22]=y):y=b[22];r=a===!0;b[23]!==r?(x={hasTouchEvents:r},b[23]=r,b[24]=x):x=b[24];z=d("VideoPlayerPointerDrag").usePointerDrag(y,x);A=z.isDragging;a=z.rootProps;b[25]!==g||b[26]!==e?(r=l(g,e),b[25]=g,b[26]=e,b[27]=r):r=b[27];y=r;b[28]!==g||b[29]!==f?(x=l(g,f),b[28]=g,b[29]=f,b[30]=x):x=b[30];z=x;b[31]!==y||b[32]!==z||b[33]!==p||b[34]!==A||b[35]!==u||b[36]!==s||b[37]!==a||b[38]!==q||b[39]!==o?(e={bufferedRatio:y,currentPlayedRatio:z,invalidateRootRect:p,isDragging:A,isWaitingForSeek:u,pointerOffsetRatio:s,rootProps:a,rootRectRef:q,rootSizeRefCallback:o},b[31]=y,b[32]=z,b[33]=p,b[34]=A,b[35]=u,b[36]=s,b[37]=a,b[38]=q,b[39]=o,b[40]=e):e=b[40];return e}g["default"]=a}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerUserInteractionCounter","cr:2236","react","stylex","useVideoPlayerScrubberState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useMemo,n=e.useState,o={root:{cursor:"x1ypdohk",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",position:"x1n2onr6",userSelect:"x87ps6o",width:"xh8yej3",$$css:!0},rootWithReelsScrubber:{alignItems:"x6s0dn4",bottom:"xq6397w",cursor:"x1ypdohk",display:"x78zum5",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",position:"x1n2onr6",userSelect:"x87ps6o",width:"xh8yej3",$$css:!0},withoutVerticalPadding:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0}};function a(a){var e=a.bufferEnd,f=a.currentTime,g=a.disableKeyCommands,j=a.duration,p=a.hasReelsScrubber;p=p===void 0?!1:p;var q=a.hideNub;q=q===void 0?!1:q;var r=a.isLive,s=a.isLiveRewindActive,t=a.keyLeftDescription,u=a.keyRightDescription,v=a.onScrubCancel,w=a.onScrubEnd,x=a.onScrubStart,y=a.onUserInteraction,z=a.playFromBeginningImpl,A=a.renderScrubber,B=a.renderTooltip,C=a.skipBackwardImpl,D=a.skipForwardImpl,E=a.skipToEndImpl,F=a.supportsTouch,G=a.timelineBackgroundXStyle,H=a.timelineBufferedXStyle,I=a.timelinePlayedXStyle;a=a.withoutVerticalPadding;a=a===void 0?!1:a;var J=n(!1),K=J[0],L=J[1];J=n(0);var M=J[0],N=J[1];J=n(null);var O=J[0],P=J[1];J=c("useVideoPlayerScrubberState")({bufferEnd:e,currentTime:f,duration:j,onScrubCancel:v,onScrubEnd:w,onScrubStart:x,supportsTouch:F});e=J.bufferedRatio;v=J.currentPlayedRatio;var Q=J.invalidateRootRect;w=J.isDragging;x=J.isWaitingForSeek;F=J.pointerOffsetRatio;var R=J.rootProps,S=J.rootRectRef;J=J.rootSizeRefCallback;var T=l(function(){L(!0)},[]),U=l(function(){L(!1)},[]),V=l(function(a){Q();if(S.current!=null){var b=S.current.left,c=S.current.width,d=Math.max(0,Math.min(c,a.clientX-b));d=c>0?d/c:0;c=Number.isFinite(j)&&j>0?j*d:null;N(a.clientX-b);P(c)}},[j,Q,S]),W=K||w;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",W,y);y=K||w||x;x=w||x?F:r&&!s?1:v;F=m(function(){return g===!0?[]:[{command:{key:c("CometKeys").RIGHT},description:u,handler:D},{command:{key:c("CometKeys").LEFT},description:t,handler:C},{command:{key:c("CometKeys").HOME},description:h._("__JHASH__3cUloDtyzSK__JHASH__"),handler:z},{command:{key:c("CometKeys").END},description:h._("__JHASH__jTksR1FMT97__JHASH__"),handler:E}]},[g,u,D,t,C,z,E]);v={bufferedRatio:e,duration:j,hoveringPositionSec:O,isHovering:K,isLive:r,isLiveRewindActive:s,isNubVisible:!q&&y,playedRatio:x,timelineBackgroundXStyle:G,timelineBufferedXStyle:H,timelinePlayedXStyle:I};return k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:F,children:k.jsxs("div",babelHelpers["extends"]({},R,{"aria-label":h._("__JHASH__69czi8qDKMx__JHASH__"),"aria-orientation":"horizontal","aria-valuemax":j,"aria-valuemin":"0","aria-valuenow":f,className:(i||(i=c("stylex")))(p&&b("cr:2236")?o.rootWithReelsScrubber:o.root,a&&o.withoutVerticalPadding),"data-testid":void 0,onMouseEnter:T,onMouseLeave:U,onMouseMove:V,ref:J,role:"slider",tabIndex:"0",children:[p&&b("cr:2236")?k.jsx(b("cr:2236"),{bufferedRatio:e,isDragging:w,isInteracting:W,playedRatio:x}):k.jsx(k.Fragment,{children:A!=null?A(v):k.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},v))}),B!=null&&O!=null&&K&&k.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:M},children:B(O)})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerScrubber.react",["fbt","VideoPlayerHooks","VideoPlayerScrubberBase.react","react","useLiveRewindUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;b.useCallback;var l=b.c;function m(){return(j||(j=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(a){var b=l(48),e=a.onUserInteraction,f=a.renderScrubber;a=a.renderTooltip;var g=m(),i;i=(j||(j=d("VideoPlayerHooks"))).useDuration();var n=j.useController(),o=j.useBufferEnd(),p=j.useIsLive(),q=j.useIsLiveRewindActive(),r=d("useLiveRewindUtils").useLiveRewindScrub(),s=d("useLiveRewindUtils").useLiveRewindForward(),t=d("useLiveRewindUtils").useLiveRewindBack(),u=d("useLiveRewindUtils").useLiveRewindStart(),v=d("useLiveRewindUtils").useLiveRewindLive(),w=d("useLiveRewindUtils").useLiveRewindSeekableStartTime();p&&(i=i-w,i,g=g-w);w=i;var x;b[0]!==p||b[1]!==s||b[2]!==n||b[3]!==w?(x=function(){if(p)s();else{var a=n.getPlayheadPosition()+5;a>=i?n.seek(i-.01):n.seek(a)}},b[0]=p,b[1]=s,b[2]=n,b[3]=w,b[4]=x):x=b[4];i;w=x;b[5]!==p?(x=p?h._("__JHASH__Fazg7jyI-AJ__JHASH__"):h._("__JHASH__Hz44qTuOc36__JHASH__"),b[5]=p,b[6]=x):x=b[6];x=x;var y;b[7]!==p||b[8]!==t||b[9]!==n?(y=function(){if(p)t();else{var a=n.getPlayheadPosition()-5;a<0?n.seek(0):n.seek(a)}},b[7]=p,b[8]=t,b[9]=n,b[10]=y):y=b[10];y=y;var z;b[11]!==p?(z=p?h._("__JHASH__fXj-dMG-OtJ__JHASH__"):h._("__JHASH__KzLU7zLc4h8__JHASH__"),b[11]=p,b[12]=z):z=b[12];z=z;var A;b[13]!==p||b[14]!==u||b[15]!==n?(A=function(){p?u():n.seek(0)},b[13]=p,b[14]=u,b[15]=n,b[16]=A):A=b[16];A=A;var B=i,C;b[17]!==p||b[18]!==v||b[19]!==n||b[20]!==B?(C=function(){p?v():n.seek(i-.01)},b[17]=p,b[18]=v,b[19]=n,b[20]=B,b[21]=C):C=b[21];i;B=C;b[22]!==n?(C=function(){n.scrubEnd(null)},b[22]=n,b[23]=C):C=b[23];C=C;var D;b[24]!==n?(D=function(){n.scrubBegin()},b[24]=n,b[25]=D):D=b[25];D=D;var E;b[26]!==p||b[27]!==n||b[28]!==r?(E=function(a){!p?n.scrubEnd(a):r(a)},b[26]=p,b[27]=n,b[28]=r,b[29]=E):E=b[29];E=E;var F=i,G;b[30]!==o||b[31]!==g||b[32]!==F||b[33]!==p||b[34]!==q||b[35]!==z||b[36]!==x||b[37]!==C||b[38]!==E||b[39]!==D||b[40]!==e||b[41]!==A||b[42]!==f||b[43]!==a||b[44]!==y||b[45]!==w||b[46]!==B?(G=k.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:o,currentTime:g,duration:F,isLive:p,isLiveRewindActive:q,keyLeftDescription:z,keyRightDescription:x,onScrubCancel:C,onScrubEnd:E,onScrubStart:D,onUserInteraction:e,playFromBeginningImpl:A,renderScrubber:f,renderTooltip:a,skipBackwardImpl:y,skipForwardImpl:w,skipToEndImpl:B}),b[30]=o,b[31]=g,b[32]=F,b[33]=p,b[34]=q,b[35]=z,b[36]=x,b[37]=C,b[38]=E,b[39]=D,b[40]=e,b[41]=A,b[42]=f,b[43]=a,b[44]=y,b[45]=w,b[46]=B,b[47]=G):G=b[47];return G}g["default"]=a}),226);
__d("VideoPlayerScrubberPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberPreview_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_preview_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberChapterPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberChapterPreviewRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberDefaultPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberDefaultPreviewRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberPreview.react",["CometRelay","VideoPlayerScrubberPreview_video.graphql","VideoPlayerTimeIndicator.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(9),f=a.timestampSec;a=a.video;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("VideoPlayerScrubberPreview_video.graphql"),e[0]=g):g=e[0];g=d("CometRelay").useFragment(g,a);if(g==null){e[1]!==f?(a=k.jsx(c("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:f}),e[1]=f,e[2]=a):a=e[2];return a}a=g==null?void 0:g.video_player_scrubber_preview_renderer;var i;e[3]!==f||e[4]!==g?(i={timestampSec:f,video:g},e[3]=f,e[4]=g,e[5]=i):i=e[5];e[6]!==a||e[7]!==i?(f=k.jsx(d("CometRelay").MatchContainer,{match:a,props:i}),e[6]=a,e[7]=i,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("VideoPlayerVolumeControlBase.react",["fbt","ix","FocusWithinHandler.react","VideoPlayerControlIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useState,m=b.c,n=.33,o=.66;function a(a){var b=m(17),e=a.audioAvailabilityUI,f=a.isMuted,g=a.onMouseEnter,j=a.onMouseLeave,p=a.onSetMuted,q=a.onUserInteraction,r=a.renderVolumeSlider;a=a.volume;var s=!f&&a>0,t;b[0]!==e||b[1]!==s||b[2]!==a?(e!=null&&e.shouldShowNullIcon?t=d("fbicon")._(i("944792"),20):s?a<=n?t=d("fbicon")._(i("1104387"),20):a<=o?t=d("fbicon")._(i("1104390"),20):t=d("fbicon")._(i("564390"),20):t=d("fbicon")._(i("564396"),20),b[0]=e,b[1]=s,b[2]=a,b[3]=t):t=b[3];s=l(!1);var u=s[0],v=s[1];b[4]!==f?(a=f?h._("__JHASH__2eve7xHkp9w__JHASH__"):h._("__JHASH__5xFv4FPvBT3__JHASH__"),b[4]=f,b[5]=a):a=b[5];var w=a;s=t;b[6]!==g||b[7]!==j||b[8]!==e||b[9]!==r||b[10]!==s||b[11]!==w||b[12]!==p||b[13]!==f||b[14]!==q||b[15]!==u?(a=k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsxs("div",{className:"x1ypdohk x1rg5ohu xhsvlbd xyamay9 xsyo7zv x10b6aqq x16hj40l x1n2onr6",onMouseEnter:g,onMouseLeave:j,children:[e!=null&&e.shouldDisableVolumeControl?null:k.jsx("div",{className:"xk7dvq3 x9f619 x17qophe x1yrsyyn xsyo7zv x10b6aqq x16hj40l x10l6tqk xh8yej3",children:r({focusVisible:b,onVisibilityChange:v})}),k.jsx(c("VideoPlayerControlIcon.react"),{icon:t,label:w,onPress:function(){e&&e.onVolumeControlPress(),e!=null&&e.shouldDisableVolumeControl||p(!f,"user_initiated"),q&&q({name:"video_mute_button",type:"happened"})},tooltip:e!=null?e.tooltipContent:null,tooltipAlign:"end",tooltipImpl:e!=null?e.tooltipImpl:null,tooltipOffsetY:u?-80:0})]})}}),b[6]=g,b[7]=j,b[8]=e,b[9]=r,b[10]=s,b[11]=w,b[12]=p,b[13]=f,b[14]=q,b[15]=u,b[16]=a):a=b[16];return a}g["default"]=a}),226);
__d("VideoPlayerVolumeSliderBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerPointerDrag","VideoPlayerSliderNub.react","VideoPlayerUserInteractionCounter","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p={root:{cursor:"x1ypdohk",height:"xng8ra",opacity:"xg01cxk",pointerEvents:"x47corl",position:"x1n2onr6",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x1td3qas",zIndex:"x1ja2u2z",$$css:!0},rootVisible:{opacity:"x1hc1fzr",pointerEvents:"x67bb7w",$$css:!0}};function a(a){var b=a.isHovering,e=a.isMuted,f=a.onChangeVolumeDown,g=a.onChangeVolumeUp,j=a.onSetMuted,q=a.onSetVolume,r=a.onUserInteraction,s=a.onVisibilityChange,t=a.volume;a=d("VideoPlayerPointerDrag").usePointerDragResizeObserver();var u=a.invalidateRootRect,v=a.rootRectRef;a=a.rootSizeRefCallback;var w=n(t),x=n(e),y=e?0:t,z=o(y),A=z[0],B=z[1],C=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,v.current);if(!a)return;a=Math.max(0,Math.min(1,1-a.ratioY));B(a);q(a);e&&j(!1,"user_initiated")};z=d("VideoPlayerPointerDrag").usePointerDrag({onDragCancel:function(a){B(w.current),q(w.current),j(x.current,"user_initiated")},onDragEnd:function(a){C(a)},onDragMove:function(a){C(a)},onDragStart:function(a){u(),w.current=t,x.current=e,B(y),C(a)}});var D=z.isDragging;z=z.rootProps;A=D?A:y;var E=b||D,F=n(E);l(function(){F.current!==E&&(s&&s(E)),F.current=E},[s,E]);b=E;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_volume_slider",b,r);D=m(function(){return[{command:{key:c("CometKeys").UP},description:h._("__JHASH__2--dERDMJls__JHASH__"),handler:function(){g()}},{command:{key:c("CometKeys").DOWN},description:h._("__JHASH__rnGEAKbNBgc__JHASH__"),handler:function(){f()}}]},[g,f]);return k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:D,children:k.jsx("div",babelHelpers["extends"]({},z,{"aria-label":h._("__JHASH__qjrL7gM7Ew1__JHASH__"),"aria-orientation":"vertical","aria-valuemax":"1","aria-valuemin":"0","aria-valuenow":t,className:(i||(i=c("stylex")))(p.root,E&&p.rootVisible),ref:a,role:"slider",tabIndex:"0",children:k.jsx("div",{className:"x18fn2jl x1lcm9me x1yr5g0i xrt01vj x10y3i5r x1ey2m1c xng8ra xoyjkpr x10l6tqk x1xc55vz",children:k.jsx("div",{className:"x1spa7qu x1lcm9me x1yr5g0i xrt01vj x10y3i5r x1ey2m1c x10l6tqk xh8yej3",style:{height:A*100+"%"},children:k.jsx("div",{className:"x1c7jfne x1f4buv5 x1n2onr6",children:k.jsx(c("VideoPlayerSliderNub.react"),{isVisible:E})})})})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerVolumeSlider.react",["VideoPlayerHooks","VideoPlayerVolumeSliderBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.c;function a(a){var b=k(20),e=a.isHovering,f=a.onUserInteraction;a=a.onVisibilityChange;var g=(i||(i=d("VideoPlayerHooks"))).useController(),h=i.useMuted(),l=i.useVolume(),m;b[0]!==g?(m=function(a){g.setVolume(a)},b[0]=g,b[1]=m):m=b[1];m=m;var n;b[2]!==g?(n=function(a,b){g.setMuted(a,b)},b[2]=g,b[3]=n):n=b[3];n=n;var o;b[4]!==g?(o=function(a){var b=g.getCurrentState();a=Math.max(0,Math.min(1,b.volume+a));g.setVolume(a);a===0?g.setMuted(!0,"user_initiated"):b.muted&&g.setMuted(!1,"user_initiated")},b[4]=g,b[5]=o):o=b[5];var p=o;b[6]!==p?(o=function(){p(.05)},b[6]=p,b[7]=o):o=b[7];o=o;var q;b[8]!==p?(q=function(){p(-.05)},b[8]=p,b[9]=q):q=b[9];q=q;var r;b[10]!==e||b[11]!==h||b[12]!==q||b[13]!==o||b[14]!==n||b[15]!==m||b[16]!==f||b[17]!==a||b[18]!==l?(r=j.jsx(c("VideoPlayerVolumeSliderBase.react"),{isHovering:e,isMuted:h,onChangeVolumeDown:q,onChangeVolumeUp:o,onSetMuted:n,onSetVolume:m,onUserInteraction:f,onVisibilityChange:a,volume:l}),b[10]=e,b[11]=h,b[12]=q,b[13]=o,b[14]=n,b[15]=m,b[16]=f,b[17]=a,b[18]=l,b[19]=r):r=b[19];return r}g["default"]=a}),98);
__d("VideoPlayerVolumeControl.react",["VideoPlayerHooks","VideoPlayerVolumeControlBase.react","VideoPlayerVolumeSlider.react","cr:1826284","react","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;e.useCallback;var k=e.useState,l=e.c,m=(f=b("cr:1826284"))!=null?f:c("useEmptyFunction");function a(a){var b=l(14),e=a.onUserInteraction;a=k(!1);var f=a[0],g=a[1],h=(i||(i=d("VideoPlayerHooks"))).useController();a=i.useMuted();var n=i.useVolume(),o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(){g(!0)},b[0]=o):o=b[0];o=o;var p;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){g(!1)},b[1]=p):p=b[1];p=p;var q;b[2]!==h?(q=function(a,b){h.setMuted(a,b)},b[2]=h,b[3]=q):q=b[3];q=q;var r=!a&&n>0;r=m({canPlayerProduceSound:r,isHovering:f})||null;var s;b[4]!==f||b[5]!==e?(s=function(a){var b=a.focusVisible;a=a.onVisibilityChange;return j.jsx(c("VideoPlayerVolumeSlider.react"),{isHovering:f||b,onUserInteraction:e,onVisibilityChange:a})},b[4]=f,b[5]=e,b[6]=s):s=b[6];b[7]!==r||b[8]!==a||b[9]!==q||b[10]!==e||b[11]!==s||b[12]!==n?(o=j.jsx(c("VideoPlayerVolumeControlBase.react"),{audioAvailabilityUI:r,isMuted:a,onMouseEnter:o,onMouseLeave:p,onSetMuted:q,onUserInteraction:e,renderVolumeSlider:s,volume:n}),b[7]=r,b[8]=a,b[9]=q,b[10]=e,b[11]=s,b[12]=n,b[13]=o):o=b[13];return o}g["default"]=a}),98);
__d("VideoPlayerWithWatchAndScrollTrigger.react",["$InternalEnum","CastingStateHooks","CometWatchAndScrollTriggerContext","CometWatchAndScrollVideoContext","VideoPlayerHooks","react","react-forget-runtime","requireDeferred","useVisibilityObserver","useWatchAndScrollTrigger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;e.useCallback;var k=e.useContext,l=e.c,m=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerWithWatchAndScrollTrigger.react"),n=5,o=30,p=b("$InternalEnum")({BROADCAST:"broadcast",HERO:"hero",PAGE_SPOTLIGHT_CARD:"page_spotlight_card",TAHOE:"tahoe",VOD:"vod",WNS_CONTROL:"wns_control"});function a(a){var b=l(14),e=a.subOrigin,f=a.triggerType;a=a.videoID;var g=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("CometWatchAndScrollTriggerContext"),q),h=g.isControlShown;g=g.isTriggerDisabled;var r=(i||(i=d("VideoPlayerHooks"))).useController(),s=d("useWatchAndScrollTrigger").useWatchAndScrollTrigger(e,f,a),t=k(c("CometWatchAndScrollVideoContext")),u=d("CastingStateHooks").useIsCastingAnyVideo();b[0]!==r||b[1]!==u||b[2]!==t||b[3]!==f||b[4]!==s?(e=function(a){if(a.hiddenReason!=="NOT_IN_VIEWPORT")return;a=r.getCurrentState();var b=a.paused,c=!a.muted,d=r.getPlayheadPosition();a=a.duration;var e=n;a>=30&&(e=Math.max(n,Math.min(o,Math.ceil(a*0/100))));if(!b&&!u&&t==null)bb9:switch(f){case p.HERO:s();m.onReady(function(a){a.log({event:"watch_and_scroll_trigger",event_target:"hero"})});break bb9;case p.BROADCAST:c&&(s(),m.onReady(function(a){a.log({event:"watch_and_scroll_trigger",event_target:"newsfeed_live"})}));break bb9;case p.VOD:c&&d>=e&&(s(),m.onReady(function(a){a.log({event:"watch_and_scroll_trigger",event_target:"newsfeed_vod"})}));break bb9;default:}},b[0]=r,b[1]=u,b[2]=t,b[3]=f,b[4]=s,b[5]=e):e=b[5];a=e;b[6]!==a?(e={onHidden:a},b[6]=a,b[7]=e):e=b[7];a=c("useVisibilityObserver")(e);if(!h||g)return null;switch(f){case p.HERO:case p.BROADCAST:b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e="xu1mrb xh8yej3",b[8]=e):e=b[8];b[9]!==a?(h=j.jsx("div",{className:e,ref:a}),b[9]=a,b[10]=h):h=b[10];return h;case p.VOD:b[11]===Symbol["for"]("react.memo_cache_sentinel")?(g="xu1mrb xh8yej3",b[11]=g):g=b[11];b[12]!==a?(e=j.jsx("div",{className:g,ref:a}),b[12]=a,b[13]=e):e=b[13];return e;default:return null}}function q(a){return[a.isControlShown,a.isTriggerDisabled]}g.WatchAndScrollTriggerType=p;g.VideoPlayerWithWatchAndScrollTrigger=a}),98);
__d("useWatchAndScrollTrigger",["CometPictureInPictureExpContext","CometSetWatchAndScrollVideoContext","CometWatchAndScrollSoundContext","VideoPlayerHooks","VideoPlayerWithWatchAndScrollTrigger.react","react","recoverableViolation","usePlayerOriginRouteTracePolicy","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useCallback;var j=b.useContext,k=b.c;function a(a,b,e,f){var g=k(13),h=c("useVideoPlayerPortalingPassthroughProps")(),l=h.portableVideoID,m=h.portalingPlaceID,n=c("usePlayerOriginRouteTracePolicy")(),o=(i||(i=d("VideoPlayerHooks"))).useController(),p=j(c("CometSetWatchAndScrollVideoContext")),q=j(c("CometWatchAndScrollSoundContext")),r=j(c("CometPictureInPictureExpContext"));g[0]!==q||g[1]!==l||g[2]!==m||g[3]!==r.pictureInPictureExpConfig.isInPictureInPictureExp||g[4]!==r.pictureInPictureExpConfig.isInPictureInPictureExpControlGroup||g[5]!==b||g[6]!==p||g[7]!==o||g[8]!==n||g[9]!==a||g[10]!==e||g[11]!==f?(h=function(){q!=null&&(q.setMuted(null),q.setVolume(null));if(l!=null&&m!=null){var g=r.pictureInPictureExpConfig.isInPictureInPictureExp,h=r.pictureInPictureExpConfig.isInPictureInPictureExpControlGroup;if((g||h)&&b!==d("VideoPlayerWithWatchAndScrollTrigger.react").WatchAndScrollTriggerType.WNS_CONTROL)return;p({controller:o,portableVideoID:l,portalingPlaceID:m,routeTracePolicy:n,sessionStartTime:new Date(),sessionTrigger:b,subOrigin:a,videoID:e,videoUrl:f})}else c("recoverableViolation")("Could not transition to Watch and Scroll player because portableVideoID was null","comet_video_player")},g[0]=q,g[1]=l,g[2]=m,g[3]=r.pictureInPictureExpConfig.isInPictureInPictureExp,g[4]=r.pictureInPictureExpConfig.isInPictureInPictureExpControlGroup,g[5]=b,g[6]=p,g[7]=o,g[8]=n,g[9]=a,g[10]=e,g[11]=f,g[12]=h):h=g[12];return h}g.useWatchAndScrollTrigger=a}),98);
__d("useVideoPlayerVolumeControlAudioAvailabilityUI",["fbt","CometTooltipImpl.react","VideoPlayerControlsHiddenContext","clearTimeout","emptyFunction","react","setTimeout","useAudioAvailabilityAtPlayhead","usePrevious","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=b.useRef,n=b.useState,o=3e3;function a(a){var b=a.canPlayerProduceSound,d=a.isHovering;a=c("useAudioAvailabilityAtPlayhead")();var e=a.isSilentAtPlayhead;a=a.volumeControlState;var g=null;switch(a){case"VOLUME_SILENT":g=h._("__JHASH__OCDN7D7X_lH__JHASH__");break;case"VOLUME_COPYRIGHT_FULL":g=h._("__JHASH__OuqKl-7-Xbl__JHASH__");break;case"VOLUME_COPYRIGHT_PARTIAL_SILENCED":g=h._("__JHASH__SxiQArhdkrI__JHASH__");break;case"VOLUME_COPYRIGHT_PARTIAL_NOT_SILENCED":break;case"VOLUME_DEFAULT":break;default:a}var i=c("usePrevious")(e),p=n(!1),q=p[0],r=p[1],s=m(c("emptyFunction")),t=m(!1);p=n(!1);var u=p[0],v=p[1],w=c("useStable")(function(){return function(a){t.current=a,v(a),s.current(a),a||r(!1)}}),x=k(c("VideoPlayerControlsHiddenContext"));l(function(){x?w(!1):g==null?w(!1):d||q?w(!0):e!==i&&e&&b&&w(!0)},[g,b,x,d,q,e,i,w]);l(function(){if(u){var a=c("setTimeout")(function(){w(!1)},o);return function(){c("clearTimeout")(a)}}},[u,w]);p=c("useStable")(function(){return function(){r(function(a){return!a})}});var y=c("useStable")(function(){function a(a){var b=n(!1),d=b[0],e=b[1];l(function(){s.current=e;return function(){s.current=c("emptyFunction")}},[e]);l(function(){a.isVisible||w(!1)},[a.isVisible]);return j.jsx(c("CometTooltipImpl.react"),babelHelpers["extends"]({},a,{isVisible:d}))}a.displayName=a.name+" [from "+f.id+"]";return a}),z=a==="VOLUME_COPYRIGHT_FULL"||a==="VOLUME_SILENT",A=b?e:z;return g==null?null:{onVolumeControlPress:p,shouldDisableVolumeControl:z,shouldShowNullIcon:A,tooltipContent:g,tooltipImpl:y,volumeControlState:a}}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("destroyOnUnload",["cr:8905"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:8905")}),98);
__d("AbstractCommentLiveTypingPublisher",["destroyOnUnload","gkx"],(function(a,b,c,d,e,f){"use strict";var g=10*1e3,h=10*1e3,i=200;a=function(){function a(){var a=this;this.$1=null;this.$2=null;this.$3=-1;b("gkx")("20935")||b("destroyOnUnload")(this.destroy.bind(this));window.addEventListener&&window.addEventListener("unload",function(){a.destroy()})}var c=a.prototype;c.destroy=function(){this.$4(),this.$5(),this.$6()};c.handleStartEvent=function(){this.$7()||this.$8(),this.$9()};c.handleStopEvent=function(){this.$4()};c.publishStartEvent=function(){throw new Error("publishStartEvent should be overridden by subclass")};c.publishStopEvent=function(){throw new Error("publishStopEvent should be overridden by subclass")};c.$7=function(){return!!this.$1};c.$5=function(){this.$2&&(clearTimeout(this.$2),this.$2=null)};c.$6=function(){this.$1&&(clearTimeout(this.$1),this.$1=null)};c.$9=function(){var a=this,b=Date.now(),c=this.$3;b>c+i&&(this.$3=b,this.$5(),this.$2=setTimeout(function(){a.$4()},h))};c.$4=function(){this.$7()&&(this.publishStopEvent(),this.$6()),this.$5()};c.$8=function(){var a=this;this.publishStartEvent();this.$6();this.$1=setTimeout(function(){a.$8()},g)};return a}();f["default"]=a}),66);
__d("CivicActionLogEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743356");b=d("FalcoLoggerInternal").create("civic_action_log_event",a);e=b;g["default"]=e}),98);
__d("CometUFICommentActorConstituentBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorConstituentBadge_comment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[b,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("ManageConstituentBadgeDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6661692877214742"}),null);
__d("ManageConstituentBadgeDialogQuery$Parameters",["ManageConstituentBadgeDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ManageConstituentBadgeDialogQuery_facebookRelayOperation"),metadata:{},name:"ManageConstituentBadgeDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ManageConstituentBadgeDialog.entrypoint",["JSResourceForInteraction","ManageConstituentBadgeDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.commentID;a=a.feedbackID;return{queries:{queryReference:{parameters:b("ManageConstituentBadgeDialogQuery$Parameters"),variables:{commentID:c,feedbackID:a}}}}},root:c("JSResourceForInteraction")("ManageConstituentBadgeDialog.react").__setRef("ManageConstituentBadgeDialog.entrypoint")};d=a;g["default"]=d}),98);
__d("ManageConstituentBadgeDialogTrigger.react",["fbt","ix","ARIA_LABEL_PLACEHOLDER_FIXME","CometEntryPointDialogTrigger.react","ManageConstituentBadgeDialog.entrypoint","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=a.onPress;return k.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("ManageConstituentBadgeDialog.entrypoint"),otherProps:{},preloadParams:{commentID:a.commentID,feedbackID:a.feedbackID},children:function(a){return k.jsx(c("TetraIcon.react"),{alt:h._("__JHASH__WuBNNAgdH6G__JHASH__"),"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),color:"secondary",icon:d("fbicon")._(i("506962"),12),onPress:function(){a(),b()}})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometUFICommentActorConstituentBadge.react",["fbt","ix","Actor","CivicActionLogEventFalcoEvent","CometRelay","CometTooltip_DEPRECATED.react","CometUFICommentActorConstituentBadge_comment.graphql","FDSIcon.react","ManageConstituentBadgeDialogTrigger.react","fbicon","react","recoverableViolation","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react")),m=k.useRef;function a(a){var e;a=a.comment;a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFICommentActorConstituentBadge_comment.graphql"),a);var g=a.legacy_token,k=a.parent_feedback,n=m(!1),o=c("useVisibilityObserver")({onVisible:function(){if(n.current)return;n.current=!0;c("CivicActionLogEventFalcoEvent").log(function(){var a;return{action:"view",extra_data:{comment_id:(a=g)!=null?a:""},post_id:s,product:"constituent_badge",subtype:"comment"}})}}),p=d("Actor").useActor();p=p[0];if(!a.author||((e=a.author)==null?void 0:e.id)==null)return c("recoverableViolation")("missing politician","civic_integrity");var q=a.author.short_name,r=k==null?void 0:(e=k.owning_profile)==null?void 0:e.name,s=k==null?void 0:k.share_fbid,t=p===a.author.id,u=k==null?void 0:(e=k.political_figure_data)==null?void 0:(e=e.political_office)==null?void 0:e.generic_title,v=k==null?void 0:(e=k.political_figure_data)==null?void 0:e.name;e=a.can_see_constituent_badge_upsell;function w(){var a=!0;if(q==null)return null;(u==null||v==null)&&(a=!1);if(t)if(a)return h._("__JHASH__ZNqnDhYYFpj__JHASH__",[h._param("representative_name",v),h._param("office_title",u)]);else return h._("__JHASH__uiMMQSqmolX__JHASH__",[h._param("page_name",r)]);if(a)return h._("__JHASH__khTmteQjAVE__JHASH__",[h._param("representative_name",v),h._param("comment_author_name",q),h._param("politician_office_title",u)]);else return h._("__JHASH__iHMGEL24DTI__JHASH__",[h._param("page_name",r),h._param("comment_author_name",q)])}function x(){return h._("__JHASH__vXzsLlLAUQJ__JHASH__",[h._param("comment_author_name",q),h._param("representative_name",v)])}x.displayName=x.name+" [from "+f.id+"]";function y(a){return l.jsx(c("FDSIcon.react"),{alt:x(),"aria-label":x(),color:"secondary",icon:d("fbicon")._(i("506962"),12),onPress:a})}y.displayName=y.name+" [from "+f.id+"]";e=e===!0?l.jsx(c("ManageConstituentBadgeDialogTrigger.react"),{commentID:a.id,feedbackID:k==null?void 0:k.id,onPress:function(){c("CivicActionLogEventFalcoEvent").log(function(){var a;return{action:"click",click_location:"constituent_badge",extra_data:{comment_id:(a=g)!=null?a:""},post_id:s,product:"constituent_badge",subtype:"comment"}})}}):y();return l.jsx(d("Actor").ActorProvider,{initialActorID:p,children:l.jsx("span",{className:"xsgj6o6 x1n2onr6 x1e0gzzx",ref:o,children:l.jsx(c("CometTooltip_DEPRECATED.react"),{tooltip:w(),children:l.jsx("span",{className:"x1yrsyyn xsyo7zv x10b6aqq x16hj40l",children:e})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometUFICommentActorVerifiedBadge.react",["CometProfileVerificationBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x6s0dn4 x3nfvp2 x1k2j06m",b[0]=d):d=b[0];b[1]!==a?(d=j.jsxs("span",{className:d,children:[j.jsx(c("CometProfileVerificationBadge.react"),babelHelpers["extends"]({},a,{size:"small"}))," "]}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),98);
__d("CometUFICommentErrorFooterEditButton.react",["errorCode","fbt","ARIA_LABEL_PLACEHOLDER_FIXME","CometLink.react","clearTimeout","react","setTimeout","useFDSCallout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useState,n=b.c;function o(a){return a===1446011||a===1462002||a===1446042}function a(a){var b=n(14),d=a.onEdit;a=a.optimisticErrorCode;var e;b[0]!==a?(e=o(a),b[0]=a,b[1]=e):e=b[1];a=m(e);e=a[0];var f=a[1];a=m(!1);var g=a[0],h=a[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=i._("__JHASH__2HLDP_tkVMz__JHASH__"),b[2]=a):a=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),arrowStyle:"inset",content:a,disableOutsideClick:!0,onShow:function(){h(!0)},position:"above",type:"accent"},b[3]=a):a=b[3];a=c("useFDSCallout")(a,e);e=a.anchorRef;var j;b[4]!==g?(a=function(){if(g){var a=c("setTimeout")(function(){f(!1)},6e3);return function(){return c("clearTimeout")(a)}}},j=[f,g],b[4]=g,b[5]=a,b[6]=j):(a=b[5],j=b[6]);l(a,j);b[7]!==d?(a=function(a){f(!1),d&&d(a)},b[7]=d,b[8]=a):a=b[8];j=a;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){f(!1)},b[9]=a):a=b[9];a=a;var p;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=i._("__JHASH__10obC3Jnpvd__JHASH__"),b[10]=p):p=b[10];b[11]!==j||b[12]!==e?(a=k.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",onClick:j,onHoverEnd:a,ref:e,children:p}),b[11]=j,b[12]=e,b[13]=a):a=b[13];return a}g["default"]=a}),226);
__d("CometUFICommentErrorFooter_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentErrorFooter_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null}]}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentErrorFooter.react",["errorCode","fbt","CometLink.react","CometRelay","CometRow.react","CometRowItem.react","CometUFICommentErrorFooterEditButton.react","CometUFICommentErrorFooter_comment.graphql","FBLogger","FDSText.react","NewsRegulationErrorMessageData","ifRequired","react","recoverableViolation","useCometUFICreateCommentMutation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=(k||(k=d("react"))).c,m=k,n={footer:{display:"x1rg5ohu",$$css:!0}};function o(a){if(a===1446013||a===1446011||a===1462002||a===1446042)return!1;return a!=null&&c("NewsRegulationErrorMessageData").errorCodeToRegType[a]!=null?!1:!0}function a(a){var e=l(23),f=a.comment;a=a.onEdit;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=j!==void 0?j:j=b("CometUFICommentErrorFooter_comment.graphql"),e[0]=g):g=e[0];g=d("CometRelay").useFragment(g,f);var h=g.id;if(h==null){c("recoverableViolation")("CometUFICommentErrorFooter tried to render without a comment ID","ufi2");return null}e[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=i._("__JHASH__10b0S1Izmoe__JHASH__"),e[1]=f):f=e[1];f=f;var k;if(e[2]!==g.optimistic_action||e[3]!==h){k=null;bb0:switch(g.optimistic_action){case"ADD":k=function(){d("useCometUFICreateCommentMutation").getRetryFnExperimental(h)()};break bb0;case"EDIT":var p;e[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=i._("__JHASH__U3YP-2WFk_-__JHASH__"),e[6]=p):p=e[6];f=p;c("ifRequired")("CometUFIEditCommentMutation",function(a){k=a.getRetryFn(h)},function(){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",h||"UNKNOWN").mustfix("Edit mutation not present on edit error")});c("ifRequired")("useCometUFIEditCommentMutation",function(a){k=a.getRetryFnExperimental(h)},function(){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",h||"UNKNOWN").mustfix("Edit mutation experimental not present on edit error")});break bb0;case"DELETE":e[7]===Symbol["for"]("react.memo_cache_sentinel")?(p=i._("__JHASH___6naWuekn6M__JHASH__"),e[7]=p):p=e[7];f=p;break bb0;default:e[8]===Symbol["for"]("react.memo_cache_sentinel")?(p=i._("__JHASH__Q_5tGN8-YJC__JHASH__"),e[8]=p):p=e[8];f=p;c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",h||"UNKNOWN").warn("CometUFICommentErrorFooter no specified behavior for action `%s`.",g.optimistic_action)}e[2]=g.optimistic_action;e[3]=h;e[4]=k;e[5]=f}else k=e[4],f=e[5];k||c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",h||"UNKNOWN").warn("No mutation retry handler for action `%s`.",g.optimistic_action);p=k!=null;var q=g.optimistic_action==="ADD"&&p,r;e[9]!==f?(r=m.jsx(c("CometRowItem.react"),{xstyle:n.footer,children:m.jsx(c("FDSText.react"),{type:"meta4",children:f})}),e[9]=f,e[10]=r):r=e[10];e[11]!==p||e[12]!==g||e[13]!==k?(f=p&&o(g.optimistic_error_code)&&m.jsx(c("CometRowItem.react"),{xstyle:n.footer,children:m.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",onClick:function(){k==null?void 0:k()},children:i._("__JHASH__dxM0X-fliVM__JHASH__")})}),e[11]=p,e[12]=g,e[13]=k,e[14]=f):f=e[14];e[15]!==q||e[16]!==a||e[17]!==g?(p=q&&m.jsx(c("CometRowItem.react"),{xstyle:n.footer,children:m.jsx(c("CometUFICommentErrorFooterEditButton.react"),{onEdit:a,optimisticErrorCode:g.optimistic_error_code})}),e[15]=q,e[16]=a,e[17]=g,e[18]=p):p=e[18];e[19]!==r||e[20]!==f||e[21]!==p?(q=m.jsxs(c("CometRow.react"),{paddingTop:4,paddingVertical:0,spacing:8,testid:void 0,xstyle:n.footer,children:[r,f,p]}),e[19]=r,e[20]=f,e[21]=p,e[22]=q):q=e[22];return q}g["default"]=a}),226);
__d("CometUFICommentInlineFollowCTA_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentInlineFollowCTA_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},a],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUserFollowMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25581663504782089"}),null);
__d("CometUserFollowMutation.graphql",["CometUserFollowMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e=[{kind:"Literal",name:"action_type",value:"FOLLOW"}],f={args:null,kind:"FragmentSpread",name:"ProfileActionMutationUtils_action"},g=[{kind:"Literal",name:"action_type",value:"FOLLOWING_STATUS"}],h={alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"secondary_subscribe_status",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={kind:"TypeDiscriminator",abstractKey:"__isProfileAction"},m={kind:"Literal",name:"icon_color",value:"fds-black"},n={kind:"Literal",name:"icon_variant",value:"filled"},o={kind:"Variable",name:"scale",variableName:"scale"},p=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],q={alias:null,args:[m,{kind:"Literal",name:"icon_size",value:"16"},n,o],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:p,storageKey:null},r={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},s={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_optimistic_update",storageKey:null}]},t={kind:"Literal",name:"icon_size",value:"20"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUserFollowMutation",selections:[{alias:null,args:c,concreteType:"ActorSubscribeResponsePayload",kind:"LinkedField",name:"actor_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subscribee",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[f],storageKey:'profile_action(action_type:"FOLLOW")'},{alias:"following_status",args:g,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[f,{args:null,kind:"FragmentSpread",name:"ProfileCometHeaderActionBarMenuItem_profileAction"},h],storageKey:'profile_action(action_type:"FOLLOWING_STATUS")'},i,j],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUserFollowMutation",selections:[{alias:null,args:c,concreteType:"ActorSubscribeResponsePayload",kind:"LinkedField",name:"actor_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subscribee",plural:!1,selections:[d,k,{kind:"InlineFragment",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[d,l,q,k,r,s],storageKey:'profile_action(action_type:"FOLLOW")'},{alias:"following_status",args:g,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[d,l,q,k,r,{alias:null,args:null,kind:"ScalarField",name:"profile_action_type",storageKey:null},{alias:"secondary_icon",args:[m,t,{kind:"Literal",name:"icon_variant",value:"outline"},o],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:p,storageKey:null},{alias:"active_secondary_icon",args:[m,t,n,o],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:p,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},h,{alias:null,args:[{kind:"Literal",name:"supported",value:"ULLPn"}],concreteType:null,kind:"LinkedField",name:"client_handler",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionBlockHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionBlockHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionBlockUserFromGroupHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionBlockUserFromGroupHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContactUsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContactUsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionCreateDetailedReportHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionCreateDetailedReportHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionDefaultHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionDefaultHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditFriendListHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditFriendListHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLikeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLikeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFollowingStatusHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFollowingStatusHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFriendRequestHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFriendRequestHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileFriendRequestHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileFriendRequestHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInsightsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInsightsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionProfessionalModeRollbackHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeRollbackHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionAdditionalProfileRollbackUnavailableHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionAdditionalProfileRollbackUnavailableHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionProfessionalModeOnboardingHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeOnboardingHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileMessageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileMessageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerContactHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerContactHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerAudioCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerAudioCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerVideoCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerVideoCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionPreferredInteractionHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionPreferredInteractionHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionReportHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionReportHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionGetSupportHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionGetSupportHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionReportMarketplaceUserHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionReportMarketplaceHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSeeFirstHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSeeFirstHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionViewProfileTransparencyHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionViewProfileTransparencyHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSearchProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSearchProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLikeAsYourPageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLikeAsYourPageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionSetContentControlsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionSetContentControlsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionMuteMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionMuteMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionTurnOnPostApprovalForMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionTurnOnPostApprovalForMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteAdminHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteAdminHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteModeratorHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteModeratorHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteExpertHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteExpertHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionLeaveGroupHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionLeaveGroupHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionRemoveGroupAdminHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionRemoveGroupAdminHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveExpertiseShowAsBadgeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveExpertiseShowAsBadgeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveExpertHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveExpertHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionAdditionalProfileRollbackHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionAdditionalProfileRollbackHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditContextualProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditContextualProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportBioHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportBioHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportExpertiseExperienceHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportExpertiseExperienceHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportMemberNameHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportMemberNameHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionPromoteHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionPromoteHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionAdminToolsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionAdminToolsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionManageFollowerHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionManageFollowerHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInviteToFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInviteToFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInvitePostReactorsToFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInvitePostReactorsToFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionBookNowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionBookNowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLockProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLockProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionDonateNowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionDonateNowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditPinnedFeatureHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditPinnedFeatureHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionTopFanBadgeSettingHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionTopFanBadgeSettingHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionStartTourHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionStartTourHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionRecurringNotificationsOptInHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionRecurringNotificationsOptInHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFubsSubscribeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFubsSubscribeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSwitchRegionHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSwitchRegionHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionManageRolesHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionManageRolesHandler",abstractKey:null}],storageKey:'client_handler(supported:"ULLPn")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"X5gYL"}],concreteType:null,kind:"LinkedField",name:"client_logger",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionLogger_action",fragmentName:"ProfileCometActionProfessionalModeRollbackLogger_logger",fragmentPropName:"logger",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeRollbackLogger",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionLogger_action",fragmentName:"ProfileCometActionProfessionalModeOnboardingLogger_logger",fragmentPropName:"logger",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeOnboardingLogger",abstractKey:null}],storageKey:'client_logger(supported:"X5gYL")'},s],storageKey:'profile_action(action_type:"FOLLOWING_STATUS")'},i,j],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometUserFollowMutation_facebookRelayOperation"),metadata:{},name:"CometUserFollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUserFollowMutation",["CometRelay","CometUserFollowMutation.graphql","ProfileActionFollowingMutationUtils","WebPixelRatio","getVideoShareDownstreamSignalTracking"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUserFollowMutation.graphql");function j(a,b,c){var e;return{actor_subscribe:{subscribee:{__typename:"User",following_status:babelHelpers["extends"]({},d("ProfileActionFollowingMutationUtils").getOptimisticFollowingActionForSubscriptionStatus((e=a)!=null?e:"REGULAR_FOLLOW",b,c),{is_active:!1}),id:b,profile_action:babelHelpers["extends"]({},d("ProfileActionFollowingMutationUtils").getOptimisticFollowActionForSubscriptionStatus((e=a)!=null?e:"REGULAR_FOLLOW",b,c)),secondary_subscribe_status:a,subscribe_status:"IS_SUBSCRIBED"}}}}function a(a,b){var c,e=b.isTrackingEncrypted,f=b.navigationChain,g=b.onError,h=b.onSuccess,k=b.secondarySubscribeStatus,l=b.subscribeLocation,m=b.tracking;b=b.userID;c=(c=d("getVideoShareDownstreamSignalTracking").getVideoShareDownstreamSignalTracking())!=null?c:{};d("CometRelay").commitMutation(a,{mutation:i,onCompleted:h,onError:g,optimisticResponse:j(k,b,!1),variables:{input:babelHelpers["extends"]({attribution_id_v2:f,is_tracking_encrypted:e,secondary_subscribe_status:k,subscribe_location:l,subscribee_id:b,tracking:m},c),scale:d("WebPixelRatio").get()}})}function c(a,b,c){var e,f=b.isTrackingEncrypted,g=b.navigationChain,h=b.onError,k=b.onSuccess,l=b.secondarySubscribeStatus,m=b.subscribeLocation,n=b.tracking;b=b.userID;e=(e=d("getVideoShareDownstreamSignalTracking").getVideoShareDownstreamSignalTracking())!=null?e:{};d("CometRelay").enqueueMutation(a,{mutation:i,onCompleted:k,onError:h,optimisticResponse:j(l,b,(a=c)!=null?a:!1),variables:{input:babelHelpers["extends"]({attribution_id_v2:g,is_tracking_encrypted:f,secondary_subscribe_status:l,subscribe_location:m,subscribee_id:b,tracking:n},e),scale:d("WebPixelRatio").get()}})}g.commit=a;g.enqueue=c}),98);
__d("CometUserUnfollowMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7959683157389920"}),null);
__d("CometUserUnfollowMutation.graphql",["CometUserUnfollowMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"action_render_location"},{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[{kind:"Literal",name:"action_type",value:"FOLLOW"},{kind:"Variable",name:"render_location",variableName:"action_render_location"}],g={args:null,kind:"FragmentSpread",name:"ProfileActionMutationUtils_action"},h=[{kind:"Literal",name:"action_type",value:"FOLLOWING_STATUS"}],i={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},j={kind:"TypeDiscriminator",abstractKey:"__isProfileAction"},k={kind:"Literal",name:"icon_color",value:"fds-black"},l={kind:"Literal",name:"icon_variant",value:"filled"},m={kind:"Variable",name:"scale",variableName:"scale"},n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],o={alias:null,args:[k,{kind:"Literal",name:"icon_size",value:"16"},l,m],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null},p={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},q={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_optimistic_update",storageKey:null}]},r={kind:"Literal",name:"icon_size",value:"20"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUserUnfollowMutation",selections:[{alias:null,args:c,concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[g],storageKey:null},{alias:"following_status",args:h,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[g,{args:null,kind:"FragmentSpread",name:"ProfileCometHeaderActionBarMenuItem_profileAction"}],storageKey:'profile_action(action_type:"FOLLOWING_STATUS")'},i],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUserUnfollowMutation",selections:[{alias:null,args:c,concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[d,j,o,e,p,q],storageKey:null},{alias:"following_status",args:h,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[d,j,o,e,p,{alias:null,args:null,kind:"ScalarField",name:"profile_action_type",storageKey:null},{alias:"secondary_icon",args:[k,r,{kind:"Literal",name:"icon_variant",value:"outline"},m],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null},{alias:"active_secondary_icon",args:[k,r,l,m],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"ULLPn"}],concreteType:null,kind:"LinkedField",name:"client_handler",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionBlockHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionBlockHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionBlockUserFromGroupHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionBlockUserFromGroupHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContactUsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContactUsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionCreateDetailedReportHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionCreateDetailedReportHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionDefaultHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionDefaultHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditFriendListHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditFriendListHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLikeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLikeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFollowingStatusHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFollowingStatusHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFriendRequestHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFriendRequestHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileFriendRequestHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileFriendRequestHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInsightsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInsightsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionProfessionalModeRollbackHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeRollbackHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionAdditionalProfileRollbackUnavailableHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionAdditionalProfileRollbackUnavailableHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionProfessionalModeOnboardingHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeOnboardingHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileMessageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileMessageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerContactHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerContactHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerAudioCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerAudioCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerVideoCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerVideoCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionPreferredInteractionHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionPreferredInteractionHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionReportHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionReportHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionGetSupportHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionGetSupportHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionReportMarketplaceUserHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionReportMarketplaceHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSeeFirstHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSeeFirstHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionViewProfileTransparencyHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionViewProfileTransparencyHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSearchProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSearchProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLikeAsYourPageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLikeAsYourPageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionSetContentControlsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionSetContentControlsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionMuteMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionMuteMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionTurnOnPostApprovalForMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionTurnOnPostApprovalForMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteAdminHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteAdminHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteModeratorHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteModeratorHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteExpertHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteExpertHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionLeaveGroupHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionLeaveGroupHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionRemoveGroupAdminHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionRemoveGroupAdminHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveExpertiseShowAsBadgeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveExpertiseShowAsBadgeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveExpertHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveExpertHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionAdditionalProfileRollbackHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionAdditionalProfileRollbackHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditContextualProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditContextualProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportBioHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportBioHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportExpertiseExperienceHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportExpertiseExperienceHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportMemberNameHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportMemberNameHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionPromoteHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionPromoteHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionAdminToolsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionAdminToolsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionManageFollowerHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionManageFollowerHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInviteToFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInviteToFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInvitePostReactorsToFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInvitePostReactorsToFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionBookNowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionBookNowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLockProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLockProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionDonateNowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionDonateNowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditPinnedFeatureHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditPinnedFeatureHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionTopFanBadgeSettingHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionTopFanBadgeSettingHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionStartTourHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionStartTourHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionRecurringNotificationsOptInHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionRecurringNotificationsOptInHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFubsSubscribeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFubsSubscribeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSwitchRegionHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSwitchRegionHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionManageRolesHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionManageRolesHandler",abstractKey:null}],storageKey:'client_handler(supported:"ULLPn")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"X5gYL"}],concreteType:null,kind:"LinkedField",name:"client_logger",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionLogger_action",fragmentName:"ProfileCometActionProfessionalModeRollbackLogger_logger",fragmentPropName:"logger",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeRollbackLogger",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionLogger_action",fragmentName:"ProfileCometActionProfessionalModeOnboardingLogger_logger",fragmentPropName:"logger",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeOnboardingLogger",abstractKey:null}],storageKey:'client_logger(supported:"X5gYL")'},q],storageKey:'profile_action(action_type:"FOLLOWING_STATUS")'},i],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometUserUnfollowMutation_facebookRelayOperation"),metadata:{},name:"CometUserUnfollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUserUnfollowMutation",["CometRelay","CometUserUnfollowMutation.graphql","ProfileActionFollowingMutationUtils","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUserUnfollowMutation.graphql");function j(a,b){return{actor_unsubscribe:{unsubscribee:{__typename:"User",following_status:d("ProfileActionFollowingMutationUtils").getOptimisticFollowingActionForSubscriptionStatus("UNFOLLOW",a,b),id:a,profile_action:d("ProfileActionFollowingMutationUtils").getOptimisticFollowActionForSubscriptionStatus("UNFOLLOW",a,b),subscribe_status:"CAN_SUBSCRIBE"}}}}function a(a,b){var c=b.actionRenderLocation,e=b.isTrackingEncrypted,f=b.navigationChain,g=b.onError,h=b.onSuccess,k=b.subscribeLocation,l=b.tracking;b=b.userID;d("CometRelay").commitMutation(a,{mutation:i,onCompleted:h,onError:g,optimisticResponse:j(b,!1),variables:{action_render_location:c,input:{attribution_id_v2:f,is_tracking_encrypted:e,subscribe_location:k,tracking:l,unsubscribee_id:b},scale:d("WebPixelRatio").get()}})}function c(a,b,c){var e=b.actionRenderLocation,f=b.isTrackingEncrypted,g=b.navigationChain,h=b.onError,k=b.onSuccess,l=b.subscribeLocation,m=b.tracking;b=b.userID;d("CometRelay").enqueueMutation(a,{mutation:i,onCompleted:k,onError:h,optimisticResponse:j(b,(a=c)!=null?a:!1),variables:{action_render_location:e,input:{attribution_id_v2:g,is_tracking_encrypted:f,subscribe_location:l,tracking:m,unsubscribee_id:b},scale:d("WebPixelRatio").get()}})}g.commit=a;g.enqueue=c}),98);
__d("CometUFICommentInlineFollowCTA.react",["fbt","BaseMiddot.react","CometFeedUnitQueryVariablesContext","CometPressable.react","CometRelay","CometUFICommentInlineFollowCTA_comment.graphql","CometUserFollowMutation","CometUserUnfollowMutation","FDSText.react","react","requireDeferred","useMinifiedProductAttribution","useNullthrowsViolation","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useContext,m=e.useState,n=e.c,o=c("requireDeferred")("InlineFollowCtaEventFalcoEvent").__setRef("CometUFICommentInlineFollowCTA.react"),p="following_clicked",q="unfollowing_clicked",r="follow_cta_impression";function a(a){var e=n(26);a=a.comment$key;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i!==void 0?i:i=b("CometUFICommentInlineFollowCTA_comment.graphql"),e[0]=f):f=e[0];var g=d("CometRelay").useFragment(f,a),j=(g==null?void 0:(f=g.author)==null?void 0:f.subscribe_status)==="IS_SUBSCRIBED",s=c("useNullthrowsViolation")(g==null?void 0:(a=g.author)==null?void 0:a.id),t=d("CometRelay").useRelayEnvironment();f=m(!1);a=f[0];var u=f[1],v=(f=(f=l(c("CometFeedUnitQueryVariablesContext")))==null?void 0:f.feedLocation)!=null?f:"";e[1]!==s||e[2]!==g.id||e[3]!==v?(f=function(a){o.onReady(function(b){b.log(function(){var b;return{comment_author_id:s,comment_id:(b=g.id)!=null?b:"",comment_surface:v,event:a}})})},e[1]=s,e[2]=g.id,e[3]=v,e[4]=f):f=e[4];var w=f,x=c("useMinifiedProductAttribution")();e[5]!==x||e[6]!==v||e[7]!==s||e[8]!==j||e[9]!==t||e[10]!==w?(f=function(){var a={actionRenderLocation:"WWW_COMET_HOVERCARD",navigationChain:x,onError:function(){u(!1)},onSuccess:function(){u(!1)},subscribeLocation:v==="NEWSFEED"?"INLINE_COMMENT_HEADER":"COMMENT_HEADER",userID:s};u(!0);j?(d("CometUserUnfollowMutation").commit(t,a),w(q)):(d("CometUserFollowMutation").commit(t,a),w(p))},e[5]=x,e[6]=v,e[7]=s,e[8]=j,e[9]=t,e[10]=w,e[11]=f):f=e[11];f=f;var y;e[12]!==w?(y=function(){w(r)},e[12]=w,e[13]=y):y=e[13];y=y;var z;e[14]!==y?(z={onVisible:y},e[14]=y,e[15]=z):z=e[15];y=c("useVisibilityObserver")(z);if((g==null?void 0:(z=g.author)==null?void 0:z.subscribe_status)!=="CAN_SUBSCRIBE"&&(g==null?void 0:(z=g.author)==null?void 0:z.subscribe_status)!=="IS_SUBSCRIBED")return null;e[16]!==j?(z=j?k.jsx(c("FDSText.react"),{color:"secondary",type:"bodyLink4",children:h._("__JHASH__gfzhCSGFVAQ__JHASH__")}):k.jsx(c("FDSText.react"),{color:"highlight",type:"bodyLink4",children:h._("__JHASH__bvajtjV6cwQ__JHASH__")}),e[16]=j,e[17]=z):z=e[17];z=z;var A;e[18]===Symbol["for"]("react.memo_cache_sentinel")?(A=k.jsx(c("BaseMiddot.react"),{className:"xi81zsa"}),e[18]=A):A=e[18];var B;e[19]!==a||e[20]!==f||e[21]!==z?(B=k.jsx(c("CometPressable.react"),{disabled:a,onPress:f,children:z}),e[19]=a,e[20]=f,e[21]=z,e[22]=B):B=e[22];e[23]!==y||e[24]!==B?(a=k.jsxs("span",{ref:y,children:[A,B]}),e[23]=y,e[24]=B,e[25]=a):a=e[25];return a}g["default"]=a}),226);
__d("CometUFICommentRenderingIntentSelectorMenu.react",["fbt","FDSMenu.react","FDSMenuItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.onChange;a.onClose;a=a.options;return j.jsx(c("FDSMenu.react"),{"aria-label":h._("__JHASH__XMbkJBYc7i1__JHASH__"),withArrow:!0,children:a.map(function(a){return j.jsx(c("FDSMenuItem.react"),{onClick:function(){return b(a)},primaryText:a.title,secondaryText:a.description},a.intent_token)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometUFIFeedbackReactSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6494425727335219"}),null);
__d("CometUFIFeedbackReactSubscription.graphql",["CometUFIFeedbackReactSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:e,storageKey:null}],storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},i={alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},k=[j],l=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};e=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:e,storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[d,h,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visible_in_bling_bar",storageKey:null},i],storageKey:null},j],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:[{kind:"Literal",name:"use_default_actor",value:!1}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:e,storageKey:"supported_reaction_infos(use_default_actor:false)"},{alias:null,args:null,concreteType:"FeedbackUnifiedReactorsConnection",kind:"LinkedField",name:"unified_reactors",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:l,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[d,g,h],storageKey:null},i,{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"ImportantReactorsConnection",kind:"LinkedField",name:"important_reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,m,d],storageKey:null}],storageKey:"important_reactors(first:2)"},{alias:"reaction_count",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null}],storageKey:null},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[g,d,m],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[g,d],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:f,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:f,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[g,{kind:"InlineFragment",selections:e,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:e,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:b("CometUFIFeedbackReactSubscription_facebookRelayOperation"),metadata:{subscriptionName:"feedback_like_subscribe"},name:"CometUFIFeedbackReactSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_liker.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_liker",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription",["CometRelay","CometUFIFeedbackReactSubscription.graphql","CometUFIFeedbackReactSubscription_feedback.graphql","CometUFIFeedbackReactSubscription_liker.graphql","CometUFIFeedbackReactSubscription_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;h!==void 0?h:h=b("CometUFIFeedbackReactSubscription_feedback.graphql");i!==void 0?i:i=b("CometUFIFeedbackReactSubscription_liker.graphql");j!==void 0?j:j=b("CometUFIFeedbackReactSubscription_viewer.graphql");var l=k!==void 0?k:k=b("CometUFIFeedbackReactSubscription.graphql");function a(a,b,c){return d("CometRelay").requestSubscription(a,{subscription:l,updater:function(a,b){var c,d;c=(c=b.feedback_like_subscribe)==null?void 0:(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null?void 0:(d=d.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id;if(c!==d){b=(c=b.feedback_like_subscribe)==null?void 0:(d=c.feedback)==null?void 0:d.id;if(b!=null){c=a.get(b);c&&c.setValue(!0,"is_unseen")}}},variables:{input:b,useDefaultActor:c}})}g.subscribe=a}),98);
__d("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5359232510868548"}),null);
__d("CometUFILiveTypingBroadcastMutation_StartMutation.graphql",["CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStartTypingResponsePayload",kind:"LinkedField",name:"feedback_start_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:c},params:{id:b("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StartMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6911603175550464"}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation.graphql",["CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStopTypingResponsePayload",kind:"LinkedField",name:"feedback_stop_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:c},params:{id:b("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StopMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation",["ChannelClientID","CometRelay","CometUFILiveTypingBroadcastMutation_StartMutation.graphql","CometUFILiveTypingBroadcastMutation_StopMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CometUFILiveTypingBroadcastMutation_StartMutation.graphql"),k=i!==void 0?i:i=b("CometUFILiveTypingBroadcastMutation_StopMutation.graphql");function a(a,b,c,e){c={input:{feedback_id:c.feedbackID,session_id:d("ChannelClientID").getID()}};var f;e={onCompleted:e,variables:c};a?f=d("CometRelay").commitMutation(b,babelHelpers["extends"]({mutation:j},e)):f=d("CometRelay").commitMutation(b,babelHelpers["extends"]({mutation:k},e));return{dispose:function(){f&&f.dispose(),f=null}}}c=a.bind(null,!0);e=a.bind(null,!1);g.start=c;g.stop=e}),98);
__d("CometUFILiveTypingBroadcastPublisher",["AbstractCommentLiveTypingPublisher","CometUFILiveTypingBroadcastMutation"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){var f;f=a.call(this)||this;f.$CometUFILiveTypingBroadcastPublisher$p_1=b;f.$CometUFILiveTypingBroadcastPublisher$p_2=c;f.$CometUFILiveTypingBroadcastPublisher$p_3=e;f.$CometUFILiveTypingBroadcastPublisher$p_4=null;f.$CometUFILiveTypingBroadcastPublisher$p_5=null;f.$CometUFILiveTypingBroadcastPublisher$p_6=d;return f}var c=b.prototype;c.destroy=function(){this.$CometUFILiveTypingBroadcastPublisher$p_4&&this.$CometUFILiveTypingBroadcastPublisher$p_4.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_5&&this.$CometUFILiveTypingBroadcastPublisher$p_5.dispose()};c.handleStartEvent=function(){a.prototype.handleStartEvent.call(this)};c.handleStopEvent=function(){a.prototype.handleStopEvent.call(this)};c.publishStartEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher$p_4)return;this.$CometUFILiveTypingBroadcastPublisher$p_5&&(this.$CometUFILiveTypingBroadcastPublisher$p_5.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_5=null);var b=function(){a.$CometUFILiveTypingBroadcastPublisher$p_4=null};this.$CometUFILiveTypingBroadcastPublisher$p_2!=null&&(this.$CometUFILiveTypingBroadcastPublisher$p_4=d("CometUFILiveTypingBroadcastMutation").start(this.$CometUFILiveTypingBroadcastPublisher$p_6,{actorID:this.$CometUFILiveTypingBroadcastPublisher$p_1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher$p_2},b))};c.publishStopEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher$p_5)return;this.$CometUFILiveTypingBroadcastPublisher$p_4&&(this.$CometUFILiveTypingBroadcastPublisher$p_4.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_4=null);var b=function(){a.$CometUFILiveTypingBroadcastPublisher$p_5=null};this.$CometUFILiveTypingBroadcastPublisher$p_2!=null&&(this.$CometUFILiveTypingBroadcastPublisher$p_5=d("CometUFILiveTypingBroadcastMutation").stop(this.$CometUFILiveTypingBroadcastPublisher$p_6,{actorID:this.$CometUFILiveTypingBroadcastPublisher$p_1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher$p_2},b))};return b}(c("AbstractCommentLiveTypingPublisher"));g["default"]=a}),98);
__d("CometUFILiveTypingBroadcastComposerUpgradedPlugin.react",["CometUFILiveTypingBroadcastPublisher","FBLogger","JSScheduler","Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef,l=b.c;function a(a){var b=l(13),e=a.pluginProps,f=a.feedback,g=a.groupID,i=a.relayEnvironment,m=(a=f.viewer_actor)==null?void 0:a.id,n=e.addCommitListener,o=f.id,p=k(!1),q=k(null),r=e.editor;b[0]!==m||b[1]!==o||b[2]!==g||b[3]!==i||b[4]!==r||b[5]!==n?(a=function(){if(p.current===!0)return;if(m==null||o==null&&g==null){c("FBLogger")("ufi2").warn("Failed to fetch `feedback.viewer_actor.id`, or both `feedback.id` and `groupID` are null, in the UFI live typing broadcast plugin. The live typing broadcast is disabled for this UFI.");p.current=!0;return}var a;a="";var b=function(){if(q.current===null){var a=new(c("CometUFILiveTypingBroadcastPublisher"))(m,o,i,g);q.current=a}return q.current},e=r.registerTextContentListener(function(d){if(a!==d){var e=b();a=d;(h||(h=c("JSScheduler"))).defer(function(){e.handleStartEvent()})}}),f=r.registerCommand(d("Lexical").BLUR_COMMAND,function(){var a=q.current;a!==null&&a.handleStopEvent();return!1},d("Lexical").COMMAND_PRIORITY_LOW),j=n(function(){var a=q.current;a!==null&&a.handleStopEvent();return"continue-commit"});return function(){var a=q.current;a!==null&&(q.current=null,a.destroy());e();f();j()}},b[0]=m,b[1]=o,b[2]=g,b[3]=i,b[4]=r,b[5]=n,b[6]=a):a=b[6];b[7]!==m||b[8]!==n||b[9]!==r||b[10]!==o||b[11]!==i?(f=[m,n,r,o,i],b[7]=m,b[8]=n,b[9]=r,b[10]=o,b[11]=i,b[12]=f):f=b[12];j(a,f);return null}g["default"]=a}),98);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10096341077050189"}),null);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql",["CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"stickerId"}],c=[{kind:"Variable",name:"id",variableName:"stickerId"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={kind:"Variable",name:"scale",variableName:"scale"},f=[{kind:"Literal",name:"height",value:80},e,{kind:"Literal",name:"width",value:80}],g={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},h=[g,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentSticker_sticker"}],type:"Sticker",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d],storageKey:null},{alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[g],storageKey:null},{alias:"sticker_image",args:f,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},e,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null},d],storageKey:null}]},params:{id:b("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"),metadata:{},name:"CometUFIStickersComposerUpgradedPreviewContentQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("UFI2CommentSticker_sticker.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b=[{kind:"Literal",name:"height",value:80},a,{kind:"Literal",name:"width",value:80}],c={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},d=[c,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"UFI2CommentSticker_sticker",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:b,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[c],storageKey:null},{alias:"sticker_image",args:b,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},a,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null}}();e.exports=a}),null);
__d("UFI2CommentSticker.react",["JSResource","UFI2CometRelayCreateFragmentContainer","UFI2CommentSticker_sticker.graphql","UFI2ScaleRect","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResource")("Sticker.react").__setRef("UFI2CommentSticker.react"));function a(a){var b=a.className;a=a.sticker;var c=a.sticker_type==="AVATAR",e=a.sprite_image,f=c?a.larger_sticker_image:a.sticker_image;if(f==null)return null;c=c?120:80;c=d("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:c,maxWidth:c,srcHeight:f.height||c,srcWidth:f.width||c});var g=c.height;c=c.width;var h=j.jsx("div",{style:{backgroundImage:"url("+(f.uri||"")+")",backgroundRepeat:"no-repeat",backgroundSize:c+"px "+g+"px",height:g,width:c}});return j.jsx(j.Suspense,{fallback:h,children:j.jsx(k,{accessibilityLabel:a.label,animationTrigger:"load_and_hover",className:b,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerCol:a.frames_per_column,framesPerRow:a.frames_per_row,packName:(h=a.pack)==null?void 0:h.name,sourceHeight:g,sourceURI:f.uri,sourceWidth:c,spriteURI:e==null?void 0:e.uri})})}a.displayName=a.name+" [from "+f.id+"]";a.displayName="UFI2CommentSticker";e=c("UFI2CometRelayCreateFragmentContainer").createFragmentContainer(a,{sticker:h!==void 0?h:h=b("UFI2CommentSticker_sticker.graphql")});g["default"]=e}),98);
__d("CometUFIStickersComposerUpgradedPreviewContent.react",["cx","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","CometUFIStickersComposerUpgradedPreviewContentQuery.graphql","FBLogger","SiteData","UFI2CommentSticker.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j;function m(a){var e=k(6);a=a.stickerId;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i!==void 0?i:i=b("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql"),e[0]=f):f=e[0];var g;e[1]!==a?(g={scale:c("SiteData").pr,stickerId:a},e[1]=a,e[2]=g):g=e[2];f=d("CometRelay").useLazyLoadQuery(f,g);g=f.sticker;if(!g){c("FBLogger")("ufi2").addMetadata("UFI","STICKER_ID",a).mustfix("Failed to fetch a sticker.");return null}e[3]===Symbol["for"]("react.memo_cache_sentinel")?(f="mal",e[3]=f):f=e[3];e[4]!==g?(a=l.jsx(c("UFI2CommentSticker.react"),{className:f,sticker:g}),e[4]=g,e[5]=a):a=e[5];return a}function a(a){var b=k(8),d=a.loadingIndicatorElement,e=a.onError;a=a.stickerId;var f;b[0]!==a?(f=l.jsx(m,{stickerId:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==d||b[3]!==f?(a=l.jsx(c("CometPlaceholder.react"),{fallback:d,children:f}),b[2]=d,b[3]=f,b[4]=a):a=b[4];b[5]!==e||b[6]!==a?(d=l.jsx(c("CometErrorBoundary.react"),{fallback:n,onError:e,children:a}),b[5]=e,b[6]=a,b[7]=d):d=b[7];return d}function n(){}g["default"]=a}),98);
__d("CometUFIVoteCountDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6332433593547262"}),null);
__d("CometUFIVoteCountDialogQuery$Parameters",["CometUFIVoteCountDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFIVoteCountDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFIVoteCountDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIVoteCountDialog.entrypoint",["CometUFIVoteCountDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.actorID;a=a.questionID;return{queries:{cometUFIVoteCountDialogQueryRef:{environmentProviderOptions:{actorID:c},parameters:b("CometUFIVoteCountDialogQuery$Parameters"),variables:{questionID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometUFIVoteCountDialog.react").__setRef("CometUFIVoteCountDialog.entrypoint")};g["default"]=a}),98);
__d("CometUFIVotesText.react",["fbt","CometUFISummaryBarLabel.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(5);a=a.voteCount;var d;b[0]!==a?(d=h._("__JHASH__iwbH0uMbUnu__JHASH__",[h._plural(a,"number")]),b[0]=a,b[1]=d):d=b[1];d=d;var e;b[2]!==a||b[3]!==d?(e=k.jsx(c("CometUFISummaryBarLabel.react"),{count:a,icon:"ballot-box",label:d}),b[2]=a,b[3]=d,b[4]=e):e=b[4];return e}g["default"]=a}),226);
__d("CometUFIVoteCountButton.react",["fbt","Actor","CometPressable.react","CometUFIVoteCountDialog.entrypoint","CometUFIVotesText.react","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.c,m={link:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",color:"x1heor9g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",":hover_textDecoration":"xt0b8zv",$$css:!0}};function a(a){var b=l(11),e=a.questionID;a=a.voteCount;var f=d("Actor").useActor();f=f[0];var g=k(null),i;b[0]!==f||b[1]!==e?(i={actorID:f,questionID:e},b[0]=f,b[1]=e,b[2]=i):i=b[2];f=c("useCometEntryPointDialog")(c("CometUFIVoteCountDialog.entrypoint"),i);var n=f[0];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__BOvwuovk-V1__JHASH__"),b[3]=e):e=b[3];b[4]!==n?(i=function(){n({})},b[4]=n,b[5]=i):i=b[5];b[6]!==a?(f=j.jsx(c("CometUFIVotesText.react"),{voteCount:a}),b[6]=a,b[7]=f):f=b[7];b[8]!==i||b[9]!==f?(a=j.jsx(c("CometPressable.react"),{"aria-label":e,display:"inline",onPress:i,overlayDisabled:!0,ref:g,xstyle:m.link,children:f}),b[8]=i,b[9]=f,b[10]=a):a=b[10];return a}g["default"]=a}),226);
__d("CommentCountFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5519");b=d("FalcoLoggerInternal").create("comment_count",a);e=b;g["default"]=e}),98);
__d("DelightsTextTriggerPostTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1497");b=d("FalcoLoggerInternal").create("delights_text_trigger_post_tapped",a);e=b;g["default"]=e}),98);
__d("InlineFollowCtaEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1985969");b=d("FalcoLoggerInternal").create("inline_follow_cta_event",a);e=b;g["default"]=e}),98);
__d("WhatsappDeeplinkClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2");b=d("FalcoLoggerInternal").create("whatsapp_deeplink_clicked",a);e=b;g["default"]=e}),98);
__d("WhatsappDeeplinkRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("20");b=d("FalcoLoggerInternal").create("whatsapp_deeplink_rendered",a);e=b;g["default"]=e}),98);
__d("destroyOnUnloadWWW",["Run"],(function(a,b,c,d,e,f,g){function a(a){return d("Run").onLeave(a)}g["default"]=a}),98);
__d("getUpgradedCometUFIEmoticonsComposerHandler",["CometLexicalEmojiNode","EmoticonsList","FBEmojiResource","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(!a.isSimpleText())return;var b=d("Lexical").$getSelection(),e=a.getTextContent();d("Lexical").$isRangeSelection(b)&&b.isCollapsed()&&b.anchor.type==="text"&&b.anchor.key===a.getKey()&&(e=e.slice(0,b.anchor.offset));b=a;while((a=e.match(d("EmoticonsList").noncapturingRegexp))&&a!==null&&b!==void 0){var f=a[1];a=a[0][0]===" "?a.index+1:a.index;var g=f.length,h=a+g,i=d("EmoticonsList").emotes[f];if(i!==void 0){var j=d("EmoticonsList").emoji[i],k=b.getNextSibling();k=h===e.length?d("Lexical").$isLineBreakNode(k):e[h]===" ";if(j!==void 0&&k){k=void 0;if(a===0){g=b.splitText(g);k=g[0];b=g[1]}else{g=b.splitText(a,h);k=g[1];b=g[2]}a=j.length===5&&j.slice(0,2)==="1f";g=a?String.fromCodePoint(parseInt("0x"+j,0)):i;i=a?g:f;a=new(c("FBEmojiResource"))(j);f=a.getImageURL(d("CometLexicalEmojiNode").UFI_EMOJI_SIZE);f!=null&&(j=d("CometLexicalEmojiNode").$createEmojiNode(g,i,f,d("CometLexicalEmojiNode").UFI_EMOJI_SIZE),k.replace(j))}}e=e.slice(h)}}function a(a){return a.registerNodeTransform(d("Lexical").TextNode,h)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("HorizonWebMqttChannel",["CurrentUser","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();function h(){var a;d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);return new(c("MqttChannel"))({appId:(a=c("MqttWebConfig")).appID,capabilities:a.capabilities,chatVisibility:!0,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,pageId:null,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid})}var i=null;function a(){i==null&&(i=h());return i}function b(){i!=null&&(i.shutdown(),i=null)}g.getHorizonWebMqttChannelInstance=a;g.shutdownAndClear=b}),98);
__d("IGDOverLSMqttChannel",["CurrentUser","Env","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c("MqttEnvInitializer").initialize();function j(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);var b=c("CurrentUser").getAppID()==null?936619743392459:Number(c("CurrentUser").getAppID());return new(c("MqttChannel"))({appId:b,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"cookie_auth",deviceId:a,endpoint:(i||(i=c("Env"))).ig_mqtt_wss_endpoint||"wss://edge-chat.instagram.com/chat",initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:(i||(i=c("Env"))).ig_mqtt_polling_endpoint||"https://edge-chat.instagram.com/mqtt/pull",userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var k=null,l;function m(a){k==null&&(k=j(a));a=k;l==null?void 0:l(a);return a}function a(){return new(h||(h=b("Promise")))(function(a){k?a(m()):l=function(b){a(b)}})}function e(){k!=null&&(k.shutdown(),k=null)}g.getInstance=m;g.waitAndGetInstance=a;g.shutdownAndClear=e}),98);
__d("MultiwaySharedTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({UNKNOWN:0,SFU:1,P2P:2});d=a({UNKNOWN:0,GROUP:1,IGVIDEOCALL:9,OCULUS:10,ROOM:15,DEBUGTOOL:16,DARWIN:19,CRUCIBLE:20,MBS_WA:21,BOT:22});f=a({OFFER:0,PRANSWER:1,ANSWER:2,PROFFER:3});b=a({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});var g=a({E2EE_NOT_MANDATED:0,DEPRECATED_NO_REQUIREMENT:1,E2EE_MANDATED:2}),h=a({NOT_SET:0,CONTROL:1,TEST:2}),i=a({NotPaused:0,Paused:1}),j=a({AUDIO:0,VIDEO:1,DATA:2}),k=a({UDP:1,TCP:2}),l=a({DEFAULT:0,DIRECT_XPOP:1,PSEUDO_QUIC:2}),m=a({UNKNOWN:0,COMPOSITING_SERVICE:1,MEDIA_SERVER:2,CATHODE_AMBISONIC:3,CATHODE_CAPTIONS:4,CATHODE_MEETING_SUMMARIZER:5,CATHODE_REALTIME_SHARED_STATE:6,RP_GENAI_SERVICE:7}),n=a({CNAME:0,TRACK:1,DOMINANT_SPEAKER:2}),o=a({UNKNOWN:0,DEFAULT:1,SCREEN_SHARE:2}),p=a({UNSPECIFIED:0,FNA:1,FNA_PREFERRED:2});a=a({IntValue:"intValue",StringValue:"stringValue"});e.exports={ConferenceType:d,E2eeInfraMandatedExpStatus:h,E2eeMode:g,EdgerayType:p,EndpointServiceType:m,MediaPath:c,MediaPauseStatus:i,MediaType:j,ProxygenCandidateProtocol:k,ProxygenVipType:l,QuickExperimentValue$Types:a,RenderedStreamType:o,SdpType:f,SubscriptionType:n,VideoQuality:b}}),null);
__d("OculusMqttChannel",["CurrentUser","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();function h(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);a=c("CurrentUser").getAppID()==null?2763362503905702:Number(c("CurrentUser").getAppID());return new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"websocket",deviceId:c("uuidv4")(),endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var i=null;function a(a){i==null&&(i=h(a));return i}function b(){return i}function e(){i!=null&&(i.shutdown(),i=null)}g.getOculusMqttChannelInstance=a;g.getOculusMqttChannelInstanceDoNotCreate=b;g.shutdownAndClear=e}),98);
__d("OverlayConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a={OverlayConfigNumParameters:4474,OverlayConfigNotPresentFlagValue:-1};b=a;f["default"]=b}),66);
__d("OverlayConfigLayerSource",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,DEFAULT:1,MOBILECONFIG:2,APP_CRUCIBLE:3,APP_JNI:4,UNITTEST_CONFIG:5,SERVER:6,PLACEHOLDER:7,LS_MOBILECONFIG:8,APP_LS:9,APP_JS:10,BROWSER:11,APP_OVRRTC:12,APP_IG:13,MLITE4A_LEGACY_QE:14,APP_MLITE4A:15,APP_PORTAL:16,IG_LAUNCHER:17,APP_ARCHON:18,APP_WS:19,APP_NOX:20,APP_WEARABLE_MSNGR:21,APP_WEARABLE_IG:22,APP_ORCA_RSYS:23,APP_WILDE:24,APP_MKIOS:25,APP_MK4A:26,DYNAMIC:27,SDK_DEFAULT:28,APP_FB4A:29,APP_RSYS_SDK_SAMPLE:30,APP_BIZAPP:31,APP_WORKCHAT:32,APP_ARCHON_LOCAL_OVERRIDES:33,APP_CATHODE:34,APP_WR4I:35,APP_WR4A:36,APP_METACAM:37,HORIZON_EMERGENCY:38,APP_SOCIALPLATFORM:39,APP_TWILIGHT:40,APP_AR_CALLING_LOCAL_OVERRIDES:41,APP_TWILIGHT_CASTING:42,TWILIGHT_EMERGENCY:43,METACAM_EMERGENCY:44,CALL_SCOPED:45});b=a;f["default"]=b}),66);
__d("OverlayConfigServerLayer",["OverlayConfigConstants","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){a.createFromHeader=function(b){try{b=b==null?void 0:(b=b.extensions)==null?void 0:b.oc1_json;if(b==null)return null;b=JSON.parse(b);b=b==null?void 0:b.values;return b==null?null:new a(b)}catch(a){return null}};function a(a){this.$1=a}var b=a.prototype;b.getLayerSource=function(){return c("OverlayConfigLayerSource").SERVER};b.getValue=function(a){a=this.$1[String(a)];return a!=null?a:c("OverlayConfigConstants").OverlayConfigNotPresentFlagValue};b.logExposure=function(a){};return a}();g["default"]=a}),98);
__d("ZenonArmadilloLoggingChecks",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("justknobx")._("1019")}function b(){return c("justknobx")._("1020")}function d(){return c("justknobx")._("1021")}function e(){return c("justknobx")._("1155")}g.isArmadilloCallSummaryLoggingEnabled=a;g.isArmadilloQPLLoggingEnabled=b;g.isArmadilloCheckpointLoggingEnabled=d;g.areArmadilloTslogsEnabled=e}),98);
__d("ZenonBrowsers",["UserAgent","UserAgentData"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("UserAgent").isBrowser("Chrome")}function i(){return!!navigator.webkitGetUserMedia}function a(){return c("UserAgent").isBrowser("Edge (Chromium Based)")}function j(){return c("UserAgent").isBrowser("Safari")}function k(){return c("UserAgent").isBrowser("Firefox")}function b(){return c("UserAgent").isBrowser("Opera")}function l(){return c("UserAgent").isBrowser("Mobile Safari")}function m(){return c("UserAgent").isBrowser("Oculus Browser")}function n(){return c("UserAgent").isBrowser("Samsung Browser")}function d(){return l()||c("UserAgent").isPlatform("Android")||n()}function o(){return c("UserAgent").isPlatform("Android")||c("UserAgent").isPlatform("iOS")}function p(){if(k()){var a;return(a=c("UserAgentData").browserVersion)!=null?a:0}if(i()){a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return a!=null?parseInt(a[2],10):999}return 0}function q(){return c("UserAgent").isBrowser("FBLite")||c("UserAgent").isBrowser("Facebook for Android")}function e(a){if(!q())return!1;var b=p();return b>=a}function f(){return k()}function r(){return k()||j()||c("UserAgent").isBrowser("Chrome >= 97")}function s(){return!o()&&(c("UserAgent").isBrowser("Chrome >= 51")||c("UserAgent").isBrowser("Opera >= 36"))}function t(){return c("UserAgent").isBrowser("Firefox < 60")||c("UserAgent").isBrowser("Edge")}function u(){return!m()}function v(){return!m()}function w(){return!l()&&!j()&&!((i()||h())&&p()<80)&&!(k()&&p()<70)}function x(){return(i()||h())&&p()>=77||c("UserAgent").isBrowser("Firefox >= 70")||c("UserAgent").isBrowser("Safari >= 14.1")}function y(){return c("UserAgent").isBrowser("Chrome >= 89")||c("UserAgent").isBrowser("Opera >= 75")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 89")}g.isChrome=h;g.isChromium=i;g.isChromiumBasedEdge=a;g.isDesktopSafari=j;g.isFirefox=k;g.isOpera=b;g.isMobileSafari=l;g.isOculusBrowser=m;g.isSamsung=n;g.isSupportedMobileBrowser=d;g.isMobileDevice=o;g.webrtcVersion=p;g.isFBWebview=q;g.isFBWebviewWithChromeMinVersion=e;g.noTransceiverForNegotiations=f;g.onlySupportsUnifiedPlan=r;g.isVideoFilterEffectSupported=s;g.videoEscalationByUnmuteWorkaround=t;g.supportsMWAVEscalation=u;g.supportsVideoCalls=v;g.supportsRollback=w;g.supportsIceRestart=x;g.isVideoLayersAllocationSupported=y}),98);
__d("ZenonCallsModelTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum")).Mirrored(["Disconnected","Precontacting","Contacting","Ringing","PendingApproval","Approved","FailedApproval","Connecting","Connected","Reconnecting","ProvisionalRinging"]);d=a.Mirrored(["Facebook","Instagram","Messenger","Guest","WhatsApp","Workplace"]);e=a.Mirrored(["New","Connecting","PendingApproval","Connected","Terminating","Terminated"]);b=a.Mirrored(["Unknown","CallsBlocked"]);a=a.Mirrored(["None","PendingPeerFeedback","Declined","RemoteDeclined","LocalDeclined","Cancelled","TimedOut","Accepted","InitiatedFromPeer"]);f.ZenonCallParticipantState=c;f.ZenonCallParticipantType=d;f.ZenonCallState=e;f.ZenonEndCallSubreason=b;f.ZenonVideoEscalationStatus=a}),66);
__d("ZenonEndCallReason",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BREAKOUT_SESSION_SWITCH_ROOM:"BreakoutSessionSwitchRoom",CALL_END_ACCEPT_AFTER_HANG_UP:"CallEndAcceptAfterHangUp",CALLER_NOT_VISIBLE:"CallerNotVisible",CAMERA_PERMISSION_DENIED:"CameraPermissionDenied",CARRIER_BLOCKED:"CarrierBlocked",CLIENT_ENCRYPTION_ERROR:"ClientEncryptionError",CLIENT_ERROR:"ClientError",CLIENT_INTERRUPTED:"ClientInterrupted",CONNECTION_DROPPED:"ConnectionDropped",END_TO_END_ENCRYPTION_INVARIANT_VIOLATED:"EndToEndEncryptionInvariantViolated",HANGUP_CALL:"HangupCall",IGNORE_CALL:"IgnoreCall",IN_ANOTHER_CALL:"InAnotherCall",INACTIVE_TIMEOUT:"InactiveTimeout",INCOMING_TIMEOUT:"IncomingTimeout",MAX_ALLOWED_PARTICIPANTS_REACHED:"MaxAllowedParticipantsReached",MICROPHONE_PERMISSION_DENIED:"MicrophonePermissionDenied",NO_ANSWER_TIMEOUT:"NoAnswerTimeout",NO_PERMISSION:"NoPermission",NO_UI_SHOWN:"NoUIShown",OTHER_CARRIER_BLOCKED:"OtherCarrierBlocked",OTHER_INSTANCE_HANDLED:"OtherInstanceHandled",OTHER_NOT_CAPABLE:"OtherNotCapable",PRODUCT_SERVER_DEFINED_END_REASON:"ProductServerDefinedEndReason",REMOVED_BY_PARTICIPANT:"RemovedByParticipant",RING_MUTED:"RingMuted",SESSION_MIGRATED:"SessionMigrated",SIGNALING_MESSAGE_FAILED:"SignalingMessageFailed",TX_ACK_TIMEOUT:"TxAckTimeout",UNEXPECTED_END_OF_CALL:"UnexpectedEndOfCall",UNKNOWN:"Unknown",VERSION_UNSUPPORTED:"VersionUnsupported",WEBRTC_ERROR:"WebRTCError"});c=a;f["default"]=c}),66);
__d("ZenonIncomingRingSDKTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Hangup","OtherDismiss"]);f.ZenonCancelReason=a}),66);
__d("fbwebrtc_ClientStack",[],(function(a,b,c,d,e,f){a=Object.freeze({OLD_CLIENT_PLATFORM_STACK:0,RSYS_X:1,IG_OLD_STACK:2,MLITE_OLD_STACK:3,SCOTCH:4,ZENON:5});f["default"]=a}),66);
__d("multiway_ApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DENIED:0,APPROVED:1});f["default"]=a}),66);
__d("multiway_Capability",[],(function(a,b,c,d,e,f){a=Object.freeze({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9,SUPPORT_MULTIPLE_VIDEO_STREAMS:10,REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED:11,SUPPORT_MULTISTREAM_FEC:12,SUPPORT_DELTA_SMU:13,REQUIRE_DEFAULT_CHANNEL_SCREENSHARE:14,SUPPORT_SCREENSHARE_FLAG_IN_JOIN_RESPONSE_AND_SMU:15,SUPPORT_TEMPORAL_LAYER_JBE:16,REQUIRES_P2P_RELAY_INFO_VIA_SIGNALING:17,SUPPORT_NUMERIC_TOPICS:18,SUPPORT_PSEUDO_QUIC_CONNECTION:19});f["default"]=a}),66);
__d("multiway_ClientEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});f["default"]=a}),66);
__d("multiway_ConferenceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,GROUP:1,IGVIDEOCALL:9,OCULUS:10,ROOM:15,DEBUGTOOL:16,DARWIN:19,CRUCIBLE:20,MBS_WA:21,BOT:22});f["default"]=a}),66);
__d("multiway_DeviceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10});f["default"]=a}),66);
__d("multiway_DismissReason",[],(function(a,b,c,d,e,f){a=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14,ANSWERED_BY_OTHER_USER:15,PARTICIPANT_SELF_TERMINATION:16,PARTICIPANT_REJOIN:17,LONG_LASTING_AUDIO_ISSUE:18,PRIMARY_ENDPOINT_HANGUP:19,RECONNECT_FAILED:20,E2EE_HARDENING_ERROR:21});f["default"]=a}),66);
__d("multiway_E2eeMode",[],(function(a,b,c,d,e,f){a=Object.freeze({E2EE_NOT_MANDATED:0,DEPRECATED_NO_REQUIREMENT:1,E2EE_MANDATED:2});f["default"]=a}),66);
__d("multiway_EndpointServiceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,COMPOSITING_SERVICE:1,MEDIA_SERVER:2,CATHODE_AMBISONIC:3,CATHODE_CAPTIONS:4,CATHODE_MEETING_SUMMARIZER:5,CATHODE_REALTIME_SHARED_STATE:6,RP_GENAI_SERVICE:7});f["default"]=a}),66);
__d("multiway_HangupReason",[],(function(a,b,c,d,e,f){a=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:7,E2EE_MANDATED_BUT_ANSWER_DID_NOT_NEGOTIATE_E2EE:8,WEBRTC_ERROR:9,CONNECTION_DROPPED:10});f["default"]=a}),66);
__d("multiway_JoinMode",[],(function(a,b,c,d,e,f){a=Object.freeze({PRIMARY:0,SECONDARY:1});f["default"]=a}),66);
__d("multiway_MediaPath",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,SFU:1,P2P:2});f["default"]=a}),66);
__d("multiway_MediaPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NotPaused:0,Paused:1});f["default"]=a}),66);
__d("multiway_MessageTag",[],(function(a,b,c,d,e,f){a=Object.freeze({PRANSWER:1001,INITIAL_ANSWER_TO_P2P_CALLER:1002,DEESCALATE_OFFER_TO_P2P_CALLEE:1003,DEESCALATE_ANSWER_TO_P2P_CALLER:1004,REQUEST_DEESCALATE_TO_P2P_CALLER:1005,REQUEST_ESCALATE:1006,REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM:1007,REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS:1008,PARTICIPANT_ADDED:1009,PARTICIPANT_REMOVED:1010,FIRST_REMOTE_ALERTED_FOR_INITIATOR:2001,FIRST_REMOTE_ANSWERED_FOR_INITIATOR:2002,CONTAIN_PENDING_APPROVAL_PARTICIPANTS:2003,KEEP_ALIVE_PING:3001,IS_INITIATOR:4001});f["default"]=a}),66);
__d("multiway_MessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,P2P_PROTOCOL:19,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26,TRANSFER:27,WAKEUP:28});f["default"]=a}),66);
__d("multiway_ParticipantCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17});f["default"]=a}),66);
__d("multiway_RingType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6,LIVE_AUDIO_ROOM:7,LIVE_WITH_ROOM:8});f["default"]=a}),66);
__d("multiway_RtcResponseStatusCode",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503});f["default"]=a}),66);
__d("multiway_RtcResponseSubCode",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,MWS_MESSAGE_SENT_TO_INCORRECT_REGION:1005,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,INVALID_E2EE_STATE:2029,SFU_MODE_PREVENTED:2030,INVALID_CONFERENCE_STATE:2031,JOIN_REQUEST_DENIED:2032,EMPTY_USER_IDS:2033,MISSING_SDP_CONNECT_REQUEST:2034,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_ENDPOINT_USER_ID:2120,EMPTY_ENDPOINT_USER_ID:2121,MISSING_BODY_TRANSFER_REQUEST:2122,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,SHOULD_USE_NEW_SIGNALING_PATH:3007,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,SDP_UNSET_ON_P2P_OFFER:4029,LEGACY_OFFER_MISSING_REQUIRED_VALUE:4031,MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR:4032,CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS:4033,OTHER_USER_ANSWERED_THE_CALL:4034,MEDIA_SERVER_DESERIALIZATION_ERROR:4035,REMOTE_SDP_TRACKID_MISMATCH:4036,SIGNALING_MESSAGE_TO_CLIENT_DROPPED:4037,DATA_CHANNEL_ENDPOINT_GONE:4038,DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS:4039,CONNECT_UNSUPPORTED_DURING_P2P_TO_SFU_ESCALATION:4040,P2P_CONNECT_UNSUPPORTED_AFTER_SFU_ESCALATION:4041,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_CONFERENCE:4042,CONNECT_EXCEEDED_MAX_ALLOWED_ENDPOINTS_PER_USER:4043,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,CLIENT_TERMINATED:5010,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,UNSUPPORTED_CAPABILITIES:6008,PRODUCT_SERVER_DEFINED_END_REASON:6009,WWW_KILLSWITCHED_REQUEST:6010,CONFLICTING_MEDIA_PATH:6011,CONFLICTING_MEDIA_STATUS:6012,CONFLICTING_SESSION_DESCRIPTION:6013,OK:9e3});f["default"]=a}),66);
__d("multiway_SubscriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CNAME:0,TRACK:1,DOMINANT_SPEAKER:2});f["default"]=a}),66);
__d("multiway_VideoQuality",[],(function(a,b,c,d,e,f){a=Object.freeze({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});f["default"]=a}),66);
__d("ZenonMWMessageTypes",["$InternalEnum","fbwebrtc_ClientStack","multiway_ApprovalStatus","multiway_Capability","multiway_ClientEventType","multiway_ConferenceType","multiway_DeviceStatus","multiway_DismissReason","multiway_E2eeMode","multiway_EndpointServiceType","multiway_HangupReason","multiway_JoinMode","multiway_MediaPath","multiway_MediaPauseStatus","multiway_MessageTag","multiway_MessageType","multiway_ParticipantCallState","multiway_RingType","multiway_RtcResponseStatusCode","multiway_RtcResponseSubCode","multiway_SubscriptionType","multiway_VideoQuality"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum")({DEFAULT_AUDIO:0,DEFAULT_VIDEO:1,SCREEN_AUDIO:2,SCREEN_VIDEO:3});g.ZenonMWClientStack=c("fbwebrtc_ClientStack");g.ZenonMWApprovalStatus=c("multiway_ApprovalStatus");g.ZenonMWCapability=c("multiway_Capability");g.ZenonMWClientEventType=c("multiway_ClientEventType");g.ZenonMWConferenceType=c("multiway_ConferenceType");g.ZenonMWDeviceStatus=c("multiway_DeviceStatus");g.ZenonMWDismissReason=c("multiway_DismissReason");g.ZenonMWE2eeMode=c("multiway_E2eeMode");g.ZenonMWEndpointServiceType=c("multiway_EndpointServiceType");g.ZenonMWHangupReason=c("multiway_HangupReason");g.ZenonMWMediaPath=c("multiway_MediaPath");g.ZenonMWJoinMode=c("multiway_JoinMode");g.ZenonMWMediaPauseStatus=c("multiway_MediaPauseStatus");g.ZenonMWMessageTag=c("multiway_MessageTag");g.ZenonMWSignalingPayloadType=c("multiway_MessageType");g.ZenonMWParticipantCallState=c("multiway_ParticipantCallState");g.ZenonMWRingType=c("multiway_RingType");g.ZenonMWResponseStatusCode=c("multiway_RtcResponseStatusCode");g.ZenonMWResponseSubCode=c("multiway_RtcResponseSubCode");g.ZenonMWSubscriptionType=c("multiway_SubscriptionType");g.ZenonMWVideoQuality=c("multiway_VideoQuality");g.ZenonMWTrackLabel=a}),98);
__d("ZenonMediaError",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ConnectionClosed","IceDisconnected","IceFailure","SetLocalSdpFailed","SetRemoteSdpFailed","RollbackSdpFailed","UnknownError"]);f.ZenonMediaError=a}),66);
__d("ZenonDismissReason",["$InternalEnum","FBLogger","ZenonIncomingRingSDKTypes","ZenonMWMessageTypes","ZenonMediaError"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({IgnoreCall:0,HangupCall:1,InAnotherCall:2,AcceptAfterHangUp:3,NoAnswerTimeout:4,IncomingTimeout:5,OtherInstanceHandled:6,SignalingMessageFailed:7,ConnectionDropped:8,ClientInterrupted:9,WebRTCError:10,ClientError:11,NoPermission:12,OtherNotCapable:13,NoUIShown:14,VersionUnsupported:15,CallerNotVisible:16,CarrierBlocked:17,OtherCarrierBlocked:18,ClientEncryptionError:19,MicrophonePermissionDenied:20,CameraPermissionDenied:21,SessionMigrated:22,RingMuted:23,JoinApprovalDenied:24,RejectedByCallee:25,CallEndedByProduct:26,CallEnded:27,AnsweredOnAnotherDevice:28,RejectedOnAnotherDevice:29,CallCollision:30,MaxAllowedParticipantsReached:31,UnexpectedEndOfCall:32,TxAckTimeout:33,EndToEndEncryptionInvariantViolated:34,ProductServerDefinedEndReason:35,RemovedByParticipant:39,AnsweredByOtherUser:40});function a(a){switch(a){case"BreakoutSessionSwitchRoom":return i.HangupCall;case"CallEndAcceptAfterHangUp":return i.AcceptAfterHangUp;case"CallerNotVisible":return i.CallerNotVisible;case"CarrierBlocked":return i.CarrierBlocked;case"ClientEncryptionError":return i.ClientEncryptionError;case"ClientError":return i.ClientError;case"ClientInterrupted":return i.ClientInterrupted;case"ConnectionDropped":return i.ConnectionDropped;case"HangupCall":return i.HangupCall;case"IgnoreCall":return i.IgnoreCall;case"InAnotherCall":return i.InAnotherCall;case"EndToEndEncryptionInvariantViolated":return i.EndToEndEncryptionInvariantViolated;case"InactiveTimeout":return i.CallEnded;case"IncomingTimeout":return i.IncomingTimeout;case"MaxAllowedParticipantsReached":return i.MaxAllowedParticipantsReached;case"NoAnswerTimeout":return i.NoAnswerTimeout;case"NoPermission":return i.NoPermission;case"NoUIShown":return i.NoUIShown;case"OtherCarrierBlocked":return i.OtherCarrierBlocked;case"OtherInstanceHandled":return i.OtherInstanceHandled;case"OtherNotCapable":return i.OtherNotCapable;case"SignalingMessageFailed":return i.SignalingMessageFailed;case"UnexpectedEndOfCall":return i.UnexpectedEndOfCall;case"Unknown":return i.CallEnded;case"VersionUnsupported":return i.VersionUnsupported;case"WebRTCError":return i.WebRTCError;case"MicrophonePermissionDenied":return i.MicrophonePermissionDenied;case"CameraPermissionDenied":return i.CameraPermissionDenied;case"SessionMigrated":return i.SessionMigrated;case"RingMuted":return i.RingMuted;case"TxAckTimeout":return i.TxAckTimeout;case"ProductServerDefinedEndReason":return i.ProductServerDefinedEndReason;case"RemovedByParticipant":return i.RemovedByParticipant}}function e(a){switch(a){case i.CallEnded:case i.CallEndedByProduct:case i.HangupCall:return"HangupCall";case i.IgnoreCall:case i.JoinApprovalDenied:case i.RejectedByCallee:return"IgnoreCall";case i.InAnotherCall:return"InAnotherCall";case i.AcceptAfterHangUp:return"CallEndAcceptAfterHangUp";case i.NoAnswerTimeout:return"NoAnswerTimeout";case i.IncomingTimeout:return"IncomingTimeout";case i.AnsweredOnAnotherDevice:case i.CallCollision:case i.RejectedOnAnotherDevice:case i.OtherInstanceHandled:case i.AnsweredByOtherUser:return"OtherInstanceHandled";case i.SignalingMessageFailed:return"SignalingMessageFailed";case i.ConnectionDropped:return"ConnectionDropped";case i.ClientInterrupted:return"ClientInterrupted";case i.WebRTCError:return"WebRTCError";case i.ClientError:return"ClientError";case i.NoPermission:return"NoPermission";case i.OtherNotCapable:return"OtherNotCapable";case i.NoUIShown:return"NoUIShown";case i.VersionUnsupported:return"VersionUnsupported";case i.CallerNotVisible:return"CallerNotVisible";case i.CarrierBlocked:return"CarrierBlocked";case i.OtherCarrierBlocked:return"OtherCarrierBlocked";case i.ClientEncryptionError:return"ClientEncryptionError";case i.UnexpectedEndOfCall:return"UnexpectedEndOfCall";case i.MaxAllowedParticipantsReached:return"MaxAllowedParticipantsReached";case i.MicrophonePermissionDenied:return"MicrophonePermissionDenied";case i.CameraPermissionDenied:return"CameraPermissionDenied";case i.SessionMigrated:return"SessionMigrated";case i.RingMuted:return"RingMuted";case i.TxAckTimeout:return"TxAckTimeout";case i.EndToEndEncryptionInvariantViolated:return"EndToEndEncryptionInvariantViolated";case i.ProductServerDefinedEndReason:return"ProductServerDefinedEndReason";case i.RemovedByParticipant:return"RemovedByParticipant"}c("FBLogger")("rtc_www").mustfix("Unknown dismiss reason: %s",a);return"Unknown"}function f(a){switch(a){case i.OtherInstanceHandled:case i.AnsweredOnAnotherDevice:case i.AnsweredByOtherUser:case i.RejectedOnAnotherDevice:return d("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss;default:return d("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup}}function j(a){switch(a){case d("ZenonMediaError").ZenonMediaError.IceDisconnected:return i.ConnectionDropped;case d("ZenonMediaError").ZenonMediaError.ConnectionClosed:return i.HangupCall;case d("ZenonMediaError").ZenonMediaError.IceFailure:case d("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed:case d("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed:case d("ZenonMediaError").ZenonMediaError.RollbackSdpFailed:return i.WebRTCError;case d("ZenonMediaError").ZenonMediaError.UnknownError:return i.UnexpectedEndOfCall}}function k(a){return l[a]}var l=Object.freeze((b={},b[(h=d("ZenonMWMessageTypes")).ZenonMWDismissReason.CALL_ENDED]=i.CallEnded,b[h.ZenonMWDismissReason.ANSWERED_ON_ANOTHER_DEVICE]=i.AnsweredOnAnotherDevice,b[h.ZenonMWDismissReason.ANSWERED_BY_OTHER_USER]=i.AnsweredByOtherUser,b[h.ZenonMWDismissReason.IN_ANOTHER_CALL]=i.InAnotherCall,b[h.ZenonMWDismissReason.CONNECTION_DROPPED]=i.ConnectionDropped,b[h.ZenonMWDismissReason.REJECTED_ON_ANOTHER_DEVICE]=i.RejectedOnAnotherDevice,b[h.ZenonMWDismissReason.REJECTED_BY_CALLEE]=i.RejectedByCallee,b[h.ZenonMWDismissReason.CALL_ENDED_BY_PRODUCT]=i.CallEndedByProduct,b[h.ZenonMWDismissReason.INTERNAL_ERROR]=i.SignalingMessageFailed,b[h.ZenonMWDismissReason.REMOVED_BY_PARTICIPANT]=i.RemovedByParticipant,b[h.ZenonMWDismissReason.TX_ACK_TIMEDOUT]=i.TxAckTimeout,b));g.ZenonDismissReason=i;g.endCallToDismissReason=a;g.dismissToEndCallReason=e;g.dismissReasonToCancelReason=f;g.mediaErrorToDismissReason=j;g.mwDismissToDmissReason=k}),98);
__d("ZenonIGMediaUtil",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={shouldUseSFUOnly:function(){return d("ZenonAppProvider").isInstagramApp()&&!c("gkx")("2274")}};b=a;g["default"]=b}),98);
__d("ZenonIceStatsParser",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];a=a.split("\r\n");a.forEach(function(a){g(a)&&b.push({gen:h(a),type:i(a)})});return b}function g(a){return a.indexOf("candidate:")>-1}function h(a){var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b}function i(a){a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"}f.extractIceInfo=a}),66);
__d("ZenonJoiningContext",[],(function(a,b,c,d,e,f){"use strict";b="joining_context";function a(a){var b=a.callablePostID,c=a.callingTags,d=a.callTrigger,e=a.conferenceName,f=a.groupThreadID,g=a.igThreadID,h=a.immersiveModeDoorID,i=a.linkUrl,j=a.liveBroadcastID,k=a.meetingID,l=a.peerID,m=a.rtcDoorID;a=a.serverInfoData;return{call_trigger:d,callable_post_id:b,calling_tags:c,conference_name:e,group_thread_id:f,ig_thread_id:g,immersive_mode_door_id:h,link_url:i,live_broadcast_id:j,meeting_id:k,peer_id:l,rtc_door_id:m,server_info_data:a}}f.JOINING_CONTEXT_TOPIC=b;f.convertCollisionToJoiningContext=a}),66);
__d("ZenonLoggingUtils",["ZenonAppProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("ZenonAppProvider").isHorizonApp()?!1:!0}g.shouldAllowLogging=a}),98);
__d("ZenonMWCommonUtils",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.split("\n");if(a.length<2)throw c("unrecoverableViolation")("Expected SDP string with two or more lines, but got "+a.length,"rtc_www");a=a[1].trim();a=a.split(" ");if(a.length<3)throw c("unrecoverableViolation")("Session line should have at least 3 tokens, but got "+a.length,"rtc_www");a=parseInt(a[2],10);if(isNaN(a))throw c("unrecoverableViolation")("SDP version could not be parsed as number.","rtc_www");return a}function b(a){return a.includes("BUNDLE 0")}g.getSdpVersion=a;g.isUnifiedPlan=b}),98);
__d("shouldUseSFUMediaPath",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("gkx")("25249");if(b)return!0;return d("ZenonAppProvider").isMessengerWebApp()&&a&&((b=c("gkx")("3298"))!=null?b:!1)?!0:!1}g["default"]=a}),98);
__d("ZenonMWJoinUtils",["ZenonBrowsers","ZenonIGMediaUtil","gkx","shouldUseSFUMediaPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ZenonBrowsers").isFirefox()&&a!=="answer"?!1:!c("ZenonIGMediaUtil").shouldUseSFUOnly()}function b(){return c("shouldUseSFUMediaPath")(!1)?!1:c("gkx")("25223")}g.canUseMwpp=a;g.canDeescalate=b}),98);
__d("ZenonMWMessageReliabilityLogTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RECEIVED_REQUEST","RECEIVED_RESPONSE","PROCESSING_REQUEST","START_PROCESSING_RESPONSE","PROCESSING_RESPONSE","PROCESSED_REQUEST","PROCESSED_RESPONSE","SENDING_REQUEST","SENDING_RESPONSE","SENT_REQUEST","SENT_REQUEST_FROM_HANDLER","SENT_RESPONSE","SEND_REQUEST_FAILED","SEND_REQUEST_FAILED_FROM_HANDLER","SEND_RESPONSE_FAILED","SENT_SM_EVENT","PROCESSED_SM_EVENT","REQUEST_AFTER_NULL_CHECK","REQUEST_AFTER_TRANSLATION"]);f.ZenonMWMessageReliabilityEvent=a}),66);
__d("ZenonParticipantState",["$InternalEnum","ZenonCallsModelTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({UNKNOWN:0,ADDING:1,CONTACTING:2,RINGING:3,ACCEPTING:4,PRECONNECTING:5,CONNECTING:6,CONNECTED:7,REMOVING:8,DISCONNECTED:9,NO_ANSWER:10,REJECTED:11,UNREACHABLE:12,CONNECTION_DROPPED:13,PARTICIPANT_LIMIT_REACHED:14,IN_ANOTHER_CALL:15,RING_TYPE_UNSUPPORTED:16,PENDING_APPROVAL:17,APPROVING:18,DENYING:19,APPROVED:20,FAILED_APPROVAL:21,HANGUP_IN_WAITING_ROOM:22,RECONNECTING:23});function a(a){if(a==null)return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected;switch(a){case h.CONTACTING:case h.PRECONNECTING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Contacting;case h.RINGING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Ringing;case h.CONNECTING:case h.RECONNECTING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Connecting;case h.CONNECTED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected;case h.PENDING_APPROVAL:case h.APPROVING:case h.DENYING:case h.ACCEPTING:case h.ADDING:case h.REMOVING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.PendingApproval;case h.APPROVED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Approved;case h.FAILED_APPROVAL:return d("ZenonCallsModelTypes").ZenonCallParticipantState.FailedApproval;case h.HANGUP_IN_WAITING_ROOM:case h.UNKNOWN:case h.DISCONNECTED:case h.NO_ANSWER:case h.REJECTED:case h.UNREACHABLE:case h.CONNECTION_DROPPED:case h.PARTICIPANT_LIMIT_REACHED:case h.IN_ANOTHER_CALL:case h.RING_TYPE_UNSUPPORTED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}g.ZenonParticipantState=h;g.toCallParticipantState=a}),98);
__d("ZenonScreenShare",["UserAgent","ZenonAppProvider","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.length===1&&((a=a[0])==null?void 0:a.contentType)==="screen"}function h(){return!c("UserAgent").isBrowser("Safari")}function i(){return d("ZenonAppProvider").isOculusCastingSite()&&c("justknobx")._("1977")?!1:!0}function b(){return!h()||!i()}g.isScreenSharingTrack=a;g.screenShareWithReplaceTrack=b}),98);
__d("ZenonSignalingTypes",[],(function(a,b,c,d,e,f){"use strict";a={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1,METHOD_NOT_ALLOWED:2};b={CLIENT_TERMINATED:0};f.ZenonSignalingStatusCode=a;f.ZenonSignalingStatusSubCode=b}),66);
__d("ZenonStateSyncPayloadSerializer",["RequestStreamBodyUtils","ZenonAppProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ZenonAppProvider").isInstagramApp()?d("RequestStreamBodyUtils").stringToUint8Array(a):d("RequestStreamBodyUtils").base64ToUint8Array(a)}g.stateSyncStringToUint8Array=a}),98);
__d("addDevTierOverridesToHeaderExtensions",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={multiwayCoreTier:"",multiwayWwwTier:""};if(!c("gkx")("25224"))return b;b.multiwayWwwTier=h(a,"multiway_www_tier");b.multiwayCoreTier=h(a,"multiway_core_tier");return b}function h(a,b){b=b+"=";a=a.split(b);return a[1]?a.pop().split("&").shift():""}g["default"]=a}),98);
__d("ZenonMWTranslatorUtils",["ChannelClientID","CurrentUser","IGDWebUtils","OverlayConfigServerLayer","RequestStreamBodyUtils","RpWebMqttEnabledAppIds","ZenonDismissReason","ZenonMWMessageTypes","ZenonParticipantState","ZenonScreenShare","ZenonSignalingProtocol","ZenonSignalingTypes","ZenonStateSyncPayloadSerializer","addDevTierOverridesToHeaderExtensions","err","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k="signalingDominantSpeakerUpdate",l="signalingVideoUploadUpdate",m="E2eeState",n=new Set(c("RpWebMqttEnabledAppIds").APP_IDS);function a(a,b,e,f){e===void 0&&(e=!1),a&&Object.keys(a).forEach(function(g){if(g===m&&f&&c("justknobx")._("1893"))return;var h=a[g],i=h.data;h=h.version;if(i!=null){i={data:d("ZenonStateSyncPayloadSerializer").stateSyncStringToUint8Array(i),eventName:"stateSyncNotifyRequest",responseRequired:e,topic:g,version:h};b.push(i)}})}function b(a){var b;if(a){a=a[m];(a==null?void 0:a.data)!=null&&(b=d("ZenonStateSyncPayloadSerializer").stateSyncStringToUint8Array(a.data));return b}}function e(a,b,d){var e={appId:t(),deviceId:c("ChannelClientID").getID(),userId:b.userInfo.userID};b=z(b,a);return{endpoint:e,jsonPayload:{body:d,header:b}}}function f(a,b,d,e,f){var g={appId:t(),deviceId:c("ChannelClientID").getID(),userId:b.userInfo.userID};b=A(b,a,e,f);return{endpoint:g,jsonPayload:{body:d,header:b}}}function o(a){a=d("ZenonDismissReason").mwDismissToDmissReason(a);return(a=a)!=null?a:d("ZenonDismissReason").ZenonDismissReason.CallEnded}function p(a){a=N[a];return(a=a)!=null?a:d("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNKNOWN}function q(a){var b=null;a!=null&&a.forEach(function(a){a=(a=a.body)==null?void 0:a.genericMessage;if(a!=null&&a.topic==="collision_context_payload"){a=a.data;if(a!=null){var c;a=JSON.parse(a);b={groupThreadID:(c=a.group_thread_id)!=null?c:null,peerID:(c=a.peer_id)!=null?c:null,serverInfoData:(c=a.server_info_data)!=null?c:null}}}});return b}function r(a){a=(a=a.message.body)!=null?a:{};var b=a.dominantSpeakerSignalingInfo,c=a.genericMessage;a=a.videoUploadSignalingInfo;if(c)try{return atob(c.data)}catch(a){return c.data}else if(b)return JSON.stringify(b);else if(a)return JSON.stringify(a);return null}function s(a){a=(a=a.message.body)!=null?a:{};var b=a.dominantSpeakerSignalingInfo,c=a.genericMessage;a=a.videoUploadSignalingInfo;if(c)return c.topic;else if(b)return k;else if(a)return l;return null}function t(){var a=c("CurrentUser").getAppID();if(a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a)))return a;a=(a=a)!=null?a:219994525426954..toString();return n.has(Number(a))?a:219994525426954..toString()}function u(a){a=a&&a.length>0?a.find(function(a){return((a=a.body)==null?void 0:(a=a.genericMessage)==null?void 0:a.topic)==="room_metadata"}):null;if(a){var b;b=(b=a.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;if(b!=null){b=JSON.parse(b);a=(a=a.header)==null?void 0:a.sender;if(b.link_hash!=null&&b.room_name!=null&&a!=null)return{linkHash:b.link_hash,profileURL:b.profile_url,ringSubtitle:b.ring_subtitle,roomName:b.room_name,sender:a}}}return null}function v(a,b){b=c("OverlayConfigServerLayer").createFromHeader(b);if(b){b={eventName:"overlayConfigServerUpdateRequest",serverLayer:b};a.push(b)}}function w(a){return a.reduce(function(a,b){var c;c=(c=b.body)==null?void 0:(c=c.genericMessage)==null?void 0:c.topic;b=(b=b.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;c!=null&&b!=null&&(a[c]=b);return a},{})}function x(a){var b=a.clientSessionId,d=a.conferenceName,e=a.receiver,f=a.receiverUserId,g=a.sequenceNumber,h=a.serverInfoData,i=a.transactionId;if(f==null)throw c("err")("Incoming MW messages should have receiverUserId populated.");b=b;var j={userID:"2"};e={actorID:(e=e==null?void 0:e.actorId)!=null?e:null,messageID:i,messageTags:(e=a.messageTags)!=null?e:[],protocol:c("ZenonSignalingProtocol").MW,remoteInfo:j,retryCount:a.retryCount,roomInfo:{name:d},sequenceNumber:g,signalingID:b,userInfo:{userID:(i=f)!=null?i:"1"}};h!=null&&(e.remoteSignalingID=h);return e}function y(a,b){return Object.keys(a).map(function(c){var d=a[c];return{body:{genericMessage:{data:d,topic:c}},header:{recipients:b,topic_DEPRECATED:c}}})}function z(a,b){var e=a.messageID,f=a.messageTags,g=a.remoteSignalingID,h=a.roomInfo,i=a.signalingID,j=c("addDevTierOverridesToHeaderExtensions")(window.location.href);h={clientStack:d("ZenonMWMessageTypes").ZenonMWClientStack.ZENON,conferenceName:h.name,messageTags:f,retryCount:a.retryCount,sequenceNumber:a.sequenceNumber,transactionId:e,type:b};(j.multiwayCoreTier!==""||j.multiwayWwwTier!=="")&&(h.extensions=j);i!=null&&(h.clientSessionId=i);g!=null&&(h.serverInfoData=g);a.actorID!=null&&(h.sender={id:a.actorID});return h}function A(a,b,c,e){a=z(a,b);a.responseStatusCode=(b=c)!=null?b:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK;e!=null&&(a.responseSubCode=e);return a}function B(a){var b={tracks:{}},c=!d("ZenonScreenShare").screenShareWithReplaceTrack();a.tracks.forEach(function(a){var d={enabled:a.enabled,name:a.name,owner:a.participantID},e=c?K(a.type):null;e!=null&&(d.label=e);b.tracks[a.trackID]=d});return b}function C(a){if(a==null)return null;switch(a){case d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO:return"audio";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO:return"video";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_AUDIO:return"screen_audio";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO:return"screen"}}function D(a){a=M[a];return(a=a)!=null?a:d("ZenonMWMessageTypes").ZenonMWDeviceStatus.OK}function E(a){switch(a){case d("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.IGNORE_CALL;case d("ZenonDismissReason").ZenonDismissReason.HangupCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL;case d("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return d("ZenonMWMessageTypes").ZenonMWHangupReason.NO_ANSWER_TIMEOUT;case d("ZenonDismissReason").ZenonDismissReason.ClientError:return d("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_ERROR;case d("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.IN_ANOTHER_CALL;case d("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return d("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_INTERRUPTED;case d("ZenonDismissReason").ZenonDismissReason.SessionMigrated:return d("ZenonMWMessageTypes").ZenonMWHangupReason.SESSION_MIGRATED;default:return d("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL}}function F(a){var b={};a.tracks.forEach(function(a){b[a.trackID]=a.enabled});return b}function G(a){var b={},c=!d("ZenonScreenShare").screenShareWithReplaceTrack();a.tracks.forEach(function(a){var d={enabled:a.enabled},e=c?K(a.type):null;e!=null&&(d.label=e);b[a.trackID]=d});return{tracks:b}}function H(a){return O[a]}function I(a){return a==null?null:P[a]}function J(a){var b={};a.forEach(function(a,c){b[c]={data:a.data?d("RequestStreamBodyUtils").uint8ArrayToBase64(a.data):void 0,version:a.version}});return b}function K(a){switch(a){case"audio":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO;case"video":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO;case"screen":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO;case"screen_audio":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_AUDIO;default:return null}}function L(a,b,c){c===void 0&&(c=0);var d={fromVersion:b,tracks:[],version:c};a!=null&&Object.keys(a.tracks).forEach(function(b){var c=a.tracks[b];b={enabled:c.enabled,name:c.name,participantID:c.owner,trackID:b,type:C(c.label)};d.tracks.push(b)});return d}var M={IN_ANOTHER_CALL:(i=d("ZenonMWMessageTypes")).ZenonMWDeviceStatus.IN_ANOTHER_CALL,NOT_SUPPORTED:i.ZenonMWDeviceStatus.NOT_SUPPORTED,OK:i.ZenonMWDeviceStatus.OK},N=Object.freeze((h={},h[i.ZenonMWParticipantCallState.UNKNOWN]=(j=d("ZenonParticipantState")).ZenonParticipantState.UNKNOWN,h[i.ZenonMWParticipantCallState.DISCONNECTED]=j.ZenonParticipantState.DISCONNECTED,h[i.ZenonMWParticipantCallState.NO_ANSWER]=j.ZenonParticipantState.NO_ANSWER,h[i.ZenonMWParticipantCallState.REJECTED]=j.ZenonParticipantState.REJECTED,h[i.ZenonMWParticipantCallState.UNREACHABLE]=j.ZenonParticipantState.UNREACHABLE,h[i.ZenonMWParticipantCallState.CONNECTION_DROPPED]=j.ZenonParticipantState.CONNECTION_DROPPED,h[i.ZenonMWParticipantCallState.CONTACTING]=j.ZenonParticipantState.CONTACTING,h[i.ZenonMWParticipantCallState.RINGING]=j.ZenonParticipantState.RINGING,h[i.ZenonMWParticipantCallState.CONNECTING]=j.ZenonParticipantState.CONNECTING,h[i.ZenonMWParticipantCallState.CONNECTED]=j.ZenonParticipantState.CONNECTED,h[i.ZenonMWParticipantCallState.PARTICIPANT_LIMIT_REACHED]=j.ZenonParticipantState.PARTICIPANT_LIMIT_REACHED,h[i.ZenonMWParticipantCallState.IN_ANOTHER_CALL]=j.ZenonParticipantState.IN_ANOTHER_CALL,h[i.ZenonMWParticipantCallState.RING_TYPE_UNSUPPORTED]=j.ZenonParticipantState.RING_TYPE_UNSUPPORTED,h[i.ZenonMWParticipantCallState.PENDING_APPROVAL]=j.ZenonParticipantState.PENDING_APPROVAL,h[i.ZenonMWParticipantCallState.APPROVED]=j.ZenonParticipantState.APPROVED,h[i.ZenonMWParticipantCallState.FAILED_APPROVAL]=j.ZenonParticipantState.FAILED_APPROVAL,h[i.ZenonMWParticipantCallState.UNCALLABLE]=j.ZenonParticipantState.UNREACHABLE,h[i.ZenonMWParticipantCallState.HANGUP_IN_WAITING_ROOM]=j.ZenonParticipantState.HANGUP_IN_WAITING_ROOM,h)),O=Object.freeze((j={},j[(h=d("ZenonSignalingTypes")).ZenonSignalingStatusCode.OK]=i.ZenonMWResponseStatusCode.OK,j[h.ZenonSignalingStatusCode.REJECTED_FROM_VERSION_DOES_NOT_MATCH]=i.ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED,j[h.ZenonSignalingStatusCode.METHOD_NOT_ALLOWED]=i.ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED,j)),P=Object.freeze((j={},j[h.ZenonSignalingStatusSubCode.CLIENT_TERMINATED]=i.ZenonMWResponseSubCode.CLIENT_TERMINATED,j));g.E2EE_STATE_SYNC_TOPIC=m;g.addStateStoreSignalingEvents=a;g.fetchE2eeServerState=b;g.createMWRequest=e;g.createMWResponse=f;g.fromMWDismissReason=o;g.fromMWParticipantState=p;g.getCollisionContextFromAppMessages=q;g.getGenericDataMessageData=r;g.getGenericDataMessageTopic=s;g.getMWAppID=t;g.getRoomMetadataFromAppMessages=u;g.maybeAddOverlayConfigServerUpdateRequest=v;g.mwAppMessagesToSignalingAppMessages=w;g.mwMessageHeaderToSignalingMessageHeader=x;g.signalingMessageAppMessagesToMWAppMessages=y;g.toMWClientMediaStatus=B;g.toMWClientTrackContentType=C;g.toMWDeviceStatus=D;g.toMWHangupReason=E;g.toMWMediaStatus=F;g.toMWMediaStatusEx=G;g.toMWResponseStatusCode=H;g.toMWResponseStatusSubCode=I;g.toMWSyncStateStore=J;g.toMWTrackLabel=K;g.toZenonMediaStates=L}),98);
__d("ZenonMqttChannel",["CurrentUser","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);a=c("CurrentUser").getAppID()!=null?Number(c("CurrentUser").getAppID()):c("MqttWebConfig").appID;b=new(c("MqttChannel"))({appId:a,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!1,clientCapabilities:c("MqttWebConfig").clientCapabilities,endpoint:c("MqttWebConfig").endpoint,initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:c("MqttWebConfig").pollingEndpoint,userFbid:c("MqttWebConfig").fbid});e=b;g["default"]=e}),98);
__d("ZenonSignalingMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();f["default"]=a}),66);
__d("getZenonMqttChannel",["CurrentUser","FBMqttChannel","HorizonWebMqttChannel","IGDOverLSMqttChannel","OculusMqttChannel","RpWebMqttEnabledAppIds","ZenonAppProvider","ZenonMqttChannel"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(c("RpWebMqttEnabledAppIds").APP_IDS);function a(){if(d("ZenonAppProvider").isInstagramApp())return d("IGDOverLSMqttChannel").getInstance();else if(d("ZenonAppProvider").isOculusCastingSite())return d("OculusMqttChannel").getOculusMqttChannelInstance();else if(d("ZenonAppProvider").isHorizonApp())return d("HorizonWebMqttChannel").getHorizonWebMqttChannelInstance();else return h.has(Number(c("CurrentUser").getAppID()))?c("ZenonMqttChannel"):c("FBMqttChannel")}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArbiterMixin",["Arbiter","guid"],(function(a,b,c,d,e,f,g){var h="arbiter$"+c("guid")(),i=Object.prototype.hasOwnProperty;a={_getArbiterInstance:function(){return i.call(this,h)?this[h]:this[h]=new(c("Arbiter"))()},inform:function(a,b,c){return this._getArbiterInstance().inform(a,b,c)},subscribe:function(a,b,c){return this._getArbiterInstance().subscribe(a,b,c)},subscribeOnce:function(a,b,c){return this._getArbiterInstance().subscribeOnce(a,b,c)},unsubscribe:function(a){this._getArbiterInstance().unsubscribe(a)},unsubscribeCurrentSubscription:function(){this._getArbiterInstance().unsubscribeCurrentSubscription()},releaseCurrentPersistentEvent:function(){this._getArbiterInstance().releaseCurrentPersistentEvent()},registerCallback:function(a,b){return this._getArbiterInstance().registerCallback(a,b)},query:function(a){return this._getArbiterInstance().query(a)}};b=a;g["default"]=b}),98);
__d("AsyncDOM",["CSS","DOM","FBLogger"],(function(a,b,c,d,e,f){a={invoke:function(a,c){for(var d=0;d<a.length;++d){var e=a[d],f=e[0],g=e[1],h=e[2];e=e[3];h=h&&c||null;g&&(h=b("DOM").scry(h||document.documentElement,g)[0]);h||b("FBLogger")("async_dom").warn("Could not find relativeTo element for %s AsyncDOM operation based on selector: %s",f,g);switch(f){case"hide":b("CSS").hide(h);break;case"show":b("CSS").show(h);break;case"setContent":b("DOM").setContent(h,e);break;case"appendContent":b("DOM").appendContent(h,e);break;case"prependContent":b("DOM").prependContent(h,e);break;case"insertAfter":b("DOM").insertAfter(h,e);break;case"insertBefore":b("DOM").insertBefore(h,e);break;case"remove":b("DOM").remove(h);break;case"replace":b("DOM").replace(h,e);break;default:b("FBLogger")("async_dom").warn("Received invalid command %s for AsyncDOM operation",f)}}}};e.exports=a}),null);
__d("AsyncResponse",["invariant","Bootloader","FBLogger","HTML","WebDriverConfig"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b){this.error=0,this.errorSummary=null,this.errorDescription=null,this.onload=null,this.replay=!1,this.payload=b,this.request=a,this.silentError=!1,this.transientError=!1,this.blockedAction=!1,this.is_last=!0,this.responseHeaders=null}var b=a.prototype;b.getRequest=function(){return this.request};b.getPayload=function(){return this.payload};b.toError=function(){this.error!==0||h(0,5599);var a=this.errorSummary||"",b=this.getErrorDescriptionString()||"",c=new Error(a.toString()+": "+b);Object.assign(c,{code:this.error,description:this.errorDescription||"",descriptionString:b,response:this,summary:a,isSilent:this.silentError,isTransient:this.transientError});return c};b.getError=function(){return this.error};b.getErrorSummary=function(){return this.errorSummary};b.setErrorSummary=function(a){a=a===void 0?null:a;this.errorSummary=a;return this};b.getErrorDescription=function(){return this.errorDescription};b.getErrorDescriptionString=function(){var a=this.getErrorDescription();if(a==null)return null;if(c("HTML").isHTML(a)){var b=new(c("HTML"))(a);return b.getRootNode().textContent}return a.toString()};b.getErrorIsWarning=function(){return!!this.errorIsWarning};b.isSilent=function(){return!!this.silentError};b.isTransient=function(){return!!this.transientError};b.isBlockedAction=function(){return!!this.blockedAction};b.getResponseHeader=function(a){var b=this.responseHeaders;if(!b)return null;b=b.replace(/^\n/,"");a=a.toLowerCase();b=b.split("\r\n");for(var c=0;c<b.length;++c){var d=b[c],e=d.indexOf(": ");if(e<=0)continue;var f=d.substring(0,e).toLowerCase();if(f===a)return d.substring(e+2)}return null};a.defaultErrorHandler=function(b){try{!b.silentError?a.verboseErrorHandler(b):c("FBLogger")("async_response").catching(b.toError()).warn("default error handler called")}catch(a){alert(b)}};a.verboseErrorHandler=function(a,b){c("Bootloader").loadModules(["ExceptionDialog"],function(c){return c.showAsyncError(a,b)},"AsyncResponse")};return a}();g["default"]=a}),98);
__d("FetchStreamConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({delim:"/*<!-- fetch-stream -->*/"});f["default"]=a}),66);
__d("StreamBlockReader",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){var c=this;if(!a.getReader)throw new Error("No getReader method found on given object");this.$3=a.getReader();this.$1="";this.$2=null;this.$4=!1;this.$5="utf-8";this.$6="";this.$9=!1;this.$8=function(){return(g||(g=b("Promise"))).reject("Sorry, you are somehow using this too early.")};this.$7=new(g||(g=b("Promise")))(function(a,b){c.$8=a})}var c=a.prototype;c.changeEncoding=function(a){if(this.$2)throw new Error("Decoder already in use, encoding cannot be changed");this.$5=a};c.$10=function(){if(!self.TextDecoder)throw new Error("TextDecoder is not supported here");this.$2||(this.$2=new self.TextDecoder(this.$5));return this.$2};c.$11=function(){if(this.$9)throw new Error("Something else is already reading from this reader");this.$9=!0};c.$12=function(){this.$9=!1};c.isDone=function(){return this.$4};c.$13=function(){var a,c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!(this.$6!=="")){f.next=4;break}a=this.$6;this.$6="";return f.abrupt("return",a);case 4:if(!this.isDone()){f.next=6;break}throw new Error("You cannot read from a stream that is done");case 6:f.next=8;return b("regeneratorRuntime").awrap(this.$3.read());case 8:c=f.sent;d=c.done;e=c.value;this.$4=d;d&&this.$8();return f.abrupt("return",e?this.$10().decode(e,{stream:!d}):"");case 14:case"end":return f.stop()}},null,this)};c.readNextBlock=function(){var a;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:this.$11();a=this.$13();this.$12();return b.abrupt("return",a);case 4:case"end":return b.stop()}},null,this)};c.readUntilStringOrEnd=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.readUntilOneOfStringOrEnd_DO_NOT_USE([a]));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)};c.readUntilStringOrThrow=function(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(a){f.next=2;break}throw new Error("cannot read empty string");case 2:this.$11(),c="",d=0;case 5:if(this.isDone()){f.next=23;break}f.t0=c;f.next=9;return b("regeneratorRuntime").awrap(this.$13());case 9:c=f.t0+=f.sent;if(!(c.length<a.length)){f.next=12;break}return f.abrupt("continue",5);case 12:e=c.substring(d).indexOf(a);if(!(e!==-1)){f.next=20;break}e+=d;this.$6=c.substring(e+a.length);this.$12();return f.abrupt("return",c.substring(0,e));case 20:d=c.length-a.length+1;case 21:f.next=5;break;case 23:this.$6=c;this.$12();throw new Error("Breakpoint not found");case 26:case"end":return f.stop()}},null,this)};c.readUntilOneOfStringOrEnd_DO_NOT_USE=function(a){var c,d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$11(),c="";case 2:if(this.isDone()){g.next=20;break}g.t0=c;g.next=6;return b("regeneratorRuntime").awrap(this.$13());case 6:c=g.t0+=g.sent,d=0;case 8:if(!(d<a.length)){g.next=18;break}e=a[d];f=c.indexOf(e);if(!(f!==-1)){g.next=15;break}this.$6=c.substring(f+e.length);this.$12();return g.abrupt("return",c.substring(0,f));case 15:d++;g.next=8;break;case 18:g.next=2;break;case 20:this.$12();return g.abrupt("return",c);case 22:case"end":return g.stop()}},null,this)};c.waitUntilDone=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",this.$7);case 1:case"end":return a.stop()}},null,this)};return a}();f["default"]=a}),66);
__d("mixin",[],(function(a,b,c,d,e,f){function a(){var a=function(){},b=0,c;while(b<0||arguments.length<=b?void 0:arguments[b]){c=b<0||arguments.length<=b?void 0:arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a.prototype[d]=c[d]);b+=1}return a}f["default"]=a}),66);
__d("FetchStreamTransport",["ArbiterMixin","FetchStreamConfig","StreamBlockReader","TimeSlice","URI","asyncToGeneratorRuntime","mixin","nullthrows"],(function(a,b,c,d,e,f,g){var h,i=0;a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){var c;if(!self.ReadableStream||!self.fetch||!Request||!TextDecoder)throw new Error("fetch stream transport is not supported here");c=a.call(this)||this;c.$FetchStreamTransport$p_6=null;c.$FetchStreamTransport$p_1=b;c.$FetchStreamTransport$p_3=!1;c.$FetchStreamTransport$p_4=!1;c.$FetchStreamTransport$p_5=!1;c.$FetchStreamTransport$p_2=++i;return babelHelpers.assertThisInitialized(c)||babelHelpers.assertThisInitialized(c)}var e=d.prototype;e.hasFinished=function(){return this.$FetchStreamTransport$p_5};e.getRequestURI=function(){return new(h||(h=c("URI")))(this.$FetchStreamTransport$p_1).addQueryData({__a:1,__adt:this.$FetchStreamTransport$p_2,__req:"fetchstream_"+this.$FetchStreamTransport$p_2,ajaxpipe_fetch_stream:1})};e.send=function(){if(this.$FetchStreamTransport$p_3)throw new Error("FetchStreamTransport instances cannot be re-used.");this.$FetchStreamTransport$p_3=!0;var a=new Request(this.getRequestURI().toString(),{mode:"same-origin",credentials:"include"});this.$FetchStreamTransport$p_6=c("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on first response");a=self.fetch(a,{redirect:"follow"});this.$FetchStreamTransport$p_7(a)};e.$FetchStreamTransport$p_7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,d;try{d=(yield a)}catch(a){this.abort()}if(!d||!d.body||!d.ok){this.abort();return}var e=new(c("StreamBlockReader"))(d.body);a=function*(){var a=(yield e.readUntilStringOrEnd(c("FetchStreamConfig").delim));if(b.$FetchStreamTransport$p_4)return"break";c("nullthrows")(b.$FetchStreamTransport$p_6)(function(){var d=JSON.parse(a);e.isDone()||d.finished?b.$FetchStreamTransport$p_5=!0:b.$FetchStreamTransport$p_6=c("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on next response");b.inform("response",d.content)})};while(!this.$FetchStreamTransport$p_5&&!this.$FetchStreamTransport$p_4){var f=(yield* a());if(f==="break")break}});function d(b){return a.apply(this,arguments)}return d}();e.abort=function(){var a=this;if(this.$FetchStreamTransport$p_4||this.$FetchStreamTransport$p_5)return;this.$FetchStreamTransport$p_4=!0;this.$FetchStreamTransport$p_5=!0;if(this.$FetchStreamTransport$p_6){var b=this.$FetchStreamTransport$p_6;b(function(){a.inform("abort")})}else this.inform("abort")};return d}(c("mixin")(c("ArbiterMixin")));g["default"]=a}),98);
__d("HTTPErrors",["emptyFunction"],(function(a,b,c,d,e,f,g){function a(a){return{summary:"HTTP Error",description:"Unknown HTTP error #"+a}}b={get:a,getAll:c("emptyFunction").thatReturns(new Map())};d=b;g["default"]=d}),98);
__d("SessionName",["SessionNameConfig"],(function(a,b,c,d,e,f){e.exports={getName:function(){return b("SessionNameConfig").seed}}}),null);
__d("bind",[],(function(a,b,c,d,e,f){function a(a,b){var c=Array.prototype.slice.call(arguments,2);if(typeof b!=="string")return Function.prototype.bind.apply(b,[a].concat(c));function d(){var d=c.concat(Array.prototype.slice.call(arguments));if(a[b])return a[b].apply(a,d)}d.toString=function(){return"bound lazily: "+a[b]};return d}e.exports=a}),null);
__d("executeAfter",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(){a.apply(c||this,arguments),b.apply(c||this,arguments)}}e.exports=a}),null);
__d("goURI",["cr:8906"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8906")}),98);
__d("isArDotMetaDotComURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)ar\\.meta\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a}),66);
__d("isSparkDotMetaDotComURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)spark\\.meta\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a}),66);
__d("AsyncRequest",["errorCode","fbt","invariant","Arbiter","AsyncDOM","AsyncRequestConfig","AsyncResponse","Bootloader","CSS","DTSG","DTSG_ASYNC","Deferred","Env","ErrorGuard","Event","FBLogger","FetchStreamTransport","HTTPErrors","HasteResponse","PHPQuerySerializer","Parent","Promise","ResourceTimingsStore","ResourceTypes","Run","ScriptPath","ServerJS","SessionName","TimeSlice","URI","UserAgent_DEPRECATED","ZeroRewrites","bind","clearTimeout","emptyFunction","executeAfter","fb-error","ge","getAsyncHeaders","getAsyncParams","gkx","goURI","isArDotMetaDotComURI","isBulletinDotComURI","isEmpty","isFacebookURI","isHorizonDotMetaDotComURI","isInternalFBURI","isMessengerDotComURI","isSparkDotMetaDotComURI","isWorkDotMetaDotComURI","isWorkplaceDotComURI","isWorkroomsDotComURI","performanceAbsoluteNow","promiseDone","replaceTransportMarkers","setTimeout","setTimeoutAcrossTransitions","unrecoverableViolation","uriIsRelativePath"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l,m,n,o,p,q;e=19e3;f=500;var r=1006,s=1004,t=1010,u=new Set([f,t,s,r]),v=!1;d("Run").onAfterUnload(function(){v=!0});function w(){return v}function x(a){return"onprogress"in a}function y(a){return"upload"in a&&"onprogress"in a.upload}function z(a){return"withCredentials"in a}function A(a){return a.status in{0:1,12029:1,12030:1,12031:1,12152:1}}function B(a){a=!a||typeof a==="function";a||c("FBLogger")("asyncresponse").mustfix("AsyncRequest response handlers must be functions. Pass a function, or use bind() to build one.");return a}var C=2,D=C,E=!1;c("Arbiter").subscribe("page_transition",function(a,b){!E?D=b.id:E=!1});var F="for (;;);",G=F.length,H=function(){function a(b){var e=this,f;this._allowIrrelevantRequests=!1;this._delayPreDisplayJS=!1;this._shouldReplaceTransportMarkers=!1;this._dispatchErrorResponse=function(a,b){var d=a.getError();e.clearStatusIndicator();if(!e._isRelevant()||d===t){e.abort();return}if(e._isServerDialogErrorCode(d)){var f=d==1357008||d==1357007;e.interceptHandler(a);d==1357041?e._solveQuicksandChallenge(a):d==1357007?e._displayServerDialog(a,f,!0):e._displayServerDialog(a,f)}else if(e.initialHandler(a)!==!1){c("clearTimeout")(e.timer);try{b(a)}catch(b){e.finallyHandler(a);throw b}e.finallyHandler(a)}};this._onStateChange=function(){var b=e.transport;if(!b)return;try{a._inflightCount--;d("ResourceTimingsStore").measureResponseReceived(c("ResourceTypes").XHR,e.resourceTimingStoreUID);try{b.getResponseHeader("X-FB-Debug")&&(e._xFbServer=b.getResponseHeader("X-FB-Debug"),c("fb-error").ErrorXFBDebug.add(e._xFbServer))}catch(a){}if(b.status>=200&&b.status<300)a.lastSuccessTime=Date.now(),e._handleXHRResponse(b);else if(d("UserAgent_DEPRECATED").webkit()&&typeof b.status==="undefined")e._invokeErrorHandler(1002);else if(c("AsyncRequestConfig").retryOnNetworkError&&A(b)&&e.remainingRetries>0&&!e._requestTimeout){e.remainingRetries--;delete e.transport;e.send(!0);return}else e._invokeErrorHandler();e.getOption("asynchronous_DEPRECATED")!==!1&&delete e.transport}catch(a){if(w())return;delete e.transport;e.remainingRetries>0?(e.remainingRetries--,e.send(!0)):(e.getOption("suppressErrorAlerts")||c("FBLogger")("AsyncRequest").catching(a).mustfix("AsyncRequest exception when attempting to handle a state change"),e._invokeErrorHandler(1007))}};this._handleTimeout=function(){e.continuation.last(function(){e._requestTimeout=!0;var a=e.timeoutHandler;e.abandon();a&&a(e);c("setTimeout")(function(){c("Arbiter").inform("AsyncRequest/timeout",{request:e})},0)})};this.continuation=c("TimeSlice").getPlaceholderReusableContinuation();this.transport=null;this.method="POST";this.uri="";this.timeout=null;this.timer=null;this.initialHandler=f=c("emptyFunction");this.handler=null;this.uploadProgressHandler=null;this.errorHandler=c("AsyncResponse").defaultErrorHandler;this.transportErrorHandler=null;this.timeoutHandler=null;this.interceptHandler=f;this.finallyHandler=f;this.abortHandler=f;this.serverDialogCancelHandler=null;this.relativeTo=null;this.statusElement=null;this.statusClass="";this.data={};this.headers={};this.file=null;this.context={};this.readOnly=!1;this.writeRequiredParams=[];this.remainingRetries=0;this.userActionID="-";this.resourceTimingStoreUID=d("ResourceTimingsStore").getUID(c("ResourceTypes").XHR,b!=null?b.toString():"");this.flushedResponseTextParseIndex=0;this.option={asynchronous_DEPRECATED:!0,suppressErrorHandlerWarning:!1,suppressEvaluation:!1,suppressErrorAlerts:!1,retries:0,bundle:!1,handleErrorAfterUnload:!1,useFetchTransport:!1};this.transportErrorHandler=c("bind")(this,"errorHandler");b!==void 0&&this.setURI(b);this.setAllowCrossPageTransition(c("AsyncRequestConfig").asyncRequestsSurviveTransitionsDefault||!1)}var e=a.prototype;e._dispatchResponse=function(a){this.clearStatusIndicator();if(!this._isRelevant()){this._invokeErrorHandler(t);return}if(this.initialHandler(a)===!1)return;c("clearTimeout")(this.timer);var b,d=this.getHandler();if(d)try{b=this._shouldSuppressJS(d(a))}catch(b){a.is_last&&this.finallyHandler(a);throw b}b||this._handleJSResponse(a);a.is_last&&this.finallyHandler(a)};e._shouldSuppressJS=function(b){return b===a.suppressOnloadToken};e._handlePreDisplayServerJS=function(a,b){var d=!1,e=[],f=function(){if(d){c("FBLogger")("AsyncResponse").warn("registerToBlockDisplayUntilDone_DONOTUSE called after AsyncResponse display started. This is a no-op.");return function(){}}var a,b=new(c("Deferred"))();e.push(b.getPromise());return c("TimeSlice").guard(function(){a&&c("clearTimeout")(a),b.resolve()},"AsyncRequestDisplayBlockingEvent",{propagationType:c("TimeSlice").PropagationType.EXECUTION})};a.handle(b,{bigPipeContext:{registerToBlockDisplayUntilDone_DONOTUSE:f}});d=!0;return e};e._hasEvalDomOp=function(a){return a&&a.length?a.some(function(a){return a[0]==="eval"}):!1};e._handleJSResponse=function(a){var b=this.getRelativeTo(),e=a.domops,f=a.dtsgToken,g=a.dtsgAsyncGetToken,h=a.jsmods,i=a.savedServerJSInstance;i&&i instanceof c("ServerJS")?i=i:i=new(c("ServerJS"))();i.setRelativeTo(b);if(h){var j={define:h.define,instances:h.instances,markup:h.markup};delete h.define;delete h.instances;delete h.markup;this._hasEvalDomOp(e)&&(j.elements=h.elements,delete h.elements);i.handle(j)}j=new(m||(m=c("URI")))(this.uri);(!j.getDomain()&&!j.getProtocol()||document.location.origin===j.getOrigin())&&(f&&d("DTSG").setToken(f),g&&d("DTSG_ASYNC").setToken(g));e&&(q||(q=c("ErrorGuard"))).applyWithGuard(function(){return d("AsyncDOM").invoke(e,b)},null,[],{errorType:"warn"});h&&i.handle(h);this._handleJSRegisters(a,"onload");this._handleJSRegisters(a,"onafterload")};e._handleJSRegisters=function(a,b){a=a[b];if(a)for(b=0;b<a.length;b++){var d=null,e=a[b],f=e.match(/^\"caller:([^\"]+?)\";(.*)/);f!=null&&(d=f[1],e=f[2]);(q||(q=c("ErrorGuard"))).applyWithGuard(new Function(e),this,[]);c("FBLogger")("comet_infra").info("Detected dynamic new Function(...) call in AsyncRequest._handleJSRegisters(...).",new(m||(m=c("URI")))(this.uri).getPath(),d)}};e.invokeResponseHandler=function(a){var e=this;if(typeof a.redirect!=="undefined"){c("setTimeout")(function(){e.setURI(a.redirect,!0).send()},0);return}if(a.bootloadOnly!==void 0){var f=typeof a.bootloadOnly==="string"?JSON.parse(a.bootloadOnly):a.bootloadOnly,g=function(a){c("TimeSlice").guard(function(){c("Bootloader").loadPredictedResourceMap(a)},"Bootloader.loadPredictedResourceMap",{root:!0})()};for(f of f)g(f);return}if(!this.handler&&!this.errorHandler&&!this.transportErrorHandler&&!this.preBootloadHandler&&this.initialHandler===c("emptyFunction")&&this.finallyHandler===c("emptyFunction"))return;var h=a.asyncResponse;if(typeof h!=="undefined"){if(!this._isRelevant()){this._invokeErrorHandler(t);return}h.updateScriptPath&&c("ScriptPath").set(h.updateScriptPath.path,h.updateScriptPath.token,h.updateScriptPath.extra_info);h.lid&&(this._responseTime=Date.now(),this.lid=h.lid);d("HasteResponse").handleSRPayload((g=h.hsrp)!=null?g:{});var i,j;if(h.getError()&&!h.getErrorIsWarning()){f=this.getErrorHandler().bind(this);i=(q||(q=c("ErrorGuard"))).guard(this._dispatchErrorResponse,{name:"AsyncRequest#_dispatchErrorResponse for "+this.getURI()});i=i.bind(this,h,f);j="error"}else{i=(q||(q=c("ErrorGuard"))).guard(this._dispatchResponse.bind(this),{name:"AsyncRequest#_dispatchResponse for "+this.getURI()});i=i.bind(this,h);j="response";g=h.domops;if(!this._delayPreDisplayJS&&h.jsmods&&h.jsmods.pre_display_requires&&!this._hasEvalDomOp(g)){f=h.jsmods;g={define:f.define,instances:f.instances,markup:f.markup};delete f.define;delete f.instances;delete f.markup;g.pre_display_requires=f.pre_display_requires;delete f.pre_display_requires;f=new(c("ServerJS"))();f.setRelativeTo(this.getRelativeTo());h.savedServerJSInstance=f;var k=this._handlePreDisplayServerJS(f,g);if(k&&k.length){var m=i;i=function(){c("promiseDone")((l||(l=b("Promise"))).all(k).then(m))}}}}var o=(n||(n=c("performanceAbsoluteNow")))();i=c("executeAfter")(i,function(){c("Arbiter").inform("AsyncRequest/"+j,{request:e,response:h,ts:o})});this.preBootloadHandler&&this.preBootloadHandler(h);c("Bootloader").loadResources((f=h.allResources)!=null?f:[],{onAll:c("AsyncRequestConfig").immediateDispatch?i:function(){c("setTimeout")(i,0)}})}else typeof a.transportError!=="undefined"?this._xFbServer?this._invokeErrorHandler(1008):this._invokeErrorHandler(1012):this._invokeErrorHandler(1007)};e._invokeErrorHandler=function(a){var b=this,d=this.transport;if(!d)return;var e;if(this.responseText==="")e=1002;else if(this._requestAborted)e=1011;else{try{e=a||d.status||s}catch(a){e=1005}!1===navigator.onLine&&(e=r)}var f,g;a=!0;if(e===r)g=i._("__JHASH__zia6hGr6i8P__JHASH__"),f=i._("__JHASH__PjKFkAw4Nck__JHASH__");else if(e>=300&&e<=399){g=i._("__JHASH__SUtyZBh0Rzk__JHASH__");f=i._("__JHASH__StinKHRkRou__JHASH__");var h=d.getResponseHeader("Location");h&&c("goURI")(h,!0);a=!0}else g=i._("__JHASH__zR4dpqEC6W7__JHASH__"),f=i._("__JHASH__7UBdKMXdKi6__JHASH__");var j=new(c("AsyncResponse"))(this,d);Object.assign(j,{error:e,errorSummary:g,errorDescription:f,silentError:a});c("setTimeout")(function(){c("Arbiter").inform("AsyncRequest/error",{request:b,response:j})},0);if(w()&&!this.getOption("handleErrorAfterUnload"))return;if(!this.transportErrorHandler){c("FBLogger")("asyncresponse").mustfix("Async request to %s failed with a %d error, but there was no error handler available to deal with it.",this.getURI(),e);return}h=this.getTransportErrorHandler().bind(this);!(this.getOption("suppressErrorAlerts")||u.has(e))?c("FBLogger")("asyncresponse").addToCategoryKey(String(e)).mustfix("Async request failed with error %s: %s when requesting %s",e,f.toString(),this.getURI()):u.has(e)&&c("FBLogger")("asyncresponse").addToCategoryKey(String(e)).warn("Async request failed with error %s: %s when requesting %s",e,f.toString(),this.getURI());(q||(q=c("ErrorGuard"))).applyWithGuard(this._dispatchErrorResponse,this,[j,h])};e._isServerDialogErrorCode=function(a){return a==1357008||a==1357007||a==1357041||a==1442002||a==1357001};e._solveQuicksandChallenge=function(a){var b=this,d=a.getPayload();c("Bootloader").loadModules(["QuickSandSolver"],function(a){a.solveAndSendRequestBack(b,d)},"AsyncRequest")};e._displayServerDialog=function(a,b,d){var e=this;d===void 0&&(d=!1);var f=a.getPayload();if(f.__dialog!==void 0){this._displayServerLegacyDialog(a,b);return}b=f.__dialogx;new(c("ServerJS"))().handle(b);if(f.__should_use_mwa_reauth===!0){c("Bootloader").loadModules(["MWADeveloperReauthBarrier"],function(b){b.registerRequest(f.__dialogID,e,a)},"AsyncRequest");return}c("Bootloader").loadModules(["ConfirmationDialog"],function(b){b.setupConfirmation(a,e,d)},"AsyncRequest")};e._displayServerLegacyDialog=function(a,b){var d=this,e=a.getPayload().__dialog;if(c("gkx")("20935")){var f;c("FBLogger")("comet_infra").addMetadata("COMET_INFRA","ERROR_CODE",a.getError().toString()).addMetadata("COMET_INFRA","ERROR_URL",(f=(f=a.request)==null?void 0:f.getURI())!=null?f:"unknown").mustfix("AsyncRequest._displayServerLegacyDialog called in Comet")}c("Bootloader").loadModules(["Dialog"],function(c){c=new c(e);b&&c.setHandler(d._displayConfirmationHandler.bind(d,c));c.setCancelHandler(function(){var b=d.getServerDialogCancelHandler();try{b&&b(a)}catch(a){throw a}finally{d.finallyHandler(a)}}).setCausalElement(d.relativeTo).show()},"AsyncRequest")};e._displayConfirmationHandler=function(a){this.data.confirmed=1,Object.assign(this.data,a.getFormData()),this.send()};e.$1=function(a){a.subscribe("response",this._handleJSONPResponse.bind(this)),a.subscribe("abort",this._handleJSONPAbort.bind(this)),this.transport=a};e._handleJSONPResponse=function(a,b){a=this.transport;if(!a)return;b.bootloadOnly||(this.is_first=this.is_first===void 0);b=this._interpretResponse(b);b.asyncResponse&&(b.asyncResponse.is_first=this.is_first,b.asyncResponse.is_last=a.hasFinished());this.invokeResponseHandler(b);a.hasFinished()&&delete this.transport};e._handleJSONPAbort=function(){this._invokeErrorHandler(),delete this.transport};e._handleXHRResponse=function(a){var b;if(this.getOption("suppressEvaluation"))b={asyncResponse:new(c("AsyncResponse"))(this,a)};else try{this._handleFlushedResponse();a=a.responseText;a=this._filterOutFlushedText(a);a=this._unshieldResponseText(a);a=JSON.parse(a);b=this._interpretResponse(a)}catch(a){b=a.message,c("FBLogger")("async_request").catching(a).warn("Failed to handle response")}this.invokeResponseHandler(b)};e._handleFlushedResponse=function(){var a=this.flushedResponseHandler,b=this.transport;if(a&&b){var c=b.responseText.indexOf(F);c=c===-1?b.responseText.length:c;a(b.responseText.substring(this.flushedResponseTextParseIndex,c));this.flushedResponseTextParseIndex=c}};e._unshieldResponseText=function(a){if(a.length<=G)throw new Error("Response too short on async");var b=0;while(a.charAt(b)==" "||a.charAt(b)=="\n")b++;b&&a.substring(b,b+G)==F;return a.substring(b+G)};e._filterOutFlushedText=function(a){if(!this.flushedResponseHandler)return a;var b=a.indexOf(F);return b<0?a:a.substr(b)};e._interpretResponse=function(a){if(a.redirect)return{redirect:a.redirect};if(a.bootloadOnly)return{bootloadOnly:a.bootloadOnly};var b=a.error&&this._isServerDialogErrorCode(a.error);this._shouldReplaceTransportMarkers&&a.payload&&!b&&c("replaceTransportMarkers")({relativeTo:this.getRelativeTo(),bigPipeContext:null},a.payload);b=new(c("AsyncResponse"))(this);if(a.__ar!=1)c("FBLogger")("AsyncRequest").warn("AsyncRequest to endpoint %s returned a JSON response, but it is not properly formatted. The endpoint needs to provide a response using the AsyncResponse class in PHP.",this.getURI()),b.payload=a;else{Object.assign(b,a);a=this.transport;a&&a.getAllResponseHeaders!==void 0&&(b.responseHeaders=a.getAllResponseHeaders())}return{asyncResponse:b}};e._isMultiplexable=function(){if(this.getOption("useFetchTransport")){c("FBLogger")("AsyncRequest").mustfix("You cannot bundle AsyncRequest that uses iframe transport.");return!1}if(!c("isFacebookURI")(new(m||(m=c("URI")))(this.uri))){c("FBLogger")("AsyncRequest").mustfix("You can not bundle AsyncRequest sent to non-facebook URIs.  Uri: %s",this.getURI());return!1}if(!this.getOption("asynchronous_DEPRECATED")){c("FBLogger")("AsyncRequest").mustfix("We cannot bundle synchronous AsyncRequests");return!1}return!0};e.handleResponse=function(a){a=this._interpretResponse(a);this.invokeResponseHandler(a)};e.setMethod=function(a){this.method=a.toString().toUpperCase();return this};e.getMethod=function(){return this.method};e.setData=function(a){this.data=a;return this};e.setRequestHeader=function(a,b){this.headers[a]=b;return this};e.setRawData=function(a){this.rawData=a;return this};e.getData=function(){return this.data};e.setContextData=function(a,b,c){c=c===void 0?!0:c;c&&(this.context["_log_"+a]=b);return this};e._setUserActionID=function(){this.userActionID=(d("SessionName").getName()||"-")+"/-"};e.setURI=function(a,b){b===void 0&&(b=!1);typeof a==="string"&&a.match(/^\/?u_\d+_\d+/)&&c("FBLogger")("asyncrequest").warn("Invalid URI %s",a);var e=new(m||(m=c("URI")))(a);if(this.getOption("useFetchTransport")&&!c("isFacebookURI")(e)){b&&j(0,45284);return this}if(!this._allowCrossOrigin&&!this.getOption("useFetchTransport")&&!e.isSameOrigin()&&!c("uriIsRelativePath")(e)){b&&j(0,45285);return this}this._setUserActionID();if(!a||e.isEmpty()){c("FBLogger")("async_request").mustfix("URI cannot be empty");return this}this.uri=d("ZeroRewrites").rewriteURI(e);return this};e.getURI=function(){return this.uri.toString()};e.delayPreDisplayJS=function(a){a===void 0&&(a=!0);this._delayPreDisplayJS=a;return this};e.setInitialHandler=function(a){this.initialHandler=a;return this};e.setPayloadHandler=function(a){this.setHandler(function(b){a(b.payload)});return this};e.setHandler=function(a){B(a)&&(this.handler=a);return this};e.setFlushedResponseHandler=function(a){B(a)&&(this.flushedResponseHandler=a);return this};e.getHandler=function(){return this.handler||c("emptyFunction")};e.setProgressHandler=function(a){B(a)&&(this.progressHandler=a);return this};e.setUploadProgressHandler=function(a){B(a)&&(this.uploadProgressHandler=a);return this};e.setErrorHandler=function(a){B(a)&&(this.errorHandler=a);return this};e.setTransportErrorHandler=function(a){this.transportErrorHandler=a;return this};e.getErrorHandler=function(){return this.errorHandler||c("emptyFunction")};e.getTransportErrorHandler=function(){return this.transportErrorHandler||c("emptyFunction")};e.setTimeoutHandler=function(a,b){B(b)&&(this.timeout=a,this.timeoutHandler=b);return this};e.resetTimeout=function(a){if(!(this.timeoutHandler===null))if(a===null)this.timeout=null,c("clearTimeout")(this.timer),this.timer=null;else{var b=!this._allowCrossPageTransition;this.timeout=a;c("clearTimeout")(this.timer);b?this.timer=c("setTimeout")(this._handleTimeout.bind(this),this.timeout):this.timer=c("setTimeoutAcrossTransitions")(this._handleTimeout.bind(this),this.timeout)}return this};e.setNewSerial=function(){this.id=++C;return this};e.setInterceptHandler=function(a){this.interceptHandler=a;return this};e.setFinallyHandler=function(a){this.finallyHandler=a;return this};e.setAbortHandler=function(a){this.abortHandler=a;return this};e.getServerDialogCancelHandler=function(){return this.serverDialogCancelHandler};e.setServerDialogCancelHandler=function(a){this.serverDialogCancelHandler=a;return this};e.setPreBootloadHandler=function(a){this.preBootloadHandler=a;return this};e.setReadOnly=function(a){typeof a!=="boolean"||(this.readOnly=a);return this};e.getReadOnly=function(){return this.readOnly};e.setRelativeTo=function(a){this.relativeTo=a;return this};e.getRelativeTo=function(){return this.relativeTo};e.setStatusClass=function(a){this.statusClass=a;return this};e.setStatusElement=function(a){this.statusElement=a;return this};e.getStatusElement=function(){return c("ge")(this.statusElement)};e._isRelevant=function(){if(this._allowCrossPageTransition)return!0;return!this.id?!0:this.id>D};e.clearStatusIndicator=function(){var a=this.getStatusElement();a&&(d("CSS").removeClass(a,"async_saving"),d("CSS").removeClass(a,this.statusClass))};e._addStatusIndicator=function(){var a=this.getStatusElement();a&&(d("CSS").addClass(a,"async_saving"),d("CSS").addClass(a,this.statusClass))};e.specifiesWriteRequiredParams=function(){var a=this;return this.writeRequiredParams.every(function(b){a.data[b]=a.data[b]||(o||(o=c("Env")))[b]||(c("ge")(b)||{}).value;return a.data[b]!==void 0?!0:!1})};e.setOption=function(a,b){typeof this.option[a]!=="undefined"&&(this.option[a]=b);return this};e.getOption=function(a){typeof this.option[a]==="undefined";return this.option[a]};e.abort=function(){var a=this;this.continuation.last(function(){var b=a.transport;if(b){var d=a.getTransportErrorHandler();a.setOption("suppressErrorAlerts",!0);a.setTransportErrorHandler(c("emptyFunction"));a._requestAborted=!0;b.abort();a.setTransportErrorHandler(d)}a.abortHandler();K.unschedule(a)})};e.abandon=function(){var a=this;this.continuation.last(function(){var b;c("clearTimeout")(a.timer);a.setOption("suppressErrorAlerts",!0).setHandler(b=c("emptyFunction")).setErrorHandler(b).setTransportErrorHandler(b).setProgressHandler(b).setUploadProgressHandler(b);b=a.transport;b&&(a._requestAborted=!0,x(b)&&delete b.onprogress,y(b)&&delete b.upload.onprogress,b.abort());a.abortHandler();K.unschedule(a)})};e.setNectarModuleDataSafe=function(a){var b=this.setNectarModuleData;b&&b.call(this,a);return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;this.timer&&this.resetTimeout(this.timeout);return this};e.getAllowIrrelevantRequests=function(){return this._allowIrrelevantRequests};e.setAllowIrrelevantRequests=function(a){this._allowIrrelevantRequests=a;return this};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=a;return this};e.setAllowCredentials=function(a){this._allowCredentials=a;return this};e.setIsBackgroundRequest=function(a){this._isBackgroundRequest=a;return this};e.setReplaceTransportMarkers=function(a){a===void 0&&(a=!0);this._shouldReplaceTransportMarkers=a;return this};e.sendAndReturnAbortHandler=function(){var a=this;this.send();return function(){return a.abort()}};e.send=function(b){var e=this;b=b||!1;if(!this.uri)return!1;this.errorHandler||!this.getOption("suppressErrorHandlerWarning");this.getOption("useFetchTransport")&&this.method!="GET"&&this.setMethod("GET");this.timeoutHandler!==null&&this.getOption("useFetchTransport");if(!this.getReadOnly()){this.specifiesWriteRequiredParams();if(this.method!="POST")return!1}if(document.location.search.toString().includes(this.uri.toString()))return!1;if(this.uri.toString().includes("/../")||this.uri.toString().includes("\\../")||this.uri.toString().includes("/..\\")||this.uri.toString().includes("\\..\\"))return!1;Object.assign(this.data,c("getAsyncParams")(this.method));(p||(p=c("isEmpty")))(this.context)||(Object.assign(this.data,this.context),this.data.ajax_log=1);(o||(o=c("Env"))).force_param&&Object.assign(this.data,(o||(o=c("Env"))).force_param);this._setUserActionID();if(this.getOption("bundle")&&this._isMultiplexable()){K.schedule(this);return!0}this.setNewSerial();this.getOption("asynchronous_DEPRECATED")||this.uri.addQueryData({__sjax:1});c("Arbiter").inform("AsyncRequest/send",{request:this,ts:(n||(n=c("performanceAbsoluteNow")))()});var f,g;this.method=="GET"&&this.uri.addQueryData({fb_dtsg_ag:d("DTSG_ASYNC").getToken()});this.method=="GET"||this.rawData?(f=this.uri.addQueryData(this.data).toString(),g=this.rawData||""):(this._allowCrossOrigin&&this.uri.addQueryData({__a:1}),f=this.uri.toString(),g=(k||(k=d("PHPQuerySerializer"))).serialize(this.data));if(this.transport)return!1;if(this.getOption("useFetchTransport"))try{var h=new(c("FetchStreamTransport"))(this.uri);this.$1(h);this._markRequestSent();h.send();return!0}catch(a){this.setOption("useFetchTransport",!1)}this.flushedResponseHandler&&(this.flushedResponseTextParseIndex=0);var i;try{i=d("ZeroRewrites").getTransportBuilderForURI(this.uri)()}catch(a){throw c("unrecoverableViolation")(a.message,"comet_infra",{},{blameToPreviousFrame:1})}if(!i)return!1;this.schedule("AsyncRequest.send");i.onreadystatechange=function(){var a=e.transport;a&&a.readyState>=2&&a.readyState<=3&&e._handleFlushedResponse();i.readyState===4&&e.continuation.last(e._onStateChange)};this.progressHandler&&x(i)&&(i.onprogress=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];e.continuation(function(){e.progressHandler&&e.progressHandler.apply(e,b)})});this.uploadProgressHandler&&y(i)&&(i.upload.onprogress=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];e.continuation(function(){e.uploadProgressHandler&&e.uploadProgressHandler.apply(e,b)})});b||(this.remainingRetries=this.getOption("retries"));this.transport=i;try{i.open(this.method,f,c("gkx")("25571")?!0:this.getOption("asynchronous_DEPRECATED"))}catch(a){return!1}if(!this.uri.isSameOrigin()&&!c("uriIsRelativePath")(this.uri)&&!this.getOption("useFetchTransport")){if(!z(i))return!1;this._canSendCredentials()&&(i.withCredentials=!0)}this.method=="POST"&&!this.rawData&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h=this.uri.toString();h.includes("adsmanager")&&!h.includes("am_tabular")&&this.getReadOnly()&&c("gkx")("1221")&&this.method.toLowerCase()==="get"&&i.setRequestHeader("x-fb-tenant-routing-control","ads_manager_read_regions");this._isBackgroundRequest&&i.setRequestHeader("X-FB-BACKGROUND-STATE","1");var j=c("getAsyncHeaders")(this.uri);Object.keys(j).forEach(function(a){i&&i.setRequestHeader(a,j[a])});c("Arbiter").inform("AsyncRequest/will_send",{request:this});if(i)for(b in this.headers)Object.prototype.hasOwnProperty.call(this.headers,b)&&i.setRequestHeader(b,this.headers[b]);this._addStatusIndicator();this._markRequestSent();i.send(g);this.timeout!==null&&this.resetTimeout(this.timeout);a._inflightCount++;return!0};e.schedule=function(a){this.continuation=c("TimeSlice").getReusableContinuation(a)};e._canSendCredentials=function(){if(this._allowCredentials===!1)return!1;var a=new(m||(m=c("URI")))(this.uri);return c("isBulletinDotComURI")(a)||c("isFacebookURI")(a)||c("isInternalFBURI")(a)||c("isMessengerDotComURI")(a)||c("isWorkplaceDotComURI")(a)||c("isWorkroomsDotComURI")(a)||c("isWorkDotMetaDotComURI")(a)||c("isHorizonDotMetaDotComURI")(a)||c("isSparkDotMetaDotComURI")(a)||c("isArDotMetaDotComURI")(a)};e._markRequestSent=function(){var a=new(m||(m=c("URI")))(this.getURI()).getQualifiedURI().toString();d("ResourceTimingsStore").updateURI(c("ResourceTypes").XHR,this.resourceTimingStoreUID,a);d("ResourceTimingsStore").annotate(c("ResourceTypes").XHR,this.resourceTimingStoreUID).addStringAnnotation("uri",a);d("ResourceTimingsStore").measureRequestSent(c("ResourceTypes").XHR,this.resourceTimingStoreUID)};e.promisePayload=function(a){return this.exec().then(function(a){return a.payload},function(a){throw a.toError()})};e.exec=function(a){var d=this;if(this.getHandler()!==c("emptyFunction")||this.getErrorHandler()!==c("AsyncResponse").defaultErrorHandler)throw new Error("exec is an async function and does not allow previously set handlers");return new(l||(l=b("Promise")))(function(b,c){d.setHandler(b).setErrorHandler(c).send(a)})};a.bootstrap=function(b,e,f){var g="GET",h=!0,i={};(f||e&&e.rel=="async-post")&&(g="POST",h=!1,b&&(b=new(m||(m=c("URI")))(b),i=b.getQueryData(),b.setQueryData({})));f=d("Parent").byClass(e,"stat_elem")||e;if(f&&d("CSS").hasClass(f,"async_saving"))return!1;b=new a(b).setReadOnly(h).setMethod(g).setData(i).setNectarModuleDataSafe(e).setRelativeTo(e);e&&(b.setHandler(function(a){c("Event").fire(e,"success",{response:a})}),b.setErrorHandler(function(a){c("Event").fire(e,"error",{response:a})!==!1&&c("AsyncResponse").defaultErrorHandler(a)}));if(f instanceof HTMLElement){b.setStatusElement(f);h=f.getAttribute("data-status-class");h&&b.setStatusClass(h)}b.send();return!1};a.bootstrap_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES=function(b,c,d){a.bootstrap(b,c,d)};a.post=function(b,c){new a(b).setReadOnly(!1).setMethod("POST").setData(c).send();return!1};a.post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES=function(b,c){a.post(b,c)};a.getLastID=function(){return C};a.ignoreUpdate=function(){E=!0};a.getInflightCount=function(){return this._inflightCount};return a}();H._inflightCount=0;var I,J=[],K=function(){function a(){this._requests=[]}var b=a.prototype;b.add=function(a){this._requests.push(a)};b.remove=function(a){var b=this._requests,c=this._requestsSent;for(var d=0,e=b.length;d<e;d++)b[d]===a&&(c?b[d]=null:b.splice(d,1))};b.send=function(){this._requestsSent&&j(0,4390);this._requestsSent=!0;this._wrapperRequest=null;var a=this._requests;if(!a.length)return;var b;if(a.length===1)b=a[0];else{a=a.filter(Boolean).map(function(a){return[a.uri.getPath(),(k||(k=d("PHPQuerySerializer"))).serialize(a.data)]});b=this._wrapperRequest=new H("/ajax/proxy.php").setAllowCrossPageTransition(!0).setData({data:a}).setHandler(this._handler.bind(this)).setTransportErrorHandler(this._transportErrorHandler.bind(this))}b&&b.setOption("bundle",!1).send()};b._handler=function(a){var b=this,c=a.getPayload().responses;if(c.length!==this._requests.length)return;a=function(a){var d=b._requests[a];if(!d)return"continue";var e=d.uri.getPath();b._wrapperRequest&&(d.id=b._wrapperRequest.id);if(c[a][0]!==e){d.continuation.last(function(){d.invokeResponseHandler({transportError:"Wrong response order in bundled request to "+e})});return"continue"}d.continuation.last(function(){d.handleResponse(c[a][1])})};for(var d=0;d<this._requests.length;d++){var e=a(d);if(e==="continue")continue}J.splice(J.indexOf(this,1))};b._transportErrorHandler=function(a){var b=this,c={transportError:a.errorDescription};a=this._requests.filter(Boolean).map(function(a){b._wrapperRequest&&(a.id=b._wrapperRequest.id);a.invokeResponseHandler(c);return a.uri.getPath()})};a.schedule=function(b){b.schedule("AsyncMultiplex.schedule");I||(I=new a(),J.push(I),c("TimeSlice").guard(function(){c("setTimeoutAcrossTransitions")(function(){I&&(I.send(),I=null)},0)},"AsyncMultiplex.schedule",{propagationType:c("TimeSlice").PropagationType.ORPHAN})());I.add(b);return I};a.unschedule=function(a){J.forEach(function(b){b.remove(a)})};return a}();H.suppressOnloadToken={};a.AsyncRequest=H;g["default"]=H}),226);
__d("goURIWWW",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;g["default"]=(h||c("URI")).go}),98);/*FB_PKG_DELIM*/
__d("MDSTextConfig",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";a={blueLink:{color:"x1fey0fg",$$css:!0},disabled:{color:"x1dntmbh",$$css:!0},disabledButton:{color:"x1x80s81",$$css:!0},highlight:{color:"x1qq9wsj",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primary:{color:"xzsf02u",$$css:!0},primaryButton:{color:"xtk6v10",$$css:!0},primaryDeemphasizedButton:{color:"x1mvi0mv",$$css:!0},secondary:{color:"xi81zsa",$$css:!0},secondaryButton:{color:"x1dem4cn",$$css:!0},secondaryOnMedia:{color:"xkxfvhb",$$css:!0},tertiary:{color:"x12scifz",$$css:!0},white:{color:"x14ctfv",$$css:!0}};var h={apple:{MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",fontFamily:"x1n0sxbx",$$css:!0},"default":{fontFamily:"x10flsy6",$$css:!0},segoe:{fontFamily:"x1xmvt09",$$css:!0}},i={"default":function(a){switch(a){case"body1":return[4,5];case"body2":return[3,5];case"body3":return[4,5];case"body4":return[3,4];case"bodyLink1":return[4,5];case"bodyLink2":return[3,5];case"bodyLink3":return[4,5];case"bodyLink4":return[3,4];case"button1":return[3,5];case"button2":return[4,5];case"entityHeaderHeadline1":return[7,8];case"entityHeaderHeadline2":return[5,7];case"entityHeaderMeta1":return[4,5];case"entityHeaderMeta2":return[4,5];case"entityHeaderMeta3":return[4,3];case"headline3":return[3,5];case"headline4":return[4,5];case"headlineDeemphasized3":return[3,5];case"headlineDeemphasized4":return[4,5];case"headlineEmphasized1":return[5,6];case"headlineEmphasized2":return[4,5];case"headlineEmphasized3":return[3,4];case"headlineEmphasized4":return[4,5];case"headlineEmphasized5":return[3,4];case"meta1":return[3,4];case"meta2":return[3,4];case"meta3":return[3,4];case"meta4":return[3,4]}},segoe:function(a){switch(a){case"body1":return[6,4,1];case"body2":return[5,3,1];case"body3":return[5,4];case"body4":return[4,3,1];case"bodyLink1":return[6,4,1];case"bodyLink2":return[5,3,1];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3,1];case"button1":return[5,3,1];case"button2":return[5,4];case"entityHeaderHeadline1":return[10,6,2];case"entityHeaderHeadline2":return[8,5,3];case"entityHeaderMeta1":return[5,4,1];case"entityHeaderMeta2":return[5,4,1];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3,1];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3,1];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[7,4,2];case"headlineEmphasized2":return[6,4,2];case"headlineEmphasized3":return[5,3,1];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[5,3,1];case"meta1":return[4,3,1];case"meta2":return[4,3,1];case"meta3":return[4,3,1];case"meta4":return[4,3]}},sfGecko:function(a){switch(a){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[5,4];case"body4":return[4,3];case"bodyLink1":return[6,4];case"bodyLink2":return[4,3];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3];case"button1":return[4,3];case"button2":return[5,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[7,5];case"entityHeaderMeta1":return[5,4];case"entityHeaderMeta2":return[5,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[6,4];case"headlineEmphasized3":return[4,3];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[4,3]}},sfWebkit:function(a){switch(a){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[4,4];case"body4":return[4,3];case"bodyLink1":return[5,5];case"bodyLink2":return[4,4];case"bodyLink3":return[4,4];case"bodyLink4":return[4,3];case"button1":return[4,4];case"button2":return[4,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[6,6];case"entityHeaderMeta1":return[4,4];case"entityHeaderMeta2":return[4,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[4,4];case"headline4":return[4,4];case"headlineDeemphasized3":return[4,4];case"headlineDeemphasized4":return[4,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[5,5];case"headlineEmphasized3":return[4,4];case"headlineEmphasized4":return[4,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[3,3]}}};b=function(){if(c("UserAgent").isPlatform("Windows >= 6"))return[h.segoe,i.segoe];return c("UserAgent").isPlatform("Mac OS X >= 10.11")&&!c("UserAgent").isBrowser("Firefox < 55")||c("UserAgent").isPlatform("iOS >= 9")?[h.apple,c("UserAgent").isEngine("Gecko")?i.sfGecko:i.sfWebkit]:[h["default"],i["default"]]}();d=b[0];e=b[1];f={body1:{fontSize:"x1603h9y",fontWeight:"x1fcty0u",$$css:!0},body2:{fontSize:"x1lkfr7t",fontWeight:"x1fcty0u",$$css:!0},body2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1fcty0u",$$css:!0},body3:{fontSize:"x6prxxf",fontWeight:"x1fcty0u",$$css:!0},body3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1fcty0u",$$css:!0},body4:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},body4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},bodyLink1:{fontSize:"x1603h9y",fontWeight:"x1s688f",$$css:!0},bodyLink2:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},bodyLink2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},bodyLink3:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},bodyLink3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},bodyLink4:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},bodyLink4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},button1:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},button1ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},button2:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},button2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},entityHeaderHeadline1:{fontSize:"x579bpy",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderHeadline2:{fontSize:"x1q74xe4",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta3:{fontSize:"x1nxh6w3",fontWeight:"x1xlr1w8",$$css:!0},headline3:{fontSize:"x1lkfr7t",fontWeight:"xk50ysn",$$css:!0},headline3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"xk50ysn",$$css:!0},headline4:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},headline4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"xk50ysn",$$css:!0},headlineEmphasized1:{fontSize:"xngnso2",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized2:{fontSize:"x1603h9y",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized3:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},headlineEmphasized3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},headlineEmphasized5:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},meta1:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta1ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta2:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta2ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta3:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},meta3ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0}};b={colors:{blueLink:a.blueLink,disabled:a.disabled,disabledButton:a.disabledButton,highlight:a.highlight,negative:a.negative,positive:a.positive,primary:a.primary,primaryButton:a.primaryButton,primaryDeemphasizedButton:a.primaryDeemphasizedButton,secondary:a.secondary,secondaryButton:a.secondaryButton,secondaryOnMedia:a.secondaryOnMedia,tertiary:a.tertiary,white:a.white},defaultFontFamily:d,offsets:e,styles:{body1:{lineHeight:24,style:f.body1},body2:{lineHeight:20,style:f.body2},body3:{lineHeight:19.9995,style:f.body3},body4:{lineHeight:16,style:f.body4},bodyLink1:{lineHeight:24,style:f.bodyLink1},bodyLink2:{lineHeight:20,style:f.bodyLink2},bodyLink3:{lineHeight:19.9995,style:f.bodyLink3},bodyLink4:{lineHeight:16,style:f.bodyLink4},button1:{lineHeight:20,style:f.button1},button2:{lineHeight:19.9995,style:f.button2},entityHeaderHeadline1:{lineHeight:38,style:f.entityHeaderHeadline1},entityHeaderHeadline2:{lineHeight:32,style:f.entityHeaderHeadline2},entityHeaderMeta1:{lineHeight:19,style:f.entityHeaderMeta1},entityHeaderMeta2:{lineHeight:19,style:f.entityHeaderMeta2},entityHeaderMeta3:{lineHeight:17,style:f.entityHeaderMeta3},headline3:{lineHeight:20,style:f.headline3},headline4:{lineHeight:19.9995,style:f.headline4},headlineEmphasized1:{lineHeight:28,style:f.headlineEmphasized1},headlineEmphasized2:{lineHeight:24,style:f.headlineEmphasized2},headlineEmphasized3:{lineHeight:20,style:f.headlineEmphasized3},headlineEmphasized4:{lineHeight:19.9995,style:f.headlineEmphasized4},headlineEmphasized5:{lineHeight:20,style:f.headlineEmphasized5},meta1:{lineHeight:16,style:f.meta1},meta2:{lineHeight:16,style:f.meta2},meta3:{lineHeight:16,style:f.meta3},meta4:{lineHeight:15,style:f.meta4}},stylesForDenseMode:{body2:{lineHeight:20,style:f.body2ForDenseMode},body3:{lineHeight:20,style:f.body3ForDenseMode},body4:{lineHeight:16,style:f.body4ForDenseMode},bodyLink2:{lineHeight:20,style:f.bodyLink2ForDenseMode},bodyLink3:{lineHeight:20,style:f.bodyLink3ForDenseMode},bodyLink4:{lineHeight:16,style:f.bodyLink4ForDenseMode},button1:{lineHeight:18,style:f.button1ForDenseMode},button2:{lineHeight:18,style:f.button2ForDenseMode},entityHeaderMeta1:{lineHeight:18,style:f.entityHeaderMeta1ForDenseMode},entityHeaderMeta2:{lineHeight:18,style:f.entityHeaderMeta2ForDenseMode},headline3:{lineHeight:20,style:f.headline3ForDenseMode},headline4:{lineHeight:20,style:f.headline4ForDenseMode},headlineEmphasized3:{lineHeight:20,style:f.headlineEmphasized3ForDenseMode},headlineEmphasized4:{lineHeight:20,style:f.headlineEmphasized4ForDenseMode},meta1:{lineHeight:14,style:f.meta1ForDenseMode},meta2:{lineHeight:14,style:f.meta2ForDenseMode},meta3:{lineHeight:14,style:f.meta3ForDenseMode},meta4:{lineHeight:15,style:f.meta4ForDenseMode}}};a=b;g["default"]=a}),98);
__d("useXPlatReactTranslationKeyForTextParent",["cr:2099"],(function(a,b,c,d,e,f,g){"use strict";function a(){}e=(d=b("cr:2099"))!=null?d:{useTranslationKeyForTextParent:a};var h=e.useTranslationKeyForTextParent;function c(){return h()}g["default"]=c}),98);
__d("MDSText.react",["BaseHeading.react","BaseText.react","BaseTextContext","CometDensityModeContext","MDSTextConfig","react","useXPlatReactTranslationKeyForTextParent","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l=d("BaseText.react").createBaseTextComponent(c("MDSTextConfig")),m={heading:{maxWidth:"x193iq5w",minWidth:"xeuugli",$$css:!0},text:{whiteSpace:"xq9mrsl",$$css:!0}},n={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function o(a,b){return b?(b=n[a])!=null?b:a:a}var p=["entityHeaderMeta1","entityHeaderMeta2","meta1","meta2","meta3","meta4"];e=i.forwardRef(a);function a(a,b){var e=a.align;e=e===void 0?"auto":e;var f=a.children,g=a.color,h=a.dir;h=h===void 0?"auto":h;var n=a.id,q=a.isPrimaryHeading;q=q===void 0?!1:q;var r=a.isSemanticHeading;r=r===void 0?!1:r;var s=a.numberOfLines,t=a.testid,u=a.type;t=k(function(){return p.includes(u)?"secondary":"primary"},[u]);g=o((a=g)!=null?a:t,u==="button1"||u==="button2");a=c("useXPlatReactTranslationKeyForTextParent")();t=d("BaseTextContext").useBaseTextContext();var v=j(c("CometDensityModeContext"));v=v[0];t=(t==null?void 0:t.nested)===!0;e=i.jsx(l,{alignment:(e=e)!=null?e:void 0,colorName:g,dir:t?void 0:h,id:n,isDenseModeEnabled:v,lines:s||0,ref:d("xplatToDOMRef").xplatToDOMRef(b),styleName:u,testid:void 0,xstyle:m.text,children:f},a);return r||q?i.jsx(c("BaseHeading.react"),{isPrimaryHeading:q,xstyle:m.heading,children:e}):e}a.displayName=a.name+" [from "+f.id+"]";b=e;e.displayName="MDSText";g["default"]=b}),98);
__d("MDSButton.react",["BaseStyledButton.react","BaseTheme.react","FDSIcon.react","MDSText.react","mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef,k={destructive:{backgroundColor:"xb4tp27",$$css:!0},disabled:{backgroundColor:"xwcfey6",$$css:!0},primary:{backgroundColor:"xtvsq51",$$css:!0},primaryDeemphasized:{backgroundColor:"x1hr4nm9",$$css:!0},secondary:{backgroundColor:"x1qhmfi1",$$css:!0},secondaryDeemphasized:{backgroundColor:"xjbqb8w",$$css:!0},sizeLarge:{height:"xc9qbxq",$$css:!0},sizeMedium:{height:"x10w6t97",$$css:!0},sizeSmall:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x1fgtraw",$$css:!0}},l={dark:{"destructive-button-background":"rgba(235, 52, 52, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(155, 160, 168, 0.5)","primary-button-background":"#429AFF","secondary-button-background":"rgba(255, 255, 255, 0.19)"},light:{"destructive-button-background":"rgba(255, 41, 41, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(134, 142, 153, 0.5)","primary-button-background":"#0A7CFF","secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"},m={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"white",textColor:"white"},n={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"primary",textColor:"secondary"};function o(a){switch(a){case"secondary":return n;case"destructive":case"primary":default:return m}}function p(a,b){var c=b.disabled;b=b.reduceEmphasis;a=o(a);return(c?a[":disabled"]:null)||(b?a[":deemphasized"]:null)||a}b=i.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var d=a.addOnStart,e=a.disabled;e=e===void 0?!1:e;var f=a.icon,g=a.label,h=a.labelIsHidden;h=h===void 0?!1:h;var m=a.linkProps,n=a.onFocusIn,o=a.onFocusOut,q=a.onHoverIn,r=a.onHoverOut,s=a.onPress,t=a.onPressIn,u=a.onPressOut,v=a.padding;v=v===void 0?"normal":v;var w=a.reduceEmphasis;w=w===void 0?!1:w;var x=a.size;x=x===void 0?32:x;var y=a.suppressHydrationWarning;y=y===void 0?!1:y;var z=a.testid;z=a.type;z=z===void 0?"primary":z;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnStart","disabled","icon","label","labelIsHidden","linkProps","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPress","onPressIn","onPressOut","padding","reduceEmphasis","size","suppressHydrationWarning","testid","type"]);var A=p(z,{disabled:e,reduceEmphasis:w}),B=A.iconColor;A=A.textColor;var C=j(null);return i.jsx(c("BaseTheme.react"),{config:l,style:{width:"100%"},children:i.jsx(c("BaseStyledButton.react"),babelHelpers["extends"]({},a,{addOnStart:d,"aria-label":(d=a["aria-label"])!=null?d:g,content:h?null:i.jsx(c("MDSText.react"),{color:A,numberOfLines:1,type:"button2",children:g}),contentXstyle:[x===28&&k.sizeSmall,x===32&&k.sizeMedium,x===36&&k.sizeLarge],disabled:e,icon:f==null?null:i.jsx(c("FDSIcon.react"),{color:B,icon:f,size:24}),linkProps:m,onFocusIn:n,onFocusOut:o,onHoverIn:q,onHoverOut:r,onPress:s,onPressIn:t,onPressOut:u,padding:v,ref:c("mergeRefs")(C,b),suppressHydrationWarning:y,testid:void 0,xstyle:[z==="primary"&&k.primary,z==="secondary"&&k.secondary,z==="destructive"&&k.destructive,z==="secondary"&&w&&k.secondaryDeemphasized,z==="primary"&&w&&k.primaryDeemphasized,e&&k.disabled]}))})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},n={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},o={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};e=i.forwardRef(a);function a(a,b){var d=a.align,e=d===void 0?null:d;d=a.children;var f=a.expanding;f=f===void 0?!1:f;var g=a.hasDividers,h=g===void 0?!1:g;g=a.paddingHorizontal;var p=g===void 0?null:g;g=a.paddingTop;var q=a.paddingVertical;q=q===void 0?0:q;var r=a.spacing,s=r===void 0?null:r;r=a.verticalAlign;r=r===void 0?"top":r;var u=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"]);var v=j(c("MDSColumnContext")),w=k(function(){return{align:e,hasDividers:h,paddingHorizontal:p,spacing:s}},[e,h,p,s]);a=i.jsx(c("BaseView.react"),babelHelpers["extends"]({},a,{ref:b,xstyle:[l.root,f===!0&&[l.expanding,c("isIE11OrGreater")&&l.expandingIE11],n[q],g!=null&&m[g],u],children:i.jsx(c("BaseView.react"),{xstyle:[l.inner,r!=="top"&&o[r]],children:i.jsx(c("MDSColumnContext").Provider,{value:w,children:t(d)})})}));if(v!=null){return i.jsx(c("MDSColumnItem.react"),{expanding:(b=f)!=null?b:void 0,children:a})}return a}a.displayName=a.name+" [from "+f.id+"]";d=e;var p={isFirst:!0,isLast:!1},q={isFirst:!1,isLast:!0},r={isFirst:!0,isLast:!0},s={isFirst:!1,isLast:!1};function t(a){return i.Children.toArray(a).map(function(a,b,d){var e=b===0;d=b===d.length-1;e=e&&d?r:e?p:d?q:s;return i.jsx(c("MDSColumnItemContext").Provider,{value:e,children:a},b)})}g["default"]=d}),98);
__d("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4971536746285420"}),null);
__d("MessengerCreateVideoMeetupLinkMutation.graphql",["MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerCreateVideoMeetupLinkMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerCreateVideoMeetupLinkMutation",selections:c},params:{id:b("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"),metadata:{},name:"MessengerCreateVideoMeetupLinkMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MessengerCreateVideoMeetupLinkMutation",["MessengerCreateVideoMeetupLinkMutation.graphql","Promise","cr:1012418","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,d,e){return new(i||(i=b("Promise")))(function(f,g){var i;b("cr:1012418").commitMutation(a,{mutation:h!==void 0?h:h=b("MessengerCreateVideoMeetupLinkMutation.graphql"),onCompleted:function(a){var b,c,d;b=a==null?void 0:(b=a.create_video_meetup_link)==null?void 0:(b=b.meetup_link)==null?void 0:b.is_audio_only;c=a==null?void 0:(c=a.create_video_meetup_link)==null?void 0:(c=c.meetup_link)==null?void 0:c.link_url;d=a==null?void 0:(d=a.create_video_meetup_link)==null?void 0:(d=d.meetup_link)==null?void 0:d.link_hash;a=a==null?void 0:(a=a.create_video_meetup_link)==null?void 0:(a=a.meetup_link)==null?void 0:a.id;return c!=null&&d!=null&&b!=null?f({isAudioOnly:b,linkHash:d,linkId:a,linkUrl:c}):g({error:"Failed to create linkurl."})},onError:function(a){g(a)},optimisticUpdater:null,variables:{input:{client_mutation_id:"",funnel_session_id:e,link_options:{availability_settings_options:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?{join_permission:d==null?void 0:d.joinPermission,visibility_mode:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}:void 0,chat_mode:(i=d==null?void 0:d.chatMode)!=null?i:null,is_audio_only:(i=d==null?void 0:d.isAudioOnly)!=null?i:null,is_live_enabled:(i=d==null?void 0:d.isLiveEnabled)!=null?i:null,is_room_join_requestable:(i=d==null?void 0:d.joinRequestable)!=null?i:null,link_surface:(i=d==null?void 0:d.linkSurface)!=null?i:c("gkx")("20836")?"WORKPLACE":void 0,revocation_behavior:(i=d==null?void 0:d.revocationBehavior)!=null?i:null,should_allow_anonymous_guests:(i=d==null?void 0:d.allowAnonymousGuests)!=null?i:!0,supports_pages:(i=d==null?void 0:d.supportsPages)!=null?i:!1,supports_profile_plus:(i=d==null?void 0:d.supportsProfilePlus)!=null?i:!1,visibility_mode:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?void 0:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}}}})})}g["default"]=a}),98);
__d("RoomsLinkUtils",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("ConstUriUtils").getUri(a);var b=a==null?void 0:a.getDomain();a=a==null?void 0:(a=a.stripTrailingSlash())==null?void 0:a.getPath();if(a==null)return null;if(b==="msngr.com")return a.substring(1);var c=/^\/v(id)?\//;if(b==="m.me"&&c.test(a))return a.replace(c,"");b=/^\/groupcall\/LINK:/;return b.test(a)?a.replace(b,""):null}g.getRoomsLinkHash=a}),98);
__d("VideoChatLinksUserActionsMultiplexLogger",["cr:1443591"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1443591")}),98);
__d("XGroupCallControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupcall/{?call_context}/",Object.freeze({users_to_ring:[],has_video:!0,initialize_video:!0,auto_join:!1,use_joining_context:!1,has_seen_interstitial:!1,use_dapp:!1,is_e2ee_mandated:!1,use_www:!1}),void 0);b=a;g["default"]=b}),98);
__d("ZenonCallIdentifiersUtil",["Random"],(function(a,b,c,d,e,f,g){"use strict";function a(){return String(d("Random").uint32()+1)}g.generateZenonClientSessionID=a}),98);
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonOpeningAnotherCallError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonConferenceNameMutationFailedError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonIncompleteControllerParamsError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonUnsupportedThreadTypeError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonCannotAcceptInviteError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonInviteNotFoundError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error)),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonUninitializedError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("randomZenonNonce",["Random"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i=6,j=36,k=2176782336;function a(){var a="";for(var b=0;b<h;b++){var c=Math.floor(d("Random").random()*k).toString(j);while(c.length<i)c="0"+c;a+=c}return a}g["default"]=a}),98);
__d("ZenonPreCallHookBuilderHelper",["ConstUriUtils","FBLogger","MessengerCreateVideoMeetupLinkMutation","Promise","RoomsLinkUtils","VideoChatLinksUserActionsMultiplexLogger","XGroupCallControllerRouteBuilder","ZenonActorHooks","ZenonCallIdentifiersUtil","ZenonCallWindowErrors","ZenonPeerID","ZenonSignalingProtocol","asyncToGeneratorRuntime","gkx","nullthrows","randomZenonNonce"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var e=a.callInviteModel;a=a.callWindowController;var f=e.getCurrentInvite();if(f===null)throw new(d("ZenonCallWindowErrors").InviteNotFoundError)();if(f.type!=="ringing"||f.context.type!=="thread")throw new(d("ZenonCallWindowErrors").CannotAcceptInviteError)();var g=c("randomZenonNonce")(),h=f.context.thread;a=a.initCall({context:{controllerParams:f.controllerParams,intent:"accept invite"},hideE2eeAttributions:b,isE2eeMandated:f.isE2eeMandated,joinContext:{thread:h!=null?h:{id:"0",type:2},type:"thread"},mediaType:f.requestingVideo?"video":"audio",nonce:g,representedID:f.receiverUserId});b=a[0];h=a[1];e.accept(g,{isPopupBlocked:b===null});yield h});return i.apply(this,arguments)}function e(a,b,c,d,e,f){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){h===void 0&&(h={allowAnonymousGuests:!c("gkx")("20836")});if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();p(g,e,f).setEvent("meetup_attempt_create_meetup").log();try{a=(yield c("MessengerCreateVideoMeetupLinkMutation")(b,h,g));b=a.linkUrl;if(b!=null){p(g,e,f).setEvent("meetup_create_success").setVideoCallLinkURLRaw(b).log();return b}else p(g,e,f).setEvent("meetup_create_failed").log();return b}catch(a){p(g,e,f).setEvent("meetup_create_failed").log();p(g,e,f).setEvent("error").setErrorType("LinkCreationError "+a.name).setErrorDetails(a.description).log();throw a}});return j.apply(this,arguments)}function f(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.actorID,f=a.callback_users,g=a.context,i=a.forceSkipChildLobby;i=i===void 0?!1:i;var j=a.funnelSessionID;j=j===void 0?null:j;var k=a.hasVideo;k=k===void 0?!0:k;var l=a.linkUrl,m=a.referrerContext;m=m===void 0?null:m;var p=a.skipLinkUrlRewrite;p=p===void 0?!1:p;var q=a.startCallImmediately;q=q===void 0?!1:q;a=a.trigger;if(g===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var r=g.callWindowController;g=g.incomingRingSDK;var s=c("randomZenonNonce")(),t=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),u=l;if(!p){p=(p=d("ConstUriUtils").getUri(l))==null?void 0:p.getQueryParam("funnel_session_id");l=n(l);u=o(l,q?s:null,f,p!=null?String(p):j,i,m,e,a,k)}if(u==null)return(h||(h=b("Promise"))).reject("An invalid URI was provided");l=r.initCall({context:{existingCall:null,intent:"start or join",invitees:[],signalingID:t},joinContext:{linkUrl:u,type:"link"},mediaType:"video",nonce:s,representedID:d("ZenonActorHooks").ZenonActor.getID()});q=l[0];f=l[1];g.startCallIntent(s,{callTrigger:(p=a)!=null?p:"meetup_join",isE2eeMandated:!1,isPopupBlocked:q===null,isVideo:k,peerID:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:t});yield f});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.existingCall,f=b.extra,g=b.hideE2eeAttributions,h=b.invitees,i=b.isE2eeMandated,j=b.mediaType,k=b.representedID,l=b.thread;b=b.trigger;if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var m=a.callWindowController;a=a.incomingRingSDK;var n=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),o=c("randomZenonNonce")();e=m.initCall({context:{existingCall:e,intent:"start or join",invitees:h,signalingID:n},extra:f,hideE2eeAttributions:g,isE2eeMandated:i,joinContext:{thread:l,type:"thread"},mediaType:j,nonce:o,representedID:(m=k)!=null?m:d("ZenonActorHooks").ZenonActor.getID()});h=e[0];f=e[1];a.startCallIntent(o,{callTrigger:b,isE2eeMandated:(g=i)!=null?g:!1,isPopupBlocked:h===null,isVideo:j==="video",peerID:l.type===1?l.id:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:n});yield f});return m.apply(this,arguments)}function n(a){var b=d("RoomsLinkUtils").getRoomsLinkHash(a);b==null&&c("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',a);return b}function o(a,b,d,e,f,g,h,i,j){if(a==null)return"";a={call_context:"LINK:"+a,call_trigger:(a=i)!=null?a:"",has_video:j,users_to_ring:(i=d)!=null?i:[]};b!=null&&(a.nonce=b);e!=null&&(a.funnel_session_id=e);f===!0&&(a.auto_join=!0);g!=null&&(a.referrer_context=g);h!=null&&(a.av=h);return c("nullthrows")(c("XGroupCallControllerRouteBuilder").buildUri(a).getQualifiedUri()).toString()}function p(a,b,d){return new(c("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(a).setSurface(b).setComponent(d)}g.acceptCall=a;g.createMeetup=e;g.joinMeetup=f;g.startCall=l}),98);
__d("useZenonCallInvite",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=j(function(){return a?a.getCurrentInvite():null}),c=b[0],d=b[1];i(function(){if(a){var b=a.addListener("callInvite",d);return function(){b.remove()}}else d(null)},[a]);return c}g["default"]=a}),98);
__d("ZenonPreCallHookBuilder",["CometRelay","FBLogger","Promise","ZenonPreCallHookBuilderHelper","err","gkx","promiseDone","react","useZenonCallInvite"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=j.useCallback,l=j.useContext,m=j.useDebugValue,n=j.useEffect,o=6e4;function a(a){function b(b){var c=l(a);return k(function(){return d("ZenonPreCallHookBuilderHelper").acceptCall(c,b)},[c,b])}return b}function e(a){function b(){var b=l(a);b=c("useZenonCallInvite")(b?b.callInviteModel:null);m(b);return b}return b}function f(a,b){return function(d,e){function f(){var f=l(a),g=d(),h=e(),i=b();return k(function(a){if(!c("gkx")("24231"))return;var b=a.existingCall,d=a.thread;if(!f||!f.incomingRingSDK.isCallSupported({threadType:d.type,type:"thread"}))h(a);else switch(d.type){case 1:c("promiseDone")(i(babelHelpers["extends"]({},a,{invitees:[d.id]})));break;case 15:if(d.secureOneToOneThreadPeerId==null)throw c("err")("secureOneToOneThreadPeerId should be defined when starting a call from a secure 1:1 thread");c("promiseDone")(i(babelHelpers["extends"]({},a,{invitees:[d.secureOneToOneThreadPeerId]})));break;case 2:case 16:b===null||b.call_state==="NO_ONGOING_CALL"?g(a,function(b){c("promiseDone")(i(babelHelpers["extends"]({},a,{invitees:b})))}):c("promiseDone")(i(babelHelpers["extends"]({},a,{invitees:[]})));break;default:c("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",d.type)}},[f,g,h,i])}return f}}function p(a,b){function c(){var c=l(a),d=b();n(function(){if(c&&d&&d.type==="ringing"){var a=window.setTimeout(function(){c.callInviteModel.decline("NoAnswerTimeout")},o);return function(){window.clearTimeout(a)}}},[c,d])}return c}function q(a){function e(){var e=l(a);return k(function(a){var f=a.existingCall,g=a.extra,i=a.hideE2eeAttributions,j=a.invitees,k=a.isE2eeMandated,l=a.mediaType,m=a.representedID,n=a.thread;a=a.trigger;return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve():d("ZenonPreCallHookBuilderHelper").startCall(e,{existingCall:f,extra:g,hideE2eeAttributions:i,invitees:j,isE2eeMandated:k,mediaType:l,representedID:m,thread:n,trigger:a})},[e])}return e}function r(a){function e(){var e=l(a),f=d("CometRelay").useRelayEnvironment();return k(function(a,g,i,j){return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve(null):d("ZenonPreCallHookBuilderHelper").createMeetup(e,f,a,g,i,j)},[e,f])}return e}function s(a){function e(){var e=l(a);return k(function(a,f){f===void 0&&(f={});if(!c("gkx")("24231"))return(h||(h=b("Promise"))).resolve();f=(f=f)!=null?f:{};var g=f.actorID,i=f.callbackUsers,j=f.mediaType,k=f.referrerContext,l=f.startCallImmediately;f=f.trigger;return d("ZenonPreCallHookBuilderHelper").joinMeetup({actorID:g,callback_users:i,context:e,forceSkipChildLobby:!1,hasVideo:j!=null?j==="video":!0,linkUrl:a,referrerContext:k,startCallImmediately:l,trigger:f})},[e])}return e}g.createAcceptCallCallbackHook=a;g.createCallInviteHook=e;g.createInviteAndStartCallCallbackHookFactory=f;g.createNoAnswerTimeoutHook=p;g.createStartCallCallbackHook=q;g.createCreateMeetupCallbackHook=r;g.createJoinMeetupCallbackHook=s}),98);
__d("RTWebPreCallHooks",["RTWebPreCallContext","ZenonPreCallHookBuilder"],(function(a,b,c,d,e,f,g){"use strict";e=(a=d("ZenonPreCallHookBuilder")).createAcceptCallCallbackHook(b=c("RTWebPreCallContext"));f=a.createCallInviteHook(b);d=a.createNoAnswerTimeoutHook(b,f);c=a.createStartCallCallbackHook(b);var h=a.createCreateMeetupCallbackHook(b),i=a.createJoinMeetupCallbackHook(b);a=a.createInviteAndStartCallCallbackHookFactory(b,c);g.useAcceptCallCallback=e;g.useCallInvite=f;g.useNoAnswerTimeout=d;g.useStartCallCallback=c;g.useCreateMeetupCallback=h;g.useJoinMeetupCallback=i;g.createInviteAndStartCallCallbackHook=a}),98);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallEndReason=function(a){this.$1.call_end_reason=a;return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCameraEnabled=function(a){this.$1.camera_enabled=a;return this};c.setClientAppVersion=function(a){this.$1.client_app_version=a;return this};c.setClientLockStatus=function(a){this.$1.client_lock_status=a;return this};c.setClientMonoTimeMs=function(a){this.$1.client_mono_time_ms=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceNameRaw=function(a){this.$1.conference_name_raw=a;return this};c.setCreationAction=function(a){this.$1.creation_action=a;return this};c.setErrorDetails=function(a){this.$1.error_details=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventDetails=function(a){this.$1.event_details=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setEventFireTimestamp=function(a){this.$1.event_fire_timestamp=a;return this};c.setEventFireTimestampOnClient=function(a){this.$1.event_fire_timestamp_on_client=a;return this};c.setExceptionObject=function(a){this.$1.exception_object=a;return this};c.setExperimentsEnabled=function(a){this.$1.experiments_enabled=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setFalcoBatchSequence=function(a){this.$1.falco_batch_sequence=a;return this};c.setFunnelSessionIDRaw=function(a){this.$1.funnel_session_id_raw=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setGuestUserID=function(a){this.$1.guest_user_id=a;return this};c.setKickedUserID=function(a){this.$1.kicked_user_id=a;return this};c.setLinkShareTo=function(a){this.$1.link_share_to=a;return this};c.setLocalCallID=function(a){this.$1.local_call_id=a;return this};c.setMediaDevices=function(a){this.$1.media_devices=a;return this};c.setMicrophoneEnabled=function(a){this.$1.microphone_enabled=a;return this};c.setOpenLinkFrom=function(a){this.$1.open_link_from=a;return this};c.setOpenLinkFromAppVersion=function(a){this.$1.open_link_from_app_version=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRoomIDRaw=function(a){this.$1.room_id_raw=a;return this};c.setServerInfoData=function(a){this.$1.server_info_data=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStatus=function(a){this.$1.status=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTargetedUserIds=function(a){this.$1.targeted_user_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setThreadSyncRoomData=function(a){this.$1.thread_sync_room_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setUserIdsToBeRemoved=function(a){this.$1.user_ids_to_be_removed=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setVideoCallLinkHashRaw=function(a){this.$1.video_call_link_hash_raw=a;return this};c.setVideoCallLinkIDRaw=function(a){this.$1.video_call_link_id_raw=a;return this};c.setVideoCallLinkIdentifierRaw=function(a){this.$1.video_call_link_identifier_raw=a;return this};c.setVideoCallLinkURLRaw=function(a){this.$1.video_call_link_url_raw=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={call_end_reason:!0,call_id:!0,camera_enabled:!0,client_app_version:!0,client_lock_status:!0,client_mono_time_ms:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,event_details:!0,event_fire_timestamp:!0,event_fire_timestamp_on_client:!0,exception_object:!0,experiments_enabled:!0,falco_batch_sequence:!0,funnel_session_id_raw:!0,group_id:!0,group_size:!0,guest_user_id:!0,kicked_user_id:!0,link_share_to:!0,local_call_id:!0,media_devices:!0,microphone_enabled:!0,open_link_from:!0,open_link_from_app_version:!0,reason:!0,referral_surface:!0,room_id_raw:!0,server_info_data:!0,source:!0,status:!0,surface:!0,targeted_user_ids:!0,thread_sync_room_data:!0,thread_type:!0,user_ids_to_be_removed:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_identifier_raw:!0,video_call_link_url_raw:!0};f["default"]=a}),66);
__d("bs_caml_array",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(!c)return d;b=c.tl;a=c.hd.length+d|0;continue}}function h(a,b,c){while(!0){var d=c,e=b;if(!d)return;var f=d.hd,g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d.tl;b=e;continue}}function b(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function c(a,b,c){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};a[b]=c}function d(a,b){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a[b]}function e(a,b){var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function i(a){var b=new Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function j(b,c,d,e,a){if(e<=c){for(var f=0;f<a;++f)d[f+e|0]=b[f+c|0];return}for(f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0]}function k(a){return a.slice(0)}f.dup=k;f.sub=a;f.concat=b;f.make=e;f.make_float=i;f.blit=j;f.get=d;f.set=c}),null);
__d("bs_curry",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function g(a,c){while(!0){var d=c,e=a,f=e.length;f=f===0?1:f;var h=d.length;h=f-h|0;if(h===0)return e.apply(null,d);if(h>=0)return function(b,a){return function(c){return g(b,a.concat([c]))}}(e,d);c=b("bs_caml_array").sub(d,f,-h|0);a=e.apply(null,b("bs_caml_array").sub(d,0,f));continue}}function h(a,b){var c=a.length;if(c===1)return a(b);else switch(c){case 1:return a(b);case 2:return function(c){return a(b,c)};case 3:return function(c,d){return a(b,c,d)};case 4:return function(c,d,e){return a(b,c,d,e)};case 5:return function(c,d,e,f){return a(b,c,d,e,f)};case 6:return function(c,d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(c,d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b])}}function a(a){var b=a.length;if(b===1)return a;else return function(b){return h(a,b)}}function i(a,b,c){var d=a.length;if(d===2)return a(b,c);else switch(d){case 1:return g(a(b),[c]);case 2:return a(b,c);case 3:return function(d){return a(b,c,d)};case 4:return function(d,e){return a(b,c,d,e)};case 5:return function(d,e,f){return a(b,c,d,e,f)};case 6:return function(d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c])}}function c(a){var b=a.length;if(b===2)return a;else return function(b,c){return i(a,b,c)}}function j(a,b,c,d){var e=a.length;if(e===3)return a(b,c,d);else switch(e){case 1:return g(a(b),[c,d]);case 2:return g(a(b,c),[d]);case 3:return a(b,c,d);case 4:return function(e){return a(b,c,d,e)};case 5:return function(e,f){return a(b,c,d,e,f)};case 6:return function(e,f,g){return a(b,c,d,e,f,g)};case 7:return function(e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d])}}function d(a){var b=a.length;if(b===3)return a;else return function(b,c,d){return j(a,b,c,d)}}function k(a,b,c,d,e){var f=a.length;if(f===4)return a(b,c,d,e);else switch(f){case 1:return g(a(b),[c,d,e]);case 2:return g(a(b,c),[d,e]);case 3:return g(a(b,c,d),[e]);case 4:return a(b,c,d,e);case 5:return function(f){return a(b,c,d,e,f)};case 6:return function(f,g){return a(b,c,d,e,f,g)};case 7:return function(f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e])}}function e(a){var b=a.length;if(b===4)return a;else return function(b,c,d,e){return k(a,b,c,d,e)}}function l(a,b,c,d,e,f){var h=a.length;if(h===5)return a(b,c,d,e,f);else switch(h){case 1:return g(a(b),[c,d,e,f]);case 2:return g(a(b,c),[d,e,f]);case 3:return g(a(b,c,d),[e,f]);case 4:return g(a(b,c,d,e),[f]);case 5:return a(b,c,d,e,f);case 6:return function(g){return a(b,c,d,e,f,g)};case 7:return function(g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e,f])}}function m(a){var b=a.length;if(b===5)return a;else return function(b,c,d,e,f){return l(a,b,c,d,e,f)}}function n(a,b,c,d,e,f,h){var i=a.length;if(i===6)return a(b,c,d,e,f,h);else switch(i){case 1:return g(a(b),[c,d,e,f,h]);case 2:return g(a(b,c),[d,e,f,h]);case 3:return g(a(b,c,d),[e,f,h]);case 4:return g(a(b,c,d,e),[f,h]);case 5:return g(a(b,c,d,e,f),[h]);case 6:return a(b,c,d,e,f,h);case 7:return function(g){return a(b,c,d,e,f,h,g)};default:return g(a,[b,c,d,e,f,h])}}function o(a){var b=a.length;if(b===6)return a;else return function(b,c,d,e,f,g){return n(a,b,c,d,e,f,g)}}function p(a,b,c,d,e,f,h,i){var j=a.length;if(j===7)return a(b,c,d,e,f,h,i);else switch(j){case 1:return g(a(b),[c,d,e,f,h,i]);case 2:return g(a(b,c),[d,e,f,h,i]);case 3:return g(a(b,c,d),[e,f,h,i]);case 4:return g(a(b,c,d,e),[f,h,i]);case 5:return g(a(b,c,d,e,f),[h,i]);case 6:return g(a(b,c,d,e,f,h),[i]);case 7:return a(b,c,d,e,f,h,i);default:return g(a,[b,c,d,e,f,h,i])}}function q(a){var b=a.length;if(b===7)return a;else return function(b,c,d,e,f,g,h){return p(a,b,c,d,e,f,g,h)}}function r(a,b,c,d,e,f,h,i,j){var k=a.length;if(k===8)return a(b,c,d,e,f,h,i,j);else switch(k){case 1:return g(a(b),[c,d,e,f,h,i,j]);case 2:return g(a(b,c),[d,e,f,h,i,j]);case 3:return g(a(b,c,d),[e,f,h,i,j]);case 4:return g(a(b,c,d,e),[f,h,i,j]);case 5:return g(a(b,c,d,e,f),[h,i,j]);case 6:return g(a(b,c,d,e,f,h),[i,j]);case 7:return g(a(b,c,d,e,f,h,i),[j]);default:return g(a,[b,c,d,e,f,h,i,j])}}function s(a){var b=a.length;if(b===8)return a;else return function(b,c,d,e,f,g,h,i){return r(a,b,c,d,e,f,g,h,i)}}f.app=g;f._1=h;f.__1=a;f._2=i;f.__2=c;f._3=j;f.__3=d;f._4=k;f.__4=e;f._5=l;f.__5=m;f._6=n;f.__6=o;f._7=p;f.__7=q;f._8=r;f.__8=s}),null);
__d("bs_belt_Option",["bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,c){if(a!==void 0&&c(b("bs_caml_option").valFromOption(a)))return a}function a(a,c){return g(a,b("bs_curry").__1(c))}function h(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function c(a,c){return h(a,b("bs_curry").__1(c))}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);throw{RE_EXN_ID:"Not_found",Error:new Error()}}function i(a,c,d){if(a!==void 0)return d(b("bs_caml_option").valFromOption(a));else return c}function e(a,c,d){return i(a,c,b("bs_curry").__1(d))}function j(a,c){if(a!==void 0)return b("bs_caml_option").some(c(b("bs_caml_option").valFromOption(a)))}function k(a,c){return j(a,b("bs_curry").__1(c))}function l(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function m(a,c){return l(a,b("bs_curry").__1(c))}function n(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return c}function o(a){return a!==void 0}function p(a){return a===void 0}function q(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function r(a,c,d){return q(a,c,b("bs_curry").__2(d))}function s(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return 1;else if(c!==void 0)return-1;else return 0}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}f.keepU=g;f.keep=a;f.forEachU=h;f.forEach=c;f.getExn=d;f.mapWithDefaultU=i;f.mapWithDefault=e;f.mapU=j;f.map=k;f.flatMapU=l;f.flatMap=m;f.getWithDefault=n;f.isSome=o;f.isNone=p;f.eqU=q;f.eq=r;f.cmpU=s;f.cmp=t}),null);/*FB_PKG_DELIM*/
__d("MAWJobsIndexedDb",["MAWCurrentUser","MAWErrorObject","MAWGetWorkerStatusApi","MAWIndexedDbMetadata","MAWLowLevelApiTypes","MAWQplProxy","MAWTransactionMode","Promise","WAExceededStorageQuota","WALogger","WAWorkerGlobalScope","err","promiseDone","qex","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[JobsDb initialization] upgradeneeded is triggered in another worker. This should not happen."]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[JOB] Setting up the jobs database"]);j=function(){return a};return a}var k=null,l=null,m="jobs";function n(){return c("qex")._("940")}function o(){if(k==null)throw c("err")("JobDB IndexDB should've been initialized");return k}function p(){if(l==null)throw c("err")("JobDB IndexDB should've been initialized");return l.then(function(){return o()})}function a(){return k!=null}var q=[function(a){a=a.target.result;a=a.createObjectStore(m,{autoIncrement:!0,keyPath:"jobId"});a.createIndex("uniqKey","uniqKey")},function(){},function(){}];function e(a){l=null;k=null;return r(a).then(function(){return k.version})}function r(a){if(l!=null)return l;if(k!=null)return(h||(h=b("Promise"))).resolve();var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").jobsDbName(c),f=(a=(c=a)!=null?c:n())!=null?a:q.length;d("MAWGetWorkerStatusApi").setDatabaseStatus(e,d("MAWLowLevelApiTypes").DatabaseState.Initializing);d("MAWGetWorkerStatusApi").setDatabaseApi(e,"native");l=new(h||(h=b("Promise")))(function(a,b){d("WALogger").LOG(j());var c=indexedDB.open(e,f);c.onupgradeneeded=function(a){d("MAWGetWorkerStatusApi").setDatabaseStatus(e,d("MAWLowLevelApiTypes").DatabaseState.Upgrading);for(var b=0;b<q.length;b++){var c=q[b],f=b+1;s(a,f)&&c(a)}};c.onsuccess=function(b){var c=b.target.result;d("MAWGetWorkerStatusApi").setDatabaseStatus(e,d("MAWLowLevelApiTypes").DatabaseState.Open);c.onversionchange=function(){var a;d("WALogger").ERROR(i());c.close();(a=d("WAWorkerGlobalScope").workerGlobalScope.location)==null?void 0:a.reload==null?void 0:a.reload()};k=c;a()};c.onerror=function(){d("MAWGetWorkerStatusApi").setDatabaseStatus(e,d("MAWLowLevelApiTypes").DatabaseState.Error),b(c.error)}});return l}function s(a,b){var c=a.newVersion;a=a.oldVersion;return a<b&&c>=b}function t(a){return a===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function f(a,b,e,f){var g=t(b);return function(b){return function(){for(var h=arguments.length,i=new Array(h),j=0;j<h;j++)i[j]=arguments[j];var m=f!=null?d("MAWQplProxy").startQplUserFlow(f):null,n=function f(h){return p().then(function(c){var e=function(b){b=c.transaction(a,b!=null?t(b):g,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(b);return b.objectStore(a)};return b.apply(void 0,[e].concat(i))}).then(function(a){m==null?void 0:m.endSuccess();return a})["catch"](function(b){m==null?void 0:m.endFail("job_transaction_fail");b=d("MAWErrorObject").getErrorObject(b);if((b==null?void 0:b.name)==="InvalidStateError"&&h===1){l=null;k=null;c("promiseDone")(r());return f(h-1)}throw c("unrecoverableViolation")(e+":"+a+" - Error performing transaction in jobDB transactor v2","maw_db",b?{error:b}:{})})};return n(1)}}}g.getJobsDbVersion=n;g.getJobDB=o;g.isJobDBInitted=a;g.dbMigrations=q;g.makeJobsDbIgnoringPreviousCreations=e;g.makeJobsDb=r;g.makeJobsTransactor=f}),98);
__d("MAWJobPersistenceAccessorsApi",["MAWJobActionsV2","MAWJobsIndexedDb","MAWTransactionMode"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b,c;return{deletePersistedJob:(a=d("MAWJobsIndexedDb")).makeJobsTransactor("jobs",(b=d("MAWTransactionMode")).READWRITE,"deletePersistedJob")((c=d("MAWJobActionsV2")).deletePersistedJob),loadAllJobs:a.makeJobsTransactor("jobs",b.READONLY,"loadAllJobs")(c.readAllPersistedJobs),maybeCreateJob:a.makeJobsTransactor("jobs",b.READWRITE,"maybeCreateJob")(c.maybeCreateJob),readPersistedJob:a.makeJobsTransactor("jobs",b.READONLY,"readPersistedJob")(c.readPersistedJob),updatePersistedJob:a.makeJobsTransactor("jobs",b.READWRITE,"updatePersistedJob")(c.updatePersistedJob)}}g.getJobPersistenceAccessors=a}),98);
__d("WAJobPriorityBucket",["WAJobOrchestratorTypes","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed::markJobTaskDone found jobId: "," in scheduled tasks"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed::markJobTaskPending found jobId: "," in pending tasks"]);i=function(){return a};return a}a=function(){function a(a){this.tasks=[];this.pendingTasks=[];this.lastJobStartedTimestampMs=null;this.jobMaxConcurrency=(a=a.jobMaxConcurrencyMap)!=null?a:{}}var b=a.prototype;b.updateConfig=function(a){this.jobMaxConcurrency=(a=a.jobMaxConcurrencyMap)!=null?a:{}};b.getStats=function(){return[].concat(this.tasks,this.pendingTasks).reduce(function(a,b){var c;c=(c=a[b.jobName])!=null?c:0;a[b.jobName]=c+1;return a},{})};b.next=function(){var a=this;if(this.tasks.length===0)return null;var b=this.pendingTasks.reduce(function(a,b){var c;c=(c=a.get(b.jobName))!=null?c:0;a.set(b.jobName,c+1);return a},new Map()),c=this.tasks.filter(function(c){var e;return((e=b.get(c.jobName))!=null?e:0)<((e=a.jobMaxConcurrency[c.jobName])!=null?e:d("WAJobOrchestratorTypes").DEFAULT_CONCURRENCY)});return c.length>0?[c[0]]:null};b.add=function(a,b,c,d){c={jobId:c,jobInfo:b,jobName:a,run:d};this.tasks.push(c);return c};b.markJobTaskPending=function(a){this.pendingTasks.includes(function(b){return b.jobId===a.jobId})&&d("WALogger").ERROR(i(),a.jobId).sendLogs("JobOrchestrator::markJobTaskPending"),this.lastJobStartedTimestampMs=Date.now(),this.pendingTasks.push(a),this.tasks=this.tasks.filter(function(b){return b.jobId!==a.jobId})};b.markJobTaskDone=function(a){this.pendingTasks=this.pendingTasks.filter(function(b){return b.jobId!==a}),this.tasks.includes(function(b){return b.jobId===a})&&d("WALogger").ERROR(h(),a).sendLogs("JobOrchestrator::markJobTaskDone")};b.count=function(){return this.tasks.length};b.pendingCount=function(){return this.pendingTasks.length};b.clearWaitingTasks=function(){this.tasks=[]};b.clear=function(){this.tasks=[],this.pendingTasks=[]};b.getLastJobStartedTimestamp=function(){return this.lastJobStartedTimestampMs};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.next=function(){var a=this,b,c;if(this.tasks.length===0)return null;var d=this.pendingTasks.reduce(function(a,b){var c;c=(c=a.get(b.jobName))!=null?c:0;a.set(b.jobName,c+1);return a},new Map()),e=this.tasks.filter(function(b){var c;return((c=d.get(b.jobName))!=null?c:0)<((c=a.jobMaxConcurrency[b.jobName])!=null?c:1)});if(e.length===0)return null;b=(b=this.jobMaxConcurrency[e[0].jobName])!=null?b:1;c=(c=d.get(e[0].jobName))!=null?c:0;if(b>1&&c<b){var f=e.filter(function(a){return a.jobName===e[0].jobName});b=Math.min(f.length,b-c);return f.slice(0,b)}return[e[0]]};return b}(a);g.BaseJobBucket=a;g.LowJobBucket=b}),98);
__d("WAMetrics",["Promise","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("WATimeUtils").performanceAbsoluteNow();return new(h||(h=b("Promise")))(function(b){setTimeout(function(){b(d("WATimeUtils").performanceAbsoluteNow()-a)},0)})}g.getEventLoopDelay=a}),98);
__d("WAConcurrentBucketJobQueue",["Promise","WABase64","WACustomError","WAErr","WAJobOrchestratorTypes","WAJobPriorityBucket","WALogger","WAMetrics","WANullthrows","WAPromiseTimeout","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestator]: "," exceeding the timeout, release the thread."]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestator]: updated WAConcurrentBucketJobQueue config"]);j=function(){return a};return a}var k=30,l=new Map([[d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH,5],[d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,1]]);a=function(){function a(){this.$1=!1,this.$2=0,this.$3=0,this.$4=0,this.$5=new Map(),this.$6=new Map(),this.$7=new Map(),this.$9=0}var e=a.prototype;e.init=function(a,b){var e,f,g;if(this.$1)throw c("WAErr")("WAConcurrentBucketJobQueue has already initialized");this.$4=(e=a==null?void 0:a.bestEffortWaitTimeoutSec)!=null?e:k;this.$2=a.maxConcurrency;this.$3=a.maxConcurrency;this.$8=b;this.$7=this.$11(a==null?void 0:a.jobPrioritiesQuota);this.$6=new Map(this.$7);this.$5=new Map();this.$9=Date.now();b=new(d("WAJobPriorityBucket").BaseJobBucket)({jobMaxConcurrencyMap:(e=a.maxConcurrencyPerJob)!=null?e:{}});e=new(d("WAJobPriorityBucket").LowJobBucket)({jobMaxConcurrencyMap:(e=a.maxConcurrencyPerJob)!=null?e:{}});f=new(d("WAJobPriorityBucket").LowJobBucket)({jobMaxConcurrencyMap:(f=a.maxConcurrencyPerJob)!=null?f:{}});g=new(d("WAJobPriorityBucket").BaseJobBucket)({jobMaxConcurrencyMap:(g=a.maxConcurrencyPerJob)!=null?g:{}});a=new(d("WAJobPriorityBucket").BaseJobBucket)({jobMaxConcurrencyMap:(a=a.maxConcurrencyPerJob)!=null?a:{}});this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION,b);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH,b);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.OFFLINE,g);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.HISTORY_SYNC,a);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,e);this.$5.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT,f);this.$1=!0};e.updateConfig=function(a){this.$3+=a.maxConcurrency-this.$2,this.$2=a.maxConcurrency,this.$5.forEach(function(b){return b.updateConfig({jobMaxConcurrencyMap:(b=a.maxConcurrencyPerJob)!=null?b:{}})}),this.$7=this.$11(a==null?void 0:a.jobPrioritiesQuota),d("WALogger").LOG(j())};e.isInitialized=function(){return this.$1};e.clearQueue=function(){if(!this.$1)throw c("WAErr")("WAConcurrentBucketJobQueue not initialized");this.$5.forEach(function(a){return a.clear()})};e.clearQueueByPriority=function(a){if(!this.$1)throw c("WAErr")("WAConcurrentBucketJobQueue not initialized");(a=this.$5.get(a))==null?void 0:a.clearWaitingTasks()};e.getIntStats=function(){var a=this,b=function(b){var c;b=a.$5.get(b);return((c=b==null?void 0:b.count())!=null?c:0)+((c=b==null?void 0:b.pendingCount())!=null?c:0)};return{highPriorityBucketSize:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH),lowPriorityBucketSize:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW),bestEffortPriorityBucketSize:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT)}};e.getStringStats=function(){var a=this,b=function(b){var c=(b=(b=a.$5.get(b))==null?void 0:b.getStats())!=null?b:{};b=Object.keys(c).reduce(function(a,b){var d=a[0];a=a[1];var e=c[b];return e>d?[e,b]:[d,a]},[0,null]);b=b[1];return b};return{highPriorityMaxJob:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH),lowPriorityMaxJob:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW),bestEffortPriorityMaxJob:b(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT)}};e.enqueue=function(a,e,f,g){var i,j=this;if(!this.$1)return(h||(h=b("Promise"))).reject(c("WAErr")("WAConcurrentBucketJobQueue not initialized"));var k,l,m=new(h||(h=b("Promise")))(function(a,b){k=a,l=b}),n=babelHelpers["extends"]({priority:d("WAJobOrchestratorTypes").DEFAULT_JOB_PRIORITY},f),o=this.getJobBucketByType(n.priority);if(!o)return(h||(h=b("Promise"))).reject(c("WAErr")("WAConcurrentBucketJobQueue no bucket for job with name "+a+" was found."));void d("WAMetrics").getEventLoopDelay().then(function(a){(g==null?void 0:g.isActive())&&(g==null?void 0:g.addPoint("measure_event_loop_delay",{"int":{eventLoopDelay:a}}))});g==null?void 0:g.addPoint("scheduling_job",{string:babelHelpers["extends"]({},this.getStringStats(),{priority:n.priority}),"int":babelHelpers["extends"]({},this.getIntStats(),{maxTimeoutMs:(i=f==null?void 0:f.maxTimeoutMs)!=null?i:0})});var p=n.priority+"-"+a+"-"+((i=f==null?void 0:f.jobId)!=null?i:d("WABase64").randomBase64(8));i=o.add(a,n,p,function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.prev=0;j.$8.logJobStarted(p);c.next=4;return b("regeneratorRuntime").awrap(j.$12(e(),f==null?void 0:f.maxTimeoutMs));case 4:a=c.sent;j.$8.logJobCompleted(p);k(a);c.next=13;break;case 9:c.prev=9,c.t0=c["catch"](0),c.t0 instanceof d("WACustomError").TimeoutError?j.$8.logJobTimeout(p):j.$8.logJobError(p),l(c.t0);case 13:case"end":return c.stop()}},null,this,[[0,9]])});this.$8.logJobCreated({jobId:p,jobName:a,jobPriority:n.priority,pendingJobsCount:o.count()});f&&f.priority===d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION&&void this.$13(i);this.$14();return m};e.getAvailableThreadsCount=function(){return this.$3};e.getJobQuotaConfig=function(){return this.$7};e.getRemainingJobCountMap=function(){return this.$6};e.getJobBucketByType=function(a){return this.$5.get(a)};e.getSnapshot=function(a){a=this.getJobBucketByType(a);return!a?null:a.getStats()};e.$11=function(a){var b;!a?b=new Map(l):b=new Map(a);b.set(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT,0);return b};e.$15=function(a){return(a=this.$6.get(a))!=null?a:0};e.$16=function(){this.$6=new Map(this.$7)};e.$17=function(a){var b=this;a===void 0&&(a=!0);var c=0,e=null,f=0;this.$5.forEach(function(a,d){c+=a==null?void 0:a.count();f+=b.$15(d);if(e!=null)return;a.count()>0&&b.$15(d)>0&&(e=a)});var g=e==null||f===0;g&&this.$16();if(this.$18(c,g))return this.getJobBucketByType(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT);return e==null&&a?this.$17(!1):e};e.$18=function(a,b){var c=this;function e(a,b){var c=Date.now();return a>c?!1:c-a<b*1e3}function f(a,b){a=Math.ceil(a-Date.now())+b*1e3;return a>0?a:0}var g=this.getJobBucketByType(d("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT);a=a-((a=g==null?void 0:g.count())!=null?a:0);var h=g==null?void 0:g.getLastJobStartedTimestamp();if((g==null?void 0:g.count())===0)return!1;if(h==null&&e(this.$9,this.$4)){if(this.$10==null){g=f(this.$9,this.$4);this.$10=setTimeout(function(){c.$14(),c.$10=null},g)}return!1}return a>0&&h!=null&&e(h,this.$4)?!1:b};e.$19=function(a){a=this.$20(a);return c("WANullthrows")(this.$5.get(a))};e.$20=function(a){var b=a.split("-")[0];b=d("WAJobOrchestratorTypes").JOB_PRIORITY.cast(b);if(!b)throw c("WAErr")("ConcurrentBucketQueue cannot extract known job priority type from id: "+a);return b};e.$21=function(a){a=this.$20(a);this.$15(a)>0?this.$6.set(a,this.$15(a)-1):this.$6.set(a,0)};e.$14=function(){var a=this;while(this.$3>0){var b=this.$17();b=b==null?void 0:b.next();if(b==null)break;b.forEach(function(b){a.$21(b.jobId),void a.$13(b)})}};e.$12=function(a,b){return b!==void 0?d("WAPromiseTimeout").promiseTimeout(a,b):a};e.$13=function(a){var c=this,e,f,g,h,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:e=this.$19(a.jobId);this.$3--;e.markJobTaskPending(a);f=a.run,g=a.jobId,h=a.jobName;k.prev=4;k.next=7;return b("regeneratorRuntime").awrap(this.$12(f(),((j=a.jobInfo)==null?void 0:j.maxTimeoutMs)===void 0?d("WAJobOrchestratorTypes").DEFAULT_JOB_TIMEOUT_MS:void 0));case 7:k.next=17;break;case 9:k.prev=9;k.t0=k["catch"](4);if(!(k.t0 instanceof d("WACustomError").TimeoutError)){k.next=16;break}this.$8.logJobTimeout(g);d("WALogger").LOG(i(),h);k.next=17;break;case 16:throw k.t0;case 17:k.prev=17;this.$3++;e.markJobTaskDone(g);this.$3>0&&setTimeout(function(){return c.$14()},0);return k.finish(17);case 22:case"end":return k.stop()}},null,this,[[4,9,17,22]])};return a}();g.WAConcurrentBucketJobQueue=a}),98);
__d("WAConcurrentPreemptiveJobQueue",["Promise","WACustomError","WAErr","WAHex","WAJobOrchestratorTypes","WALogger","WAPromiseTimeout","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed::markJobTaskDone found jobId: "," in scheduled tasks"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed::markJobTaskPending found jobId: "," in pending tasks"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestator]: "," exceeding the timeout, release the thread."]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[job-orchestator]: updated ConcurrentPreemptiveJobQueue config"]);l=function(){return a};return a}a=function(){function a(){this.$1=!1,this.$2=0,this.$3=0,this.$4={},this.$5=[],this.$6=[]}var e=a.prototype;e.init=function(a,b){if(this.$1)throw c("WAErr")("ConcurrentPreemptiveJobQueue has already initialized");this.$2=a.maxConcurrency;this.$3=a.maxConcurrency;this.$4=(a=a.maxConcurrencyPerJob)!=null?a:{};this.$7=b;this.$1=!0};e.updateConfig=function(a){this.$3+=a.maxConcurrency-this.$2;this.$2=a.maxConcurrency;this.$4=(a=a.maxConcurrencyPerJob)!=null?a:{};d("WALogger").LOG(l())};e.isInitialized=function(){return this.$1};e.clearQueueByPriority=function(a){if(!this.$1)throw c("WAErr")("ConcurrentPreemptiveJobQueue not initialized");this.$5=this.$5.filter(function(b){return((b=b.jobInfo)==null?void 0:b.priority)!==a})};e.clearQueue=function(){if(!this.$1)throw c("WAErr")("ConcurrentPreemptiveJobQueue not initialized");this.$5=[];this.$6=[]};e.enqueue=function(a,e,f){var g,i=this;if(!this.$1)return(h||(h=b("Promise"))).reject(c("WAErr")("ConcurrentPreemptiveJobQueue not initialized"));var j,k,l=new(h||(h=b("Promise")))(function(a,b){j=a,k=b}),m=babelHelpers["extends"]({priority:d("WAJobOrchestratorTypes").DEFAULT_JOB_PRIORITY},f),n=(g=f==null?void 0:f.jobId)!=null?g:d("WAHex").randomHex(8).substr(0,64);g=this.$8(a,m,n,function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.prev=0;i.$7.logJobStarted(n);c.next=4;return b("regeneratorRuntime").awrap(i.$9(e(),f==null?void 0:f.maxTimeoutMs));case 4:a=c.sent;i.$7.logJobCompleted(n);j(a);c.next=13;break;case 9:c.prev=9,c.t0=c["catch"](0),c.t0 instanceof d("WACustomError").TimeoutError?i.$7.logJobTimeout(n):i.$7.logJobError(n),k(c.t0);case 13:case"end":return c.stop()}},null,this,[[0,9]])});f&&f.priority===d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION&&this.$10(g);this.$11();return l};e.getAvailableThreadsCount=function(){return this.$3};e.getJobMaxConcurrency=function(){return this.$4};e.getSnapshot=function(a){};e.$11=function(){while(this.$3>0){var a=this.$12();if(a==null)break;this.$10(a)}};e.$9=function(a,b){return b!==void 0?d("WAPromiseTimeout").promiseTimeout(a,b):a};e.$10=function(a){var c=this,e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:this.$3--;this.$13(a);e=a.run,f=a.jobId,g=a.jobName;i.prev=3;i.next=6;return b("regeneratorRuntime").awrap(this.$9(e(),((h=a.jobInfo)==null?void 0:h.maxTimeoutMs)===void 0?d("WAJobOrchestratorTypes").DEFAULT_JOB_TIMEOUT_MS:void 0));case 6:i.next=16;break;case 8:i.prev=8;i.t0=i["catch"](3);if(!(i.t0 instanceof d("WACustomError").TimeoutError)){i.next=15;break}this.$7.logJobTimeout(f);d("WALogger").LOG(k(),g);i.next=16;break;case 15:throw i.t0;case 16:i.prev=16;this.$3++;this.$14(f);setTimeout(function(){return c.$11()},0);return i.finish(16);case 21:case"end":return i.stop()}},null,this,[[3,8,16,21]])};e.$8=function(a,b,c,d){d={jobId:c,jobInfo:b,jobName:a,run:d};this.$7.logJobCreated({jobId:c,jobName:a,jobPriority:b.priority,pendingJobsCount:this.$5.length});this.$5.push(d);return d};e.$13=function(a){this.$6.includes(function(b){return b.jobId===a.jobId})&&d("WALogger").ERROR(j(),a.jobId).sendLogs("JobOrchestrator::markJobTaskPending"),this.$6.push(a),this.$5=this.$5.filter(function(b){return b.jobId!==a.jobId})};e.$14=function(a){this.$6=this.$6.filter(function(b){return b.jobId!==a}),this.$5.includes(function(b){return b.jobId===a})&&d("WALogger").ERROR(i(),a).sendLogs("JobOrchestrator::markJobTaskDone")};e.$12=function(){var a=this;if(this.$5.length===0)return null;var b=this.$6.reduce(function(a,b){var c;c=(c=a.get(b.jobName))!=null?c:0;a.set(b.jobName,c+1);return a},new Map()),c=this.$5.filter(function(c){var d;return((d=b.get(c.jobName))!=null?d:0)<((d=a.$4[c.jobName])!=null?d:1)});return c[0]};return a}();g.WAConcurrentPreemptiveJobQueue=a}),98);
__d("WADefaultJobNoQueue",["WAErr","WAHex","WAJobOrchestratorTypes","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$2=!1}var e=a.prototype;e.init=function(a,b){if(this.$2)throw c("WAErr")("DefaultNoQueue has already initialized");this.$1=b;this.$2=!0};e.updateConfig=function(a){};e.isInitialized=function(){return this.$2};e.clearQueue=function(){};e.clearQueueByPriority=function(a){};e.getSnapshot=function(){throw c("WAErr")("getSnapshot is not implemented for DefaultNoQueue")};e.enqueue=function(a,c,e){var f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:h=(f=e==null?void 0:e.jobId)!=null?f:d("WAHex").randomHex(8).substr(0,64);this.$1.logJobCreated({jobId:h,jobName:a,jobPriority:(g=e==null?void 0:e.priority)!=null?g:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,pendingJobsCount:0});j.prev=2;this.$1.logJobStarted(h);j.next=6;return b("regeneratorRuntime").awrap(c());case 6:i=j.sent;this.$1.logJobCompleted(h);return j.abrupt("return",i);case 11:j.prev=11;j.t0=j["catch"](2);this.$1.logJobError(h);throw j.t0;case 15:case"end":return j.stop()}},null,this,[[2,11]])};return a}();g.WADefaultJobNoQueue=a}),98);
__d("WAOrchestratorJobStatsLogger",["WAGlobals","WAPREList","WAPREMetrics"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b,c){this.jobName=a,this.pendingJobsCount=c,this.jobPriority=b}var b=a.prototype;b.logJobAdded=function(){this.webcJobAddedT=Date.now(),this.eventFlow=d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.WA_JOBS_ORCHESTRATOR,{string:{name:this.jobName,jobPriority:this.jobPriority,orchestratorVersion:d("WAGlobals").getConfig().orchestratorVersion()},"int":{pendingJobsCount:this.pendingJobsCount,addedAt:this.webcJobAddedT}})};b.logJobStarted=function(){this.webcJobStartedT=Date.now(),this.eventFlow.addPoint("start_job",{"int":{startedAt:this.webcJobStartedT}})};b.logJobCompleted=function(a){this.webcJobCompletedT=Date.now();this.jobResultType=a;var b={"int":{pendingJobsCount:this.pendingJobsCount,completedAt:this.webcJobCompletedT}};a==="completed"?this.eventFlow.endSuccess(b):this.eventFlow.endFail(a,b)};return a}();a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.logJobCreated=function(a){var b=a.jobName,c=a.jobId,d=a.jobPriority;a=a.pendingJobsCount;b=new h(b,d,a);b.logJobAdded();this.$1.set(c,b)};b.logJobStarted=function(a){a=this.$1.get(a);a==null?void 0:a.logJobStarted()};b.logJobCompleted=function(a){this.$2(a,"completed")};b.logJobError=function(a){this.$2(a,"error")};b.logJobTimeout=function(a){this.$2(a,"timeout")};b.logJobAborted=function(a){this.$2(a,"aborted")};b.$2=function(a,b){var c=this.$1.get(a);c==null?void 0:c.logJobCompleted(b);this.$1["delete"](a)};return a}();g.JobInfoEvent=h;g.JobStatsLogger=a}),98);
__d("WAOrchestrator",["WAConcurrentBucketJobQueue","WAConcurrentPreemptiveJobQueue","WADefaultJobNoQueue","WAGlobals","WAJobOrchestratorTypes","WAOrchestratorJobStatsLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a={maxConcurrency:1},b="default",c={},e=a,f=new(d("WAOrchestratorJobStatsLogger").JobStatsLogger)();return function(g,j){var k;g===void 0&&(g=!1);g=g?b:d("WAGlobals").getConfig().orchestratorVersion();k=(k=i())!=null?k:a;var l;j==null?void 0:j.addPoint("get_orchestrator",{string:{orchestrator:g},"int":{maxConcurrency:k.maxConcurrency,highPriorityQuota:(j=(j=k.jobPrioritiesQuota)==null?void 0:j.get(d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH))!=null?j:0,lowPriorityQuota:(j=(j=k.jobPrioritiesQuota)==null?void 0:j.get(d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW))!=null?j:0}});if(c[g]){h(e,k)&&(e=k,c[g].updateConfig(k));return c[g]}switch(g){case"preemptive":l=new(d("WAConcurrentPreemptiveJobQueue").WAConcurrentPreemptiveJobQueue)();break;case"bucket":l=new(d("WAConcurrentBucketJobQueue").WAConcurrentBucketJobQueue)();break;default:l=new(d("WADefaultJobNoQueue").WADefaultJobNoQueue)();break}l.init(k,f);c[g]=l;e=k;return l}}function h(a,b){var c;if(a.maxConcurrency!==b.maxConcurrency)return!0;if(((c=a.jobPrioritiesQuota)==null?void 0:c.size)!==((c=b.jobPrioritiesQuota)==null?void 0:c.size))return!0;return Object.keys((c=a.maxConcurrencyPerJob)!=null?c:{}).length!==Object.keys((c=b.maxConcurrencyPerJob)!=null?c:{}).length?!0:JSON.stringify(a)!==JSON.stringify(b)}function i(){var a={jobPrioritiesQuota:new Map([[d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH,5],[d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW,1]]),maxConcurrency:5,maxConcurrencyPerJob:{}};return a}g.getInstanceDelegate=a}),98);
__d("WaJobInMemoryAccessors",["Promise","WAHex","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=-1,c=new Map();return{deletePersistedJob:function(a){return(h||(h=b("Promise"))).resolve(c["delete"](a))},loadAllJobs:function(){return(h||(h=b("Promise"))).resolve(Array.from(c.values()))},maybeCreateJob:function(e){var f,g=JSON.stringify([e.type,(f=e.uniqKey)!=null?f:d("WAHex").randomHex(32)]),i={backedOffCount:0,current:e.args,original:e.args,startTime:d("WATimeUtils").unixTime(),step:"$unstarted",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:e.type,uniqKey:g,version:e.version,waitUntil:null,scheduleConfig:e.scheduleConfig};f=function(){var d=a--,e=babelHelpers["extends"]({},i,{jobId:d});c.set(d,e);return(h||(h=b("Promise"))).resolve({id:d,newlyCreated:!0})};if(e.uniqKey!=null){e=Array.from(c.values()).filter(function(a){return a.uniqKey===g});if(e.length===0)return f();var j=null;e.forEach(function(a){a.step!=="$finished"?j=a:c["delete"](a.jobId)});return j!=null?(h||(h=b("Promise"))).resolve({id:j.jobId,newlyCreated:!1}):f()}return f()},readPersistedJob:function(a){a=c.get(a);return(h||(h=b("Promise"))).resolve(a&&babelHelpers["extends"]({},a))},updatePersistedJob:function(a){return(h||(h=b("Promise"))).resolve(c.set(a.jobId,babelHelpers["extends"]({},a)))}}}g.getJobInMemoryAccessors=a}),98);
__d("WAPersistedJobManagerV2",["Promise","WAErr","WAGlobals","WAJids","WAJobOrchestratorTypes","WAJobRequirement","WALogger","WAOrchestrator","WAPREList","WAPREMetrics","WAPersistedJobManager","WAPromiseBackoffs","WAResolvable","WATimeUtils","WaJobInMemoryAccessors","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose([""," waiting on ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," halting because of ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": running in persisted mode"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": running in forced non-persisted mode"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": running in persisted mode"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": running in forced non-persisted mode"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": running in persisted mode"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": running in forced non-persisted mode"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose([""," has been loaded and is marked as deprecated"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["addPersistedJobImplementation called twice for ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["onJobStarted for "," threw exception ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": "," step not found"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose([""," failed with error ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["onJobFinished for "," threw exception ",""]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": finished job"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": Unhandled exception: ",""]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": Unhandled exception. Tried "," times"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": RetryOnBackoff"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": delaying until ",""]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": trim wait from "," to ",""]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["No implementation for ",".",""]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": removing completed, expired job from db"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": skew detected, adjusting accordingly"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["Running deprecated job ",""]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["No implementation for deprecated ",", job deleted"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["No implementation for ",". Maybe it should have been put to the deprecated list?"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": InterruptJob"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": running step"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["Persisted job missing for given ID"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["[JOB MANAGER] Restarting job with the same id"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["",": stuck on the step ",", aborting the job"]);M=function(){return a};return a}var N=1;function O(a){var b=a.code,c=a.annotations;c=c===void 0?{}:c;a=a.eventFlow;var d=a===void 0?P(c):a;return b(d).then(function(a){d.endSuccess();return a})["catch"](function(a){d.endFail("error",{string:{error:""+a}});throw a})}function P(a){a===void 0&&(a={});return d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.WA_JOB_MANAGER,babelHelpers["extends"]({},a,{string:babelHelpers["extends"]({},(a=(a=a)==null?void 0:a.string)!=null?a:{},{userHash:d("WAGlobals").getDependencies().isEmployee()&&d("WAGlobals").getDependencies().isUseridAnnotationEnabled()?d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()).slice(-5):null})}))}a=function(){function a(a){var c=this;this.$1=[];var e=a.isRestartAfterCrash,f=a.accessors,g=a.unfinishedJobEntries,i=a.ignoreForceNonPersistedJobList;this.getOrchestratorDelegate=d("WAOrchestrator").getInstanceDelegate();this.activeJobs=new Map();this.implementationLoaders=new Map();this.implementations=new Map();this.stepBlockers=new WeakMap();this.accessors=f;this.isRestartAfterCrash=e||!1;this.listeners=a.listeners;this.deprecatedJobs=a.deprecatedJobs;this.inMemoryAccessors=d("WaJobInMemoryAccessors").getJobInMemoryAccessors();this.offlineQueueMode=!0;this.$1=i;a.offlineQueueCompletePromise!=null?a.offlineQueueCompletePromise["finally"](function(){c.offlineQueueMode=!1}):this.offlineQueueMode=!1;this.initialJobsPromise=g.then(function(a){var e=[],f=[];a.forEach(function(a){a.stepHardStartCountAfterTimeout>=5?e.push(a):f.push(a)});return(h||(h=b("Promise"))).all(e.map(function(a){d("WALogger").ERROR(M(),R(a),a.step).devConsole(Q(a)).sendLogs("job-stuck-"+a.type);return c.accessors.deletePersistedJob(a.jobId)})).then(function(){f.forEach(function(a){var b=c.$2(a.jobId);if(b.alreadyActive===!0){d("WALogger").ERROR(L());return}b.deferred.resolve(O({code:function(b){return c.$3(a,c.accessors,{eventFlow:b})},annotations:{string:{name:a.type},bool:{offlineQueueMode:c.offlineQueueMode}}}))})})})}var e=a.prototype;e.$4=function(a,e,f){var g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:f===void 0&&(f={});h=this.$2(a);(g=f.eventFlow)==null?void 0:g.addPoint("start_load_and_run",{bool:{skipped:h.alreadyActive}});if(!(h.alreadyActive===!0)){j.next=5;break}return j.abrupt("return",h.deferred);case 5:j.next=7;return b("regeneratorRuntime").awrap(e.readPersistedJob(a));case 7:i=j.sent;if(!(i==null)){j.next=11;break}d("WALogger").ERROR(K()).sendLogs("missing-job-entry");throw c("WAErr")("Persisted job missing for given ID "+a);case 11:h.deferred.resolve(this.$3(i,e,f));return j.abrupt("return",h.deferred.promise);case 13:case"end":return j.stop()}},null,this)};e.$3=function(a,b,c){var e;c===void 0&&(c={});(e=c.eventFlow)==null?void 0:e.addPoint("enqueueing_job",{string:{name:a.type}});return this.getOrchestratorDelegate(((e=a.scheduleConfig)==null?void 0:e.priority)===d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP,c.eventFlow).enqueue(a.type,this.$5(a,b,c),a.scheduleConfig,c.eventFlow)};e.$6=function(a,b,c){var d=this;c===void 0&&(c={});return b.maybeCreateJob(a).then(function(a){var e;a=a.id;(e=c.eventFlow)==null?void 0:e.addPoint("job_persisted",{"int":{jobId:a},bool:{nonPersisted:b===d.inMemoryAccessors}});return a})};e.$2=function(a){var b=this.activeJobs.get(a);if(b!=null)return{alreadyActive:!0,deferred:b};b=new(d("WAResolvable").Resolvable)();this.activeJobs.set(a,b.promise);return{alreadyActive:!1,deferred:b}};e.$5=function(a,b,c){var d=this;return function(){return d.$7(a,b,c)}};e.$8=function(a){var b=this.implementations,c=this.implementationLoaders,d=b.get(a);if(d)return d;d=c.get(a);if(!d)return null;c=d();b.set(a,c);return c};e.$9=function(a,c){if(c==null||c.length===0)return(h||(h=b("Promise"))).resolve();var e=this.stepBlockers,f=e.get(c);f==null&&(f=d("WAJobRequirement").joinRequirements(c.map(function(a){return a()}),T),e.set(c,f));return f(a)};e.$10=function(a,b,c,e,f){var g,h=this;f===void 0&&(f={});var i=a.step;(g=f.eventFlow)==null?void 0:g.addPoint("start_step");var j=b.findIndex(function(a){return a.stepName===i});g=b[j].info(a.current,a.original,U(a,this.isRestartAfterCrash));var k=g.requirements,l=g.code;g=this.$9(a,k);e&&(g=g.then(e));return g.then(function(){var b;d("WALogger").LOG(J(),S(a));(b=f.eventFlow)==null?void 0:b.addPoint("run_step");return l(a.current,a.original,U(a,h.isRestartAfterCrash,f.eventFlow))}).then(function(e){var g;(g=f.eventFlow)==null?void 0:g.addPoint("step_is_complete");if(e instanceof d("WAPersistedJobManager").InterruptJob){d("WALogger").LOG(I(),S(a));return e.result}g=j+1;if(g>=b.length)return e;g=b[g];a.step=g.stepName;a.current=e;a.stepHardStartCountAfterTimeout=0;a.stepFirstStartTime=d("WATimeUtils").unixTime();a.stepUnexpectedErrorCount=0;a.waitUntil=null;a.backedOffCount=0;return c.updatePersistedJob(a).then(function(){return h.$10(a,b,c,void 0,f)})})};e.$7=function(a,c,e){var f,g,i=this,j,k,l,m,n,o,p,q,r,I,J,K,L,M,O;return b("regeneratorRuntime").async(function(P){while(1)switch(P.prev=P.next){case 0:e===void 0&&(e={});j=this.activeJobs,k=this.deprecatedJobs,l=this.listeners,m=l.onJobFinished,n=l.onJobStarted;(f=e.eventFlow)==null?void 0:f.addPoint("run_job");P.next=5;return b("regeneratorRuntime").awrap(this.$8(a.type));case 5:o=P.sent;p=k[a.type];if(o){P.next=23;break}if(p){P.next=15;break}d("WALogger").ERROR(H(),a.type).sendLogs("missing-job-implementation");P.next=12;return b("regeneratorRuntime").awrap(c.deletePersistedJob(a.jobId));case 12:return P.abrupt("return",null);case 15:if(!(p==="NOOP")){P.next=20;break}d("WALogger").WARN(G(),a.type);P.next=19;return b("regeneratorRuntime").awrap(c.deletePersistedJob(a.jobId));case 19:return P.abrupt("return",null);case 20:P.next=22;return b("regeneratorRuntime").awrap(p());case 22:o=P.sent;case 23:q=o;p&&d("WALogger").LOG(F(),a.type);r=(g=a.stepFirstStartTime)!=null?g:d("WATimeUtils").unixTime();a.stepFirstStartTime=r;a.stepUnexpectedErrorCount=a.stepUnexpectedErrorCount||0;a.backedOffCount=a.backedOffCount||0;if(!(a.step===d("WAPersistedJobManager").FINISHED_JOB)){P.next=46;break}I=a.waitUntil;J=d("WATimeUtils").secondsUntil(r);if(!(I!=null&&d("WATimeUtils").isInFuture(I)&&J>0)){P.next=40;break}d("WALogger").LOG(E(),Q(a));I=d("WATimeUtils").castToUnixTime(I-J);if(!d("WATimeUtils").isInFuture(I)){P.next=40;break}a.stepFirstStartTime=d("WATimeUtils").castToUnixTime(r-J);a.waitUntil=I;P.next=40;return b("regeneratorRuntime").awrap(c.updatePersistedJob(a));case 40:if(!(I==null||!d("WATimeUtils").isInFuture(I))){P.next=44;break}d("WALogger").LOG(D(),Q(a));P.next=44;return b("regeneratorRuntime").awrap(c.deletePersistedJob(a.jobId));case 44:j["delete"](a.jobId);return P.abrupt("return",a.current);case 46:K=a.step!==d("WAPersistedJobManager").UNSTARTED_JOB?o.find(function(b){return b.stepName===a.step}):o[0];if(K){P.next=52;break}d("WALogger").ERROR(C(),a.type,a.step).sendLogs("missing-job-step");P.next=51;return b("regeneratorRuntime").awrap(c.deletePersistedJob(a.jobId));case 51:return P.abrupt("return",null);case 52:a.step=K.stepName;L=function f(){var g=a.waitUntil,j=(h||(h=b("Promise"))).resolve();if(g!=null){var k=d("WATimeUtils").futureUnixTime(d("WATimeUtils").DAY_SECONDS);g>k?(d("WALogger").LOG(B(),S(a),g,k),a.waitUntil=k,j=c.updatePersistedJob(a).then(function(){return d("WATimeUtils").delayUntil(k)})):(d("WALogger").LOG(A(),S(a),g),j=d("WATimeUtils").delayUntil(g))}return j.then(function(){var b=function(){a.waitUntil=null;d("WATimeUtils").happenedWithin(r,d("WATimeUtils").DAY_SECONDS)||a.stepHardStartCountAfterTimeout++;return c.updatePersistedJob(a)};return i.$10(a,q,c,b,e)["catch"](function(b){if(b instanceof d("WAPersistedJobManager").RetryOnBackoff){var g;d("WALogger").LOG(z(),S(a));(g=e.eventFlow)==null?void 0:g.addPoint("retry_on_backoff");g=d("WAPromiseBackoffs").getDelay(++a.backedOffCount,b.backoffOptions);a.waitUntil=d("WATimeUtils").futureUnixTime(Math.ceil(g/1e3));a.stepHardStartCountAfterTimeout>0&&--a.stepHardStartCountAfterTimeout;return c.updatePersistedJob(a).then(f)}else{if(!(b instanceof d("WAPersistedJobManager").NonRetryableError)&&a.stepUnexpectedErrorCount<N){(g=e.eventFlow)==null?void 0:g.addPoint("retry_on_unexpected_error");d("WALogger").WARN(y(),S(a),a.stepUnexpectedErrorCount);d("WALogger").WARN(x(),S(a),b);a.stepUnexpectedErrorCount++;return c.updatePersistedJob(a).then(f)}throw b}})})};M=L();O=M.then(function(e){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:d("WALogger").LOG(w(),S(a));f=null;try{f=m(a.jobId,a.type,a.original,e)}catch(b){d("WALogger").ERROR(v(),a.type,b).sendLogs("onJobFinished-threw")}if(!(f!=null&&f>0)){g.next=12;break}a.waitUntil=d("WATimeUtils").futureUnixTime(Math.ceil(f/1e3));a.step=d("WAPersistedJobManager").FINISHED_JOB;a.current=e;a.stepFirstStartTime=d("WATimeUtils").unixTime();g.next=10;return b("regeneratorRuntime").awrap(c.updatePersistedJob(a));case 10:g.next=15;break;case 12:g.next=14;return b("regeneratorRuntime").awrap(c.deletePersistedJob(a.jobId));case 14:j["delete"](a.jobId);case 15:case"end":return g.stop()}},null,this)},function(e){var f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:d("WALogger").ERROR(u(),a.type,e).sendLogs("job-threw-exception-"+a.type);f=q.find(function(b){return b.stepName===a.step});if(f){h.next=6;break}d("WALogger").ERROR(t(),a.type,a.step);h.next=10;break;case 6:g=f.info(a.current,a.original,U(a,i.isRestartAfterCrash));if(!(g.stopRetryIf!=null)){h.next=10;break}h.next=10;return b("regeneratorRuntime").awrap(g.stopRetryIf.onStopRetry(a.current,a.original,U(a,i.isRestartAfterCrash)));case 10:h.next=12;return b("regeneratorRuntime").awrap(c.deletePersistedJob(a.jobId));case 12:j["delete"](a.jobId);case 13:case"end":return h.stop()}},null,this)});try{n(a.jobId,a.type,a.original)}catch(b){d("WALogger").ERROR(s(),a.type,b).sendLogs("onJobStarted-threw")}return P.abrupt("return",O.then(function(){return M}));case 58:case"end":return P.stop()}},null,this)};e.addPersistedJobImplementation=function(a,b){var c=this.implementationLoaders,e=this.deprecatedJobs;if(c.has(a)){d("WALogger").ERROR(r(),a).sendLogs("repeat-job-loader");return}e&&e[a]&&d("WALogger").DEV(q(),a);c.set(a,b)};e.fireAndForget=function(a){var c=this;if(this.$1.indexOf(a.type)===-1){d("WALogger").LOG(p(),a.type);this.fireAndForgetNonPersisted(a);return}d("WALogger").LOG(o(),a.type);O({code:function(d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e={eventFlow:d};f.next=3;return b("regeneratorRuntime").awrap(c.initialJobsPromise);case 3:d.addPoint("initial_jobs_promise_fulfilled");return f.abrupt("return",c.$6(a,c.accessors,e).then(function(a){return c.$4(a,c.accessors,e)}));case 5:case"end":return f.stop()}},null,this)},annotations:{string:{name:a.type},bool:{offlineQueueMode:this.offlineQueueMode}}})};e.waitUntilPersisted=function(a){var c=this,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!(this.$1.indexOf(a.type)===-1)){f.next=4;break}d("WALogger").LOG(n(),a.type);this.fireAndForgetNonPersisted(a);return f.abrupt("return",(h||(h=b("Promise"))).resolve());case 4:d("WALogger").LOG(m(),a.type);e=P({string:{name:a.type},bool:{offlineQueueMode:this.offlineQueueMode}});f.next=8;return b("regeneratorRuntime").awrap(this.initialJobsPromise);case 8:e.addPoint("initial_jobs_promise_fulfilled");return f.abrupt("return",this.$6(a,this.accessors,{eventFlow:e}).then(function(a){O({code:function(b){b={eventFlow:b};return c.$4(a,c.accessors,b)},eventFlow:e})})["catch"](function(a){e.endFail("error",{string:{error:""+a}});throw a}));case 10:case"end":return f.stop()}},null,this)};e.waitUntilCompleted=function(a){var c=this;if(this.$1.indexOf(a.type)===-1){d("WALogger").LOG(l(),a.type);return this.waitUntilCompletedNonPersisted(a)}d("WALogger").LOG(k(),a.type);return O({code:function(d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e={eventFlow:d};f.next=3;return b("regeneratorRuntime").awrap(c.initialJobsPromise);case 3:d.addPoint("initial_jobs_promise_fulfilled");return f.abrupt("return",c.$6(a,c.accessors,e).then(function(a){return c.$4(a,c.accessors,e)}));case 5:case"end":return f.stop()}},null,this)},annotations:{string:{name:a.type},bool:{offlineQueueMode:this.offlineQueueMode}}})};e.fireAndForgetNonPersisted=function(a){var c=this;O({code:function(d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e={eventFlow:d};f.next=3;return b("regeneratorRuntime").awrap(c.initialJobsPromise);case 3:d.addPoint("initial_jobs_promise_fulfilled");return f.abrupt("return",c.$6(a,c.inMemoryAccessors,e).then(function(a){return c.$4(a,c.inMemoryAccessors,e)}));case 5:case"end":return f.stop()}},null,this)},annotations:{string:{name:a.type},bool:{offlineQueueMode:this.offlineQueueMode}}})};e.waitUntilCompletedNonPersisted=function(a){var c=this;return O({code:function(d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e={eventFlow:d};f.next=3;return b("regeneratorRuntime").awrap(c.initialJobsPromise);case 3:d.addPoint("initial_jobs_promise_fulfilled");return f.abrupt("return",c.$6(a,c.inMemoryAccessors,e).then(function(a){return c.$4(a,c.inMemoryAccessors,e)}));case 5:case"end":return f.stop()}},null,this)},annotations:{string:{name:a.type},bool:{offlineQueueMode:this.offlineQueueMode}}})};return a}();function Q(a){return"Job["+a.jobId+"] ("+a.type+")"}function R(a){return"[Job "+a.type+"] "}function S(a){return"Job["+a.jobId+"] ("+a.type+"."+a.step+")"}function T(a,b,c){a==="unsatisfiable"?d("WALogger").LOG(j(),S(c),b):a==="unsatisfied"?d("WALogger").LOG(i(),S(c),b):a}function U(a,b,c){b===void 0&&(b=!1);return{jobStartTime:a.startTime,afterCrash:b,interruptJob:V,eventFlow:c}}function V(a){return new(d("WAPersistedJobManager").InterruptJob)(a)}g.PersistedJobManager=a}),98);
__d("WAWaitForComms",["WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WAResolvable").Resolvable)();function a(){return h.promise}function b(){h.isSettled&&(h=new(d("WAResolvable").Resolvable)())}function c(){h.resolve()}function e(){return!h.resolveWasCalled()}function f(a){return h.reject(a)}g.waitForComms=a;g.commsConnectionLost=b;g.unblockComms=c;g.isStillWaitingForComms=e;g.failComms=f}),98);
__d("MAWJobManager",["MAWBridge","MAWDefinePersistedJob","MAWJobPersistenceAccessorsApi","WAPersistedJobManagerV2","WAWaitForComms","WAWaitForUserUnblocked"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WAPersistedJobManagerV2").PersistedJobManager)({accessors:d("MAWJobPersistenceAccessorsApi").getJobPersistenceAccessors(),deprecatedJobs:{removeCurrentDevice:"NOOP"},ignoreForceNonPersistedJobList:["sendMsg","sendReactionMsg","sendMediaMsg","sendWrittenMsg","linkReactionsToMsgs","downloadAndHandleMedia"],isRestartAfterCrash:!1,listeners:{onJobFinished:function(a,b,c,e){d("MAWBridge").getBridge().fireAndForget("event","onJobFinished",{id:a,originalArgs:c,result:e,type:b},!0);return null},onJobStarted:function(){}},offlineQueueCompletePromise:d("WAWaitForUserUnblocked").waitForUserUnblocked(),unfinishedJobEntries:d("WAWaitForComms").waitForComms().then(function(){return d("MAWJobPersistenceAccessorsApi").getJobPersistenceAccessors().loadAllJobs()})});function a(){return d("MAWDefinePersistedJob").persistedJobsApi}function b(){return h}g.getPersistedJobsApi=a;g.getJobManager=b}),98);
__d("WAJobBuilder",["Promise","WAPersistedJobManager","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){function a(a){this.steps=a}var b=a.prototype;b.step=function(a,b){return this.$1(a,typeof b==="function"?{code:b}:b)};b.$1=function(b,c){var e=c.stopRetryIf,f=c.requirements;c=c.code;f=k(f,c,e);if(e){var g=e.timePassedSeconds;c=e.appCrashed;var h=e.onStopRetry;h=k(null,l(h),e);g!=null&&(f=j(function(a,b,c){a=c.jobStartTime;return d("WATimeUtils").happenedWithin(a,g)},f,h));c&&(f=j(function(a,b,c){a=c.afterCrash;return!a},f,h))}return new a([].concat(this.steps,[{stepName:b,info:f}]))};b.finalStep=function(a,b){var c=this.step(a,b);return{end:function(){return c.steps}}};return a}();function a(){return new i([])}function j(a,b,c){return function(d,e,f){return a(d,e,f)?b(d,e,f):c(d,e,f)}}function k(a,b,c){var d={requirements:a,code:b,stopRetryIf:c};return function(){return d}}function l(a){return function(c,e,f){return(h||(h=b("Promise"))).resolve(a(c,e,f)).then(function(a){return a instanceof d("WAPersistedJobManager").InterruptJob?a:new(d("WAPersistedJobManager").InterruptJob)(a)})}}g.JobBuilder=i;g.definePersistedJob=a}),98);
__d("MAWDefinePersistedJob",["MAWJobManager","Promise","WAJobBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;e={definePersistedJob:function(){return d("WAJobBuilder").definePersistedJob()}};function a(a){var c=d("MAWJobManager").getJobManager();Object.keys(a).forEach(function(d){var e=a[d];c.addPersistedJobImplementation(d,function(){return(h||(h=b("Promise"))).resolve(e)})})}function c(a){var b=d("MAWJobManager").getJobManager();Object.keys(a).forEach(function(c){var d=a[c];b.addPersistedJobImplementation(c,d)})}g.persistedJobsApi=e;g.setMsgrJobImplementations=a;g.setMsgrDeferredJobImplementations=c}),98);/*FB_PKG_DELIM*/
__d("LSPlatformLockState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Waiting:"waiting",Acquired:"acquired",Cleaning:"cleaning",Canceled:"canceled"});f.LockState=a}),66);
__d("MessengerLocksManagerFallback",["MWLocalStorageErrorHandler","WebStorageLockManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WebStorageLockManager").make(a,{onQuotaExceeded:d("MWLocalStorageErrorHandler").onQuotaExceeded})}g["default"]=a}),98);
__d("ReStoreNameUtils",["CurrentMessengerUser"],(function(a,b,c,d,e,f,g){"use strict";a=d("CurrentMessengerUser").getIDorEIMU();b="RestoreIDBMainLock-"+a;c="dbLock-"+a;e="RestoreConcurrency-"+a;f="lsPlatformLock-"+a;d="syncLock-"+a;a="single-instance-pdb-"+a;g.reStoreCMLockName=b;g.reStoreDBLockName=c;g.restoreConcurrencyBroadcastChannelName=e;g.lsPlatformLockBroadcastChannelName=f;g.lsPlatformLockName=d;g.singleTabLockName=a}),98);
__d("saveHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};a.set(c,b);return function(){a["delete"](c)}}f["default"]=a}),66);
__d("LSPlatformSyncLock",["BrowserLockManager","FBLogger","LSPlatformErrorChannel","LSPlatformLockState","LSPlatformLsInitLog","MWBroadcastChannel","MessengerLocksManagerFallback","MessengerLogHistory","Promise","ReStoreNameUtils","Run","asyncToGeneratorRuntime","clearTimeout","emptyFunction","gkx","justknobx","pageID","promiseDone","saveHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init"),j=typeof window!=="undefined"?window:self,k="iwantlock",l="lockRequestOnDemand";f="mw_msgr_mutex";function m(a,e){a===void 0&&(a=j);e===void 0&&(e=function(){return document.hasFocus()});var f=new Map(),g=new Map(),m=d("LSPlatformLockState").LockState.Waiting,n=c("emptyFunction"),o,p=c("gkx")("24155")?d("MWBroadcastChannel").MWBroadcastChannel(d("ReStoreNameUtils").lsPlatformLockBroadcastChannelName):void 0,q=function(){if(!c("gkx")("24155"))return;o!=null&&c("clearTimeout")(o);if(m===d("LSPlatformLockState").LockState.Canceled||m===d("LSPlatformLockState").LockState.Acquired)return;o=c("setTimeout")(function(){e()&&m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("tab has focus and wants to acquire sync lock"),p==null?void 0:p.postMessage(k))},c("justknobx")._("1764"))};function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i.debug("Sync lock acquired"),m=d("LSPlatformLockState").LockState.Acquired,yield (h||(h=b("Promise"))).all(Array.from(f.values()).map(function(a){return a()}))});return s.apply(this,arguments)}function t(){m=d("LSPlatformLockState").LockState.Cleaning,n=c("emptyFunction"),g.forEach(function(a){return a()})}function u(){var b=new AbortController(),f=c("LSPlatformErrorChannel").subscribe(function(e){i.debug("syncLock aborted due to ["+e.name+"] "+e.message),c("FBLogger")("ls_web_init").info("SyncLock aborted due to [%s] %s",e.name,e.message),n(),b.abort(),m=d("LSPlatformLockState").LockState.Canceled,p==null?void 0:p.removeEventListener("message",g),a.removeEventListener("focus",q),f()}),g=function a(g){if(g==null||g.data==null||(g.data!==k||e())&&g.data!==l)return;i.debug("got message from other tab to abort request to sync lock");n();b.abort();f();p==null?void 0:p.removeEventListener("message",a);m=d("LSPlatformLockState").LockState.Waiting;c("promiseDone")(v())};p==null?void 0:p.addEventListener("message",g);return b}function v(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,e=(a=c("BrowserLockManager"))!=null?a:c("MessengerLocksManagerFallback")(c("pageID"));if(e){m=d("LSPlatformLockState").LockState.Waiting;d("LSPlatformLsInitLog").addPoint("sync_lock_start");i.debug("Sync lock requested if available");yield new(h||(h=b("Promise")))(function(a){return e.request(d("ReStoreNameUtils").lsPlatformLockName,{ifAvailable:!0},function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null){i.debug("Attempted to acquire sync lock but it already taken");d("LSPlatformLsInitLog").addPoint("sync_lock_unavailable");a();return}i.debug("Attempted to acquire sync lock and suceeded");yield r();d("LSPlatformLsInitLog").addPoint("sync_lock_acquired");a();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(a){return c.apply(this,arguments)}}())});a=u();m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("Sync lock requested and will wait"),d("LSPlatformLsInitLog").addPoint("sync_lock_requests_again"),c("promiseDone")(e.request(d("ReStoreNameUtils").lsPlatformLockName,{signal:a.signal},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i.debug("Previous attempt to get sync lock failed, getting in queue for when/if it becomes available");yield r();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(b){return a.apply(this,arguments)}}()),function(a){},function(a){if((a==null?void 0:a.name)==="AbortError")i.debug("Aborting attempt to acquire sync lock");else{d("LSPlatformLsInitLog").addPoint("sync_lock_request_failure");throw a}}));d("LSPlatformLsInitLog").addPoint("lock_requested")}else{d("LSPlatformLsInitLog").addPoint("sync_lock_end_failure");throw c("unrecoverableViolation")("No lock manager inited","ls_web_init")}});return w.apply(this,arguments)}p!=null&&(a.addEventListener("focus",q),q(),d("LSPlatformLsInitLog").addPoint("onfocus_set"));d("Run").onBeforeUnload(function(){n()},!1);d("LSPlatformLsInitLog").addPoint("beforeunload_set");return{_getStateInternal:function(){return m},hasLock:function(){return m===d("LSPlatformLockState").LockState.Acquired},onAcquired:function(a){return c("saveHandler")(f,a)},onLost:function(a){return c("saveHandler")(g,a)},onLostOnce:function(a){var b=c("saveHandler")(g,function(){a(),b()})},release:function(){n()},requestLock:v}}var n=null;function a(){n==null&&(n=m());return n}function e(){n!=null&&n.release()}g.SYNC_KEY=f;g.init=m;g.use=a;g.releaseIfExist=e}),98);
__d("ReStoreBinaryEncoding",["I64","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new TextDecoder(),j=new TextEncoder(),k=1,l={true:1,false:2,null:3,undefined:4,emptyString:5,string:6,binary:7,u8binary:8,struct:9,number:10,list:11,i64:12,set:13,map:14},m={boolean:function(a){return a===!0?l.true:l.false},number:function(){return l.number},object:function(a){if(a===null)return l.null;if((h||(h=d("I64"))).isI64(a))return l.i64;if(a instanceof ArrayBuffer)return l.binary;if(a instanceof Uint8Array)return l.u8binary;if(Array.isArray(a))return l.list;if(a instanceof Set)return l.set;return a instanceof Map?l.map:l.struct},string:function(a){return a===""?l.emptyString:l.string},undefined:function(){return l.undefined}};function n(a){return m[typeof a](a)}function o(a,b){a=[a,b];a._tag="i64";return a}var p=j.encodeInto!=null?function(a,b){return j.encodeInto(a,b)}:function(a,b){a=j.encode(a);b.set(a,0);return{written:a.length}};b=function(){function a(){var a=this;this.$1=0;this.$2=[];this.$3=0;this.$4=new DataView(new ArrayBuffer(0));this.$8=function(){a.$3+=a.$5(a.$6());var b=a.$2[a.$3];return b};this.$9=function(){var b=a.$6(),c=a.$4.buffer.slice(a.$4.byteOffset+a.$1,a.$4.byteOffset+b+a.$1);a.$1+=b;return c};this.$10=function(){return new Uint8Array(a.$9(),a.$6(),a.$6())};this.$11=function(){return a.$4.getFloat64((a.$1+=8)-8)};this.$12=function(){var b={},c;while((c=a.$4.getUint8(a.$1++))!==0)b[a.$8()]=a.$13.get(c)();return b};this.$14=function(){var b=[],c;while((c=a.$4.getUint8(a.$1++))!==0)b.push(a.$13.get(c)());return b};this.$15=function(){var b=o(a.$4.getInt32(a.$1),a.$4.getUint32(a.$1+4));a.$1+=8;return b};this.$16=function(){var b=new Set(),c;while((c=a.$4.getUint8(a.$1++))!==0)b.add(a.$13.get(c)());return b};this.$17=function(){var b=new Map(),c;while((c=a.$4.getUint8(a.$1++))!==0)b.set(a.$13.get(a.$4.getUint8(a.$1++))(),a.$13.get(c)());return b};this.$13=new Map([[l.true,function(){return!0}],[l.false,function(){return!1}],[l.null,function(){return null}],[l.undefined,function(){return void 0}],[l.emptyString,function(){return""}],[l.string,this.$8],[l.binary,this.$9],[l.u8binary,this.$10],[l.number,this.$11],[l.struct,this.$12],[l.list,this.$14],[l.i64,this.$15],[l.set,this.$16],[l.map,this.$17]])}var b=a.prototype;b.$5=function(a){return a>>>1^(-(a&1)|0)};b.$6=function(){var a=0,b=!0;for(var d=0;b;d++,this.$1++){if(d>4)throw c("unrecoverableViolation")("expected end of var int","maw_db");var e=this.$4.getUint8(this.$1);b=(e&128)!==0;e=e&-129;a+=e<<7*d}return a};b.$7=function(){this.$1=this.$4.getUint32(0);if(this.$1!==0){while(this.$4.getUint8(this.$1)!==0)this.$2.push(this.$6());this.$1++;var a=this.$4.getUint32(this.$1);a=i.decode(this.$4.buffer.slice(this.$4.byteOffset+this.$1+4,this.$4.byteOffset+a+this.$1+4));var b=0;for(var c=0;c<this.$2.length;c++){var d=this.$2[c];this.$2[c]=a.substr(b,d);b+=d}}this.$1=4};b.decode=function(a){this.$1=0;this.$2=[];this.$3=0;this.$4=new DataView(a.buffer,a.byteOffset,a.byteLength);this.$7();return this.$13.get(this.$4.getUint8(this.$1++))()};return a}();e=function(){function a(){var a=this;this.$1=new ArrayBuffer(65536);this.$2=new Map();this.$3=this.$1;this.$4=new DataView(this.$3);this.$5=4;this.$6=0;this.$7=function(b){if(a.$5+b>a.$3.byteLength){var c=a.$3;a.$3=new ArrayBuffer(Math.max(Math.ceil(a.$3.byteLength*1.5),a.$5+b));new Uint8Array(a.$3).set(new Uint8Array(c));a.$4=new DataView(a.$3)}};this.$9=function(b){b=b;while(b>=128){var c=b&127,d=b>>>7;a.$7(1);a.$4.setUint8(a.$5++,c+128);b=d}a.$7(1);a.$4.setUint8(a.$5++,b)};this.$10=function(){if(a.$2.size>0){a.$4.setUint32(0,a.$5);var b="";for(var c=a.$2.keys(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.$9(f.length);b+=f}a.$7(1+b.length*3+4);a.$4.setUint32(a.$5++,0);f=p(b,new Uint8Array(a.$3,a.$5+4));e=f.written;a.$4.setUint32(a.$5,e);a.$5+=e+4}else a.$7(1),a.$4.setUint32(0,0)};this.$11=function(b){var c=Object.keys(b);for(var d=0;d<c.length;d++){var e=c[d],f=b[e],g=n(f);a.$7(1);a.$4.setUint8(a.$5++,g);a.$12(e);if(g<6)continue;a.$13.get(g)(f)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$12=function(b){var c=a.$2.get(b);c==null&&a.$2.set(b,c=a.$2.size);a.$9(a.$8(c-a.$6));a.$6=c};this.$14=function(b){a.$9(b.byteLength),a.$7(b.byteLength),new Uint8Array(a.$3).set(new Uint8Array(b),a.$5),a.$5+=b.byteLength};this.$15=function(b){a.$14(b.buffer),a.$9(b.byteOffset),a.$9(b.byteLength)};this.$16=function(b){a.$7(8),a.$4.setFloat64(a.$5,b),a.$5+=8};this.$17=function(b){a.$7(8),a.$4.setInt32(a.$5,b[0]),a.$4.setUint32(a.$5+4,b[1]),a.$5+=8};this.$18=function(b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=n(e);a.$7(1);a.$4.setUint8(a.$5++,f);if(f<6)continue;a.$13.get(f)(e)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$19=function(b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];var g=n(e);a.$7(1);a.$4.setUint8(a.$5++,g);var h=n(f);a.$7(1);a.$4.setUint8(a.$5++,h);h>5&&a.$13.get(h)(f);if(g<6)continue;a.$13.get(g)(e)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$13=new Map([[l.struct,this.$11],[l.string,this.$12],[l.binary,this.$14],[l.u8binary,this.$15],[l.number,this.$16],[l.i64,this.$17],[l.list,this.$18],[l.set,this.$18],[l.map,this.$19]])}var b=a.prototype;b.$8=function(a){return a<<1^a>>31};b.encode=function(a){this.$3=this.$1;this.$4=new DataView(this.$3);this.$2=new Map();this.$5=4;this.$6=0;var b=n(a);this.$7(1);this.$4.setUint8(this.$5++,b);b>4&&(this.$13.get(b)(a),this.$10());return new Uint8Array(this.$3,0,this.$5)};return a}();function a(a){var b=new Set();function e(a){if(a==null||a===!0||a===!1||a==="")return 1;if(typeof a==="number"||(h||(h=d("I64"))).isI64(a))return 9;if(typeof a==="string"){if(b.has(a))return 2;b.add(a);return a.length*k+4}if(Array.isArray(a)){var f=2;for(var g=a,i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(i){if(j>=g.length)break;l=g[j++]}else{j=g.next();if(j.done)break;l=j.value}l=l;f+=e(l)}return f}if(a instanceof ArrayBuffer)return a.byteLength+3;if(a instanceof Uint8Array)return a.byteLength+6;if(a instanceof Map){l=0;for(j=a,i=Array.isArray(j),g=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(g>=j.length)break;f=j[g++]}else{g=j.next();if(g.done)break;f=g.value}f=f;var m=f[0];f=f[1];l+=e(m)+e(f)}return l+2}if(typeof a==="object"){m=0;f=Object.keys(a);for(g=0;g<f.length;g++){i=f[g];j=a[i];m+=e(i)+e(j)-2}return m+2}throw c("unrecoverableViolation")("unsupported type: "+typeof a,"messenger_web_product")}return e(a)+4+(b.size?5:0)}g.Decoder=b;g.Encoder=e;g.estimateSize=a}),98);
__d("ReStoreDbConfigStore",["asyncToGeneratorRuntime","promiseFromRequest","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_config",i="name",j="epoch",k="main",l="dbCorruption";function m(a){a=a.objectStoreNames;return a.contains("_db_config")}function a(a,b){if(m(a))return;a=a.createObjectStore(h,{autoIncrement:!0,keyPath:i});a.createIndex(i,i,{unique:!0});a.add(b);a.put({name:j,value:c("uuidv4")()})}function d(a){return c("promiseFromRequest")(a.objectStore(h).get(l))}function e(a,b){a=a.objectStore(h);return c("promiseFromRequest")(a.put({name:l,value:b+1}))}function n(a){return c("promiseFromRequest")(a.objectStore(h).get(k))}function f(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield n(a));b=!b.isEqual(a);return b});return o.apply(this,arguments)}g.CONFIG_STORE_NAME=h;g.CACHE_VERSION_KEY=j;g.DB_CONFIG_KEY=k;g.createDbConfig=a;g.readCorruptionFailuresFromConfig=d;g.writeCorruptionFailuresToConfig=e;g.readDbConfig=n;g.detectConfigMismatch=f}),98);
__d("ReStoreErrorAction",["ClientConsistencyEventEmitter","LSPlatformSyncLock","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","ls_forced_refresh");break;default:h()}}function h(){c("ClientConsistencyEventEmitter").emit("softRefresh","ls_forced_refresh")}function b(){d("LSPlatformSyncLock").releaseIfExist()}g.refresh=a;g.softRefresh=h;g.stopClient=b}),98);
__d("ReStoreDbVersionChange",["ReStoreErrorAction"],(function(a,b,c,d,e,f,g){"use strict";var h="LS DB changed version",i="ReStoreDbVersionChange";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c=h;b=a.call(this,c)||this;b.message=c;b.name=i;d("ReStoreErrorAction").stopClient();d("ReStoreErrorAction").refresh();return b}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.ReStoreDbVersionChange=a}),98);
__d("ReStoreEARInit",["FBLogger","IndexedDbPolyfills","MAWCryptoConsts","MAWEARGenNewKeychainCryptoKey","MAWGenKeychainCryptoKeyWithVersion","MWEARKeychainV3Errors","Promise","ReStoreEARSetupFailure","WATimeUtils","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;b("IndexedDbPolyfills");var i="browserEncryptionMeta";function a(a){a.createObjectStore(i)}var j=function(a){var b=Array.from(a.databaseEncryptionKeys.keys());b.length>0?a.latestVersion=Math.max.apply(Math,b):c("FBLogger")("maw_db").warn("No Ear Keys to set as latest")};function e(a,b){var c=a.databaseEncryptionKeys.get(b);if(c==null)throw new(d("MWEARKeychainV3Errors").EARKeychainNotFoundError)("EAR Key "+b+" was null. Latest version: "+a.latestVersion);return{key:c,version:b}}function k(a){a=a.objectStore(i);var c=a.openCursor(),d=[];return new(h||(h=b("Promise")))(function(a,b){c.onsuccess=function(b){b=b.target.result;if(b){var c=b.primaryKey,e=b.value;d.push(babelHelpers["extends"]({version:c},e));b["continue"]()}else a(d)},c.onerror=function(a){b(a)}})}function f(a,b,c){a=a.objectStore(i);a.add(c,b)}function l(a){return a.length===0||!d("WATimeUtils").isInFuture(a[a.length-1].expiration)}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("MAWEARGenNewKeychainCryptoKey")());a=babelHelpers["extends"]({},a,{version:d("MAWCryptoConsts").VERSION});return a});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b==null?void 0:b.addPoint("ear_gen_start");a=a.transaction([i],"readonly");a=(yield k(a));if(l(a)){var d=(yield c("MAWEARGenNewKeychainCryptoKey")());a=(a=(a=a[a.length-1])==null?void 0:a.version)!=null?a:0;d=babelHelpers["extends"]({},d,{version:a+1});b==null?void 0:b.addPoint("ear_gen_end");return d}else{b==null?void 0:b.addPoint("ear_gen_skip");return null}});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("gkx")("1838"))throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Testing EAR setup failure");a=a.transaction([i],"readonly");a=(yield k(a));l(a)&&c("FBLogger")("maw_db").mustfix("Shouldn't be generating a new ear key");a=(yield (h||(h=b("Promise"))).allSettled(a.map(function(a){return c("MAWGenKeychainCryptoKeyWithVersion")(a.key,a.seed,a.version,a.formatVersion,a.accountKeyString,a.userKeyBaseString,a.appIdOrigin)})));for(var f of a)if(f.status==="fulfilled"){var g=f.value;e.databaseEncryptionKeys.set(g.version,g.key)}j(e);g=Array.from(a?a.values():[]).find(function(a){return a.status==="rejected"});if(g&&g.status==="rejected")throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)(g.reason)});return r.apply(this,arguments)}function s(a,b){b.databaseEncryptionKeys["delete"](a)}function t(a,b,d){c("promiseDone")(c("MAWGenKeychainCryptoKeyWithVersion")(b.key,b.seed,a,b.formatVersion,b.accountKeyString,b.userKeyBaseString,b.appIdOrigin).then(function(a){d.databaseEncryptionKeys.set(a.version,a.key),j(d)}))}g.EAR_STORE_NAME=i;g.createEARStore=a;g.setLatestVersion=j;g.getDbEncryptionKey=e;g.fetchAll=k;g.storeEARKey=f;g.generateKeyWithDefaultVersion=m;g.generateEARKey=o;g.initEAR=q;g.deleteKeys=s;g.rotateKeys=t}),98);
__d("ReStoreEncryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreEncryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted Restore was unable to encrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreEncryptionFailure=a}),66);
__d("ReStoreIndexedDbCreatedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbOpenedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("createReStoreIndexedDbPersistence",["BrowserLockManager","ClientConsistency","CurrentMessengerUser","Deferred","ExecutionEnvironment","FBLogger","MAWCryptoConsts","MAWKeychainNaClCrypto","MWBroadcastChannel","MessengerLocksManagerFallback","ODS","ReStoreBinaryEncoding","ReStoreDbClosedError","ReStoreDbConfigStore","ReStoreDbVersionChange","ReStoreDecryptionFailure","ReStoreEARInit","ReStoreEARSetupFailure","ReStoreEncryptionFailure","ReStoreErrorAction","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbCreatedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbOpenedEvent","ReStoreIndexedDbUpgradedEvent","ReStoreIndexeddbPersistenceInitFailure","ReStorePersistence","ReStoreTabNotifier","ReStoreUnexpectedlyClosed","WAExceededStorageQuota","clearTimeout","gkx","justknobx","nullthrows","pageID","promiseDone","promiseFromRequest","qex","recoverableViolation","setTimeout","tweetnacl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("CurrentMessengerUser").getIDorEIMU(),k=4096,l=new Set([d("ReStoreDbConfigStore").CONFIG_STORE_NAME]),m=new(d("ReStoreBinaryEncoding").Encoder)(),n=new(d("ReStoreBinaryEncoding").Decoder)();function o(a,b,e,f){if(a==null){a===null&&c("FBLogger")("maw_db").mustfix("Attempting to decrypt null. This should never happen",String((i||(i=c("ExecutionEnvironment"))).isInWorker));return a}var g=new Uint8Array(a);try{g=g[1];f=d("ReStoreEARInit").getDbEncryptionKey(f,g);f=f.key;var h=3;a=d("tweetnacl").secretbox.open(new Uint8Array(a,h+d("tweetnacl").secretbox.nonceLength),new Uint8Array(a,h,d("tweetnacl").secretbox.nonceLength),new Uint8Array(f));if(a==null){throw new(d("MAWKeychainNaClCrypto").EARDecryptionError)("ReStore was unable to decrypt an entity. Attempting to use key version : "+((h=g)!=null?h:"non-provided")+".")}return n.decode(a)}catch(a){f=new(d("ReStoreDecryptionFailure").ReStoreDecryptionFailure)(a.message,b);e(f);throw f}}function p(a,b,c){try{c=d("ReStoreEARInit").getDbEncryptionKey(c,c.latestVersion);var e=c.key;c=c.version;c=new Uint8Array([0,c,d("MAWCryptoConsts").CIPHER_ID]);var f=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);a=d("tweetnacl").secretbox(m.encode(a),f,new Uint8Array(e));e=new Uint8Array(c.length+f.length+a.length);e.set(c);e.set(f,c.length);e.set(a,c.length+f.length);return e.buffer}catch(a){throw new(d("ReStoreEncryptionFailure").ReStoreEncryptionFailure)(a.message,b)}}function q(a){for(a of a.values())if(a.size!==0)return!1;return!0}function r(a,b){var c=[];a=new Set(a);for(var d of a)b.objectStoreNames.contains(d)||c.push(d);d=[];for(var e=0;e<b.objectStoreNames.length;e++){var f=b.objectStoreNames[e];!a.has(f)&&!l.has(f)&&d.push(f)}if(c.length!==0||d.length!==0)return[c,d]}function s(a,b,c,d){d===void 0&&(d={});if(c==null){b.debug("Schema doesn't have changes to apply");return}b.debug("Schema has changes to apply");b=c[0];c=c[1];b.forEach(function(b){a.objectStoreNames.contains(b)||(d[b]!=null?d[b](a):a.createObjectStore(b,{autoIncrement:!0}))});c.forEach(function(b){a.objectStoreNames.contains(b)&&a.deleteObjectStore(b)})}function t(a,b,e,f,g,h){function j(a){e(new(c("ReStoreIndexedDbClosedEvent"))(a.target,new(d("ReStoreDbVersionChange").ReStoreDbVersionChange)())),g.debug("DB onversionchange TABID="+c("pageID")),c("FBLogger")("maw_db").info("[pdb] onversionchange inWorker=%s",String((i||(i=c("ExecutionEnvironment"))).isInWorker)),f.endFail("version_change")}return new Promise(function(g,i){var k=c("setTimeout")(function(){f.addPoint("pdb_open_timeout"),i(new(d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure)("IndexedDB onsuccess and onerror were never called for indexeddb"))},1e4),l=indexedDB.open(a,h);l.onupgradeneeded=function(a){var d=a.oldVersion;a=a.target;var g=a.result;a=a.transaction;c("clearTimeout")(k);f.addPoint("onupgradeneeded_start");b(g,a);e(d===0?new(c("ReStoreIndexedDbCreatedEvent"))():new(c("ReStoreIndexedDbUpgradedEvent"))());f.addPoint("onupgradeneeded_finish")};l.onerror=function(a){c("clearTimeout")(k),f.addPoint("failed_to_open_pdb"),i(new(d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure)("indexeddb failed to open")),c("FBLogger")("maw_db").catching(a).mustfix("Fail to open indexeddb"),e(new(c("ReStoreIndexedDbFailToOpenEvent"))())};l.onsuccess=function(a){var b=a.target.result;c("clearTimeout")(k);b.addEventListener("versionchange",j);b.onclose=function(){e(new(c("ReStoreIndexedDbClosedEvent"))(b,new(d("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed)()))};e(new(c("ReStoreIndexedDbOpenedEvent"))());g(b)}})}async function u(a,b,d){a=a.objectStore(b);if(!("getAll"in a)||!("getAllKeys"in a))return new Map();var e=await c("promiseFromRequest")(a.getAllKeys());e=e.length>d?e[e.length-d]:void 0;e=e!=null?IDBKeyRange.lowerBound(e,!1):void 0;a=await Promise.all([c("promiseFromRequest")(a.getAllKeys(e,d)),c("promiseFromRequest")(a.getAll(e,d))]);e=a[0];d=a[1];if(e.length!==d.length){c("recoverableViolation")("Error pre-caching "+b+" IDB table","maw_db");return new Map()}a=new Map();for(b=0;b<e.length;++b)a.set(e[b],{status:"encrypted",value:d[b]});return a}async function v(a,b,d){var e;d.addPoint("cache_start");var f=(e=c("qex")._("338"))!=null?e:100;try{e=Array.from(a.objectStoreNames).filter(function(a){return!a.startsWith("_")});var g=a.transaction([].concat(e),"readonly");await Promise.all(e.map(async function(a){var c=await u(g,a,f);b.set(a,c)}));d.addPoint("cache_end")}catch(a){c("recoverableViolation")("Error initting ReStore cache","maw_db",{error:a}),d.addPoint("cache_failed"),b.clear()}return a}async function w(a,b,e,f,g,h,j){var k=[].concat(b,[d("ReStoreEARInit").EAR_STORE_NAME]),l=(b={},b[d("ReStoreEARInit").EAR_STORE_NAME]=d("ReStoreEARInit").createEARStore,b),m;try{g.addPoint("generate_ear_key_default_start"),m=await d("ReStoreEARInit").generateKeyWithDefaultVersion(),g.addPoint("generate_ear_key_default_end")}catch(a){g.addPoint("generate_ear_key_default_failed"),c("FBLogger")("maw_db").catching(a).mustfix("EAR generateKeyWithDefaultVersion failed")}function n(b,a){g.addAnnotations({bool:{dbEmpty:!0}});d("ReStoreDbConfigStore").createDbConfig(b,f.defaultConfig);for(var c of k)l[c]!=null?l[c](b):b.createObjectStore(c,{autoIncrement:!0});if(m!=null){b=m;c=b.version;b=babelHelpers.objectWithoutPropertiesLoose(b,["version"]);d("ReStoreEARInit").storeEARKey(a,c,b)}}g.addPoint("idb_open_start");b=await t(a,n,e,g,h);g.addPoint("idb_open_end");var o=b.transaction(d("ReStoreDbConfigStore").CONFIG_STORE_NAME,"readonly");o=await Promise.all([d("ReStoreDbConfigStore").detectConfigMismatch(o,f),d("ReStoreDbConfigStore").readCorruptionFailuresFromConfig(o).then(function(a){return(a=a==null?void 0:a.value)!=null?a:0})]);var p=o[0];o=o[1];var q=o>0;q&&(c("FBLogger")("maw_db").info("[pdb] opening corrupted db failures=%s inWorker=%s",String(o),String((i||(i=c("ExecutionEnvironment"))).isInWorker)),h.debug("DB corrupted, deleting db"));p&&h.debug("DB config mismatch, deleting db");g.addAnnotations({bool:{configMismatch:p,dbCorruptionOccured:q}});if(p||q)b.close(),g.addPoint("delete_db_start"),await c("promiseFromRequest")(indexedDB.deleteDatabase(a)),g.addPoint("delete_db_end"),g.addPoint("reopen_db_start"),b=await t(a,n,e,g,h),g.addPoint("reopen_db_end");else{var u=r(k,b),v=await d("ReStoreEARInit").generateEARKey(b,g);(u!=null||v!=null)&&(h.debug("Schema mismatch, bumping db version"),b.close(),g.addPoint("mismatch_start"),b=await t(a,function(a,b){s(a,h,u,l);if(v!=null){a=v.version;var c=babelHelpers.objectWithoutPropertiesLoose(v,["version"]);d("ReStoreEARInit").storeEARKey(b,a,c)}},e,g,h,b.version+1),g.addPoint("mismatch_end"))}try{g.addPoint("ear_keys_init_start"),await d("ReStoreEARInit").initEAR(b,j),g.addPoint("ear_keys_init_end")}catch(f){g.addPoint("ear_keys_init_failed");b.close();c("FBLogger")("maw_db").catching(f).mustfix("EAR failed to init as part of ReStore");c("promiseDone")(c("promiseFromRequest")(indexedDB.deleteDatabase(a)),function(a){},function(a){return c("FBLogger")("maw_db").catching(a).warn("Failed to delete DB")});e(new(c("ReStoreIndexedDbClosedEvent"))(b,new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Failed to setup EAR in Restore")));throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Failed to setup EAR in Restore")}return b}function a(a,b,e,f,g){var l=Object.keys(b.tableNames),m={accountKey:null,databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION},n=f.logHistory,r=f.transactionLockQplLogger,s=f.userFlow,u=j+"-"+a,x="dbLock-"+u,y=!0,z,A=[],B=null,C=!1;n.debug("PDB is ON");s.addPoint("init_idb_start");b="mwChat-flushchanges-"+j+"-"+a;var D=d("MWBroadcastChannel").MWBroadcastChannel(b),E=void 0,F=new Map(),G=c("nullthrows")((b=c("BrowserLockManager"))!=null?b:c("MessengerLocksManagerFallback")(c("uuidv4")().toString())),H=new AbortController(),I=U(),J;I==null?void 0:I.onEventReceive("abortTransaction",function(){c("FBLogger")("maw_db").mustfix("Request to abort transaction: %s",J)});var K=new Promise(function(b,d){var f=r.startTracking(!0,void 0,x);f.addAnnotations({string:{source:"createReStoreIndexedDbPersistence",type:"initDB"}});f.mark("lock_requested");var g=c("setTimeout")(function(){I==null?void 0:I.postMessage("abortTransaction")},15e3);c("promiseDone")(G.request(x,{signal:H.signal},async function(){J="idbPromise";c("clearTimeout")(g);f.mark("lock_granted");try{var h=await w(a,l,L,e,s,n,m);f.mark("db_initialized");D.addEventListener("message",R);b(h);f.end();J=null}catch(a){d(a);c("FBLogger")("maw_db").catching(a).warn("[pdb] dbLock initDB issue");f.fail();J=null;throw a}}),function(a){f.end()},function(a){J=null,c("FBLogger")("maw_db").catching(a).warn("[pdb] dbLock idbPromise issue"),f.fail()})});c("promiseDone")(K.then(function(){s.addPoint("init_idb_end")}));c("qex")._("403")&&c("promiseDone")(W(function(){return Promise.resolve([function(){return K.then(function(a){return v(a,F,s)})},"readonly"])},"initCache"));function L(a){a instanceof c("ReStoreIndexedDbClosedEvent")?(H.abort(),a.idb.close(),y=!1,D.removeEventListener("message",R)):a instanceof c("ReStoreIndexedDbFailToOpenEvent")&&H.abort(),H=new AbortController(),g==null?void 0:g(a)}function M(a,b,c){c=a.transaction(c!=null&&c.length>0?c:a.objectStoreNames,b,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(c);return c}function N(a){var b=F.get(a);b==null&&(b=new Map(),F.set(a,b));return b}async function O(a){return(a=await Q(function(a){return c("promiseFromRequest")(a.objectStore(d("ReStoreDbConfigStore").CONFIG_STORE_NAME).get(d("ReStoreDbConfigStore").CACHE_VERSION_KEY))},"readonly",a))==null?void 0:a.value}function P(){if(B)return;B=new Promise(async function(a){var b;try{var d=async function(){if(z==null){var a;b=(a=b)!=null?a:await K;var d=M(b,A.some(function(a){return a.writemode==="readwrite"||a.expectingWrite})?"readwrite":"readonly");d.onabort=function(){z===d&&(z=null)};z=d}var e=z;a=[];for(var f of A){if(f.writemode==="readwrite"){e.mode==="readwrite"&&a.push(f);z=null;break}a.push(f)}A.splice(0,a.length);a.length&&await Promise.all(a.map(function(a){a=a.thunk;return a(e)}));!A.length&&z!=null&&await c("promiseFromRequest")(z.objectStore(z.objectStoreNames[0]).get(""))};while(A.length)await d();(d=z)==null?void 0:d.commit==null?void 0:d.commit()}finally{z=null,a(),B=null}})}function Q(a,b,c){c===void 0&&(c=!1);return new Promise(function(d,e){A.push({expectingWrite:c,thunk:async function(b){var c;try{c=await a(b)}catch(a){e(a);return}d(c)},writemode:b}),P()})}function R(a){a=a.data;var b=a.changeSet,d=a.fromVersion,e=a.sentinelDeleted;a=a.toVersion;if(C){c("FBLogger")("maw_db").info("[pdb] unexpected cache update received after verifying cache matches db, ignoring");return}E!==d&&E!=null&&(F.clear(),c("FBLogger")("maw_db").info("[pdb] out of order cache update received"));E=a;b.forEach(function(a,b){var c=N(b);a.forEach(function(a,b){a===e?c.delete(b):c.set(b,{status:"decrypted",value:a})})})}function S(){if(!y)return;c("promiseDone")(K,async function(a){var b;a=M(a,"readwrite");b=(b=(b=await d("ReStoreDbConfigStore").readCorruptionFailuresFromConfig(a))==null?void 0:b.value)!=null?b:0;await d("ReStoreDbConfigStore").writeCorruptionFailuresToConfig(a,b)})}function T(){c("promiseDone")(K,function(a){L(new(c("ReStoreIndexedDbClosedEvent"))(a))})}function U(){var a="restore-table-"+u;a=(i||(i=c("ExecutionEnvironment"))).isInBrowser?c("ReStoreTabNotifier")(a):void 0;return a}function V(){if(!y){f.logHistory.error("DB closed, transaction failed");f.userFlow.addPoint("db_closed");throw new(c("ReStoreDbClosedError"))()}}async function W(a,b){await K;c("gkx")("2138")&&V();if(c("gkx")("23662")&&c("justknobx")._("1699")){var e=c("ClientConsistency").getAdditionalRevisions();e.size>0&&(c("FBLogger")("maw_db").info("[pdb] js mismatch detected"),d("ReStoreErrorAction").softRefresh())}return new Promise(function(d,e){var f=r.startTracking(!0,void 0,x);f.addAnnotations({string:{source:"createReStoreIndexedDbPersistence",type:"runExclusivelyLock"}});f.mark("lock_requested");c("promiseDone")(G.request(x,{signal:H.signal},async function(){J=b;f.mark("lock_granted");var g=await a(),h=g[0];g=g[1];try{g=await O(g==="readwrite");f.mark("cache_version_read");E!==g&&E!=null&&(f.mark("cache_clearing"),F.clear(),c("FBLogger")("maw_db").info("[pdb] cache dropped, out of date cache version"),f.mark("cache_cleared"));E=g;C=!0;g=await h();C=!1;d(g);f.end();J=null}catch(a){C=!1;e(a);f.fail();J=null;throw a}}),function(a){f.end()},function(a){J=null,f.fail()})})}async function X(b,e){e=e.upgrade;if(!y)return;var f=c("uuidv4")(),g=c("nullthrows")(E);async function h(a){var e=new Promise(function(e,h){a.oncomplete=function(a){try{D.postMessage({changeSet:b,fromVersion:g,sentinelDeleted:d("ReStorePersistence").sentinelDeleted,toVersion:f})}catch(a){c("recoverableViolation")("Failed to broadcast changes","maw_db",a)}e(a.target.result)},a.onerror=a.onabort=function(a){E=null,F.clear(),h(a)}}),h=!1;for(var i of b){var j=i[0],k=i[1],l=a.objectStore(j);for(k of k){var n=k[0],o=k[1],q;if(o===d("ReStorePersistence").sentinelDeleted)q=l.delete(n);else{o=p(o,j,m);q=l.put(o,n)}q.onerror=function(){return h=!0}}}await c("promiseFromRequest")(a.objectStore(d("ReStoreDbConfigStore").CONFIG_STORE_NAME).put({name:d("ReStoreDbConfigStore").CACHE_VERSION_KEY,value:f}));h?a.abort():a.commit!=null&&a.commit();await e}function i(){Array.from(b).forEach(function(a){var b=a[0];a=a[1];var c=N(b);Array.from(a).forEach(function(a){var b=a[0];a=a[1];a===d("ReStorePersistence").sentinelDeleted?c.delete(b):c.set(b,{status:"decrypted",value:a})})}),E=f}if(q(b))return;var j=await K;if(e===!0){c("FBLogger")("maw_db").info("[pdb] Updating IDB version, fromVersion: %s, non-empty tables: %s",j.version,Array.from(b.entries()).filter(function(a){a[0];a=a[1];return a.size>0}).map(function(a){a=a[0];return a}).sort().toString());await B;(e=z)==null?void 0:e.abort();z=null;j.close();F.clear();E=null;K=async function(){var b=new(c("Deferred"))(),d=await t(a,function(a,d){i(),c("promiseDone")(h(d),function(){b.resolve()},function(a){c("FBLogger")("maw_db").catching(a).warn("Failed to complete db flush"),b.reject("Failed to complete db flush")})},L,s,n,j.version+1);await b.getPromise();return d}();await K;return}if(b.size===0)return;i();e=Array.from(b.keys());e.push(d("ReStoreDbConfigStore").CONFIG_STORE_NAME);return Q(function(a){return h(a)},"readwrite")}function Y(b){c("promiseDone")(K,function(e){L(new(c("ReStoreIndexedDbClosedEvent"))(e,b));e=indexedDB.deleteDatabase(a);e.onerror=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","error.persistence"),c("recoverableViolation")("[pdb] Failed to delete db","maw_db")};e.onblocked=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","block.persistence")};e.onsuccess=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","success.persistence")}})}return{abortTransaction:function(){H.abort()},clearCache:function(){F.clear()},close:T,flush:X,get:function(a,b,d){try{var e=N(b);if(e.has(d)){a=e.get(d);if((a==null?void 0:a.status)==="encrypted"){var f=o(a.value,b,Y,m);e.set(d,{status:"decrypted",value:f});return f}return a==null?void 0:a.value}else{if(!y)return new Promise(function(){});var g=Q(function(a){return c("promiseFromRequest")(a.objectStore(b).get(d))},"readonly").then(function(a){var c=e.get(d);if((c==null?void 0:c.value)!==g)return c==null?void 0:c.value;c=o(a,b,Y,m);e.set(d,{status:"decrypted",value:c});return c});e.set(d,{status:"pending",value:g});return g}}catch(a){c("FBLogger")("maw_db").catching(a).warn("Error occurs in indexeddb persistence get");throw a}},isClosed:function(){return!y},isPersistenceSupported:async function(){try{await K;return!0}catch(a){return!1}},logError:function(a,b,d,e){if(d==="dbCorruption"){b==="readwrite"&&S();throw c("FBLogger")("maw_db").mustfixThrow("Got unexpected undefined in pdb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:function(a){return a()},runExclusively:W,shouldApplySync:function(){return!0},shouldInline:function(a,b){return d("ReStoreBinaryEncoding").estimateSize(b)<k},shouldSync:function(a,b){return a==="notifyInMemoryTable"?!1:!0},tabTablesNotifier:function(){return I},types:["indexeddb"],uniqueId:u}}a.schemaDiff=r;a.applyChanges=s;g.default=a}),98);/*FB_PKG_DELIM*/
__d("ZenonMWMessageMap",["ZenonMWMessageTypes"],(function(a,b,c,d,e,f,g){"use strict";c=Object.freeze((a={},a[(b=d("ZenonMWMessageTypes")).ZenonMWSignalingPayloadType.JOIN]="JOIN",a[b.ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE]="SERVER_MEDIA_UPDATE",a[b.ZenonMWSignalingPayloadType.ICE_CANDIDATE]="ICE_CANDIDATE",a[b.ZenonMWSignalingPayloadType.HANGUP]="HANGUP",a[b.ZenonMWSignalingPayloadType.RING]="RING",a[b.ZenonMWSignalingPayloadType.DISMISS]="DISMISS",a[b.ZenonMWSignalingPayloadType.CONFERENCE_STATE]="CONFERENCE_STATE",a[b.ZenonMWSignalingPayloadType.ADD_PARTICIPANTS]="ADD_PARTICIPANTS",a[b.ZenonMWSignalingPayloadType.SUBSCRIPTION]="SUBSCRIPTION",a[b.ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE]="CLIENT_MEDIA_UPDATE",a[b.ZenonMWSignalingPayloadType.DATA_MESSAGE]="DATA_MESSAGE",a[b.ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS]="REMOVE_PARTICIPANTS",a[b.ZenonMWSignalingPayloadType.PING]="PING",a[b.ZenonMWSignalingPayloadType.P2P_PROTOCOL]="P2P_PROTOCOL",a[b.ZenonMWSignalingPayloadType.NOTIFY]="NOTIFY",a[b.ZenonMWSignalingPayloadType.CONNECT]="CONNECT",a[b.ZenonMWSignalingPayloadType.CLIENT_EVENT]="CLIENT_EVENT",a[b.ZenonMWSignalingPayloadType.UNSUBSCRIBE]="UNSUBSCRIBE",a[b.ZenonMWSignalingPayloadType.UPDATE]="UPDATE",a[b.ZenonMWSignalingPayloadType.APPROVAL]="APPROVAL",a[b.ZenonMWSignalingPayloadType.WAKEUP]="WAKEUP",a));e=c;g["default"]=e}),98);
__d("ZenonMWMessageDebugLogger",["Log","LogHistory","ODS","RpWebStateMachineLoggingBlocklist","ZenonAuditedCheckpointLogId","ZenonIceStatsParser","ZenonInfraActionsLogger","ZenonMWMessageMap","ZenonMWMessageTypes","ZenonMWTranslatorUtils","formatDate","isEmployeeTestUserZenonLogging"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){this.$1=d("LogHistory").getInstance("webrtc"),this.$2=new Set(c("RpWebStateMachineLoggingBlocklist").MESSAGE_TYPES)}var b=a.prototype;b.$3=function(a,b,d){b===void 0&&(b=!0);var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] "+a,messageID:d})};b.$4=function(a){a=a.jsonPayload.header;return a.responseStatusCode!=null};b.logMWMessage=function(a,b,d){this.$5(a,b,d);if(d.jsonPayload==null||!c("isEmployeeTestUserZenonLogging")())return;var e=d.jsonPayload.header,f=c("ZenonMWMessageMap")[e.type],g=this.$4(d)?"RESPONSE":"REQUEST";d=this.$6(d);a="[ms] "+a+" ["+b+"] "+f+" "+g+" [retryCount: "+e.retryCount+(d!=null?" details: "+d:"")+"]";this.$2.has(f)||this.$3(a,!0,e.transactionId)};b.$5=function(a,b,c){a=this.$7(a,b,c);a!==null&&(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_signaling",a)};b.$7=function(a,b,e){if(e.jsonPayload==null)return null;var f=e.jsonPayload,g=f.body;f=f.header;var h="";switch(f.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:if(g.dataMessageRequest){h=(g=d("ZenonMWTranslatorUtils").getGenericDataMessageTopic(g.dataMessageRequest))!=null?g:"undefined"}break}g=this.$4(e)?"RESPONSE":"REQUEST";e=c("ZenonMWMessageMap")[f.type];if(h==="")return a+"-"+b+"-"+e+"-"+g;else return a+"-"+b+"-"+e+"-"+g+"-"+h};b.$6=function(a){if(a.jsonPayload==null)return null;var b=a.jsonPayload.header;switch(b.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:return this.$8(a);case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:return this.$9(a);case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:return this.$10(a);case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION:return this.$11(a);case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:return this.$12(a);default:return null}};b.$8=function(a){var b=a.jsonPayload,c=b.body;b=b.header;if(this.$4(a)){return JSON.stringify({hasAnswer:((a=c.joinResponse)==null?void 0:a.answer)!=null,hasRenegotiationOffer:((a=c.joinResponse)==null?void 0:a.renegotiationOffer)!=null,isPendingApproval:(a=c.joinResponse)==null?void 0:a.isPendingApproval,multipleVideoStreamsAllowed:(a=c.joinResponse)==null?void 0:a.multipleVideoStreamsAllowed,statusCode:b.responseStatusCode,subCode:b.responseSubCode})}return JSON.stringify({deviceCapabilities:(a=c.joinRequest)==null?void 0:a.deviceCapabilities,sdpType:((b=c.joinRequest)==null?void 0:b.offer)!=null?"offer":((a=c.joinRequest)==null?void 0:a.answer)!=null?"answer":"null",userCapabilities:(b=c.joinRequest)==null?void 0:b.userCapabilities})};b.$9=function(a){var b=a.jsonPayload,c=b.body;b=b.header;if(this.$4(a)){return JSON.stringify({currentVersion:(a=c.serverMediaUpdateResponse)==null?void 0:a.currentVersion,hasAnswer:((a=c.serverMediaUpdateResponse)==null?void 0:a.answer)!=null,statusCode:b.responseStatusCode,subCode:b.responseSubCode})}return JSON.stringify({fromVersion:(a=c.serverMediaUpdateRequest)==null?void 0:a.fromVersion,messageTags:b.messageTags,renegotiationRequested:(b=(a=c.serverMediaUpdateRequest)==null?void 0:a.renegotiationRequested)!=null?b:!1,sdpType:((a=c.serverMediaUpdateRequest)==null?void 0:a.offer)?"offer":((b=c.serverMediaUpdateRequest)==null?void 0:b.answer)?"answer":((a=c.serverMediaUpdateRequest)==null?void 0:a.update)?"delta":"empty",toVersion:(a=(b=c.serverMediaUpdateRequest)==null?void 0:b.toVersion)!=null?a:""})};b.$10=function(a){var b=a.jsonPayload,c=b.body;b=b.header;if(this.$4(a)){return JSON.stringify({currentVersion:(a=(a=c.clientMediaUpdateResponse)==null?void 0:a.currentVersion)!=null?a:"",statusCode:b.responseStatusCode,subCode:b.responseSubCode})}return JSON.stringify({fromVersion:(b=(a=c.clientMediaUpdateRequest)==null?void 0:a.fromVersion)!=null?b:"",toVersion:(b=(a=c.clientMediaUpdateRequest)==null?void 0:a.toVersion)!=null?b:""})};b.$11=function(a){var b=a.jsonPayload.body;return this.$4(a)?null:JSON.stringify({subscriptions:(b=(a=b.subscriptionRequest)==null?void 0:a.subscriptions)!=null?b:""})};b.$12=function(a){var b=a.jsonPayload.body;if(this.$4(a))return null;b=(a=b.iceCandidateRequest)==null?void 0:a.iceCandidateSdps.map(function(a){a=a.candidateSdpString;if(a!=null)return d("ZenonIceStatsParser").extractIceInfo(a)});return JSON.stringify({iceCandidates:b})};b.logSendMultiwayMessageFailure=function(a,b){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","send_message_failure"),h.flush(),c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"Failed to send MW message of type "+b+". Error msg: "+a+":"})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonMWMessageQPLLogger",["DateConsts","QPLMsgTypesSitevarConfig","QPLUserFlow","ZenonLoggingUtils","ZenonMWMessageMap","ZenonMWMessageReliabilityLogTypes","getZenonMqttChannel","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=30*d("DateConsts").MS_PER_SEC,i=c("getZenonMqttChannel")(),j=new Map();function a(a,b,e){if(!d("ZenonLoggingUtils").shouldAllowLogging())return;var f=a.jsonPayload.header,g=c("ZenonMWMessageMap")[f.type].toLowerCase();if(!c("QPLMsgTypesSitevarConfig").QPL_MSG_TYPES.includes(g))return;f=k(f.transactionId);switch(b){case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST:l(f,g,{connectionState:(b=e==null?void 0:e.connectionState)!=null?b:"",peerConnectionState:(b=e==null?void 0:e.peerConnectionState)!=null?b:"",signalingState:(b=e==null?void 0:e.signalingState)!=null?b:""},a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST:m(f);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE:n(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE:o(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_RESPONSE_FAILED:p(f,a,e==null?void 0:e.errorMessage);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST:q(f,g,{connectionState:(b=e==null?void 0:e.connectionState)!=null?b:"",peerConnectionState:(g=e==null?void 0:e.peerConnectionState)!=null?g:"",signalingState:(b=e==null?void 0:e.signalingState)!=null?b:""},a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_REQUEST:r(f);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_REQUEST_FAILED:s(f,e==null?void 0:e.errorMessage);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE:t(f,a);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_SM_EVENT:u(f,e==null?void 0:e.smEvent);return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT:v(f,e==null?void 0:e.smEvent);return;default:return}}function b(a,b){if(!d("ZenonLoggingUtils").shouldAllowLogging())return;c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{string:babelHelpers["extends"]({},b)},{instanceKey:+a})}function k(a){a=isNaN(+a)?0:+a;var b=9223372036854776e3;return Math.round(a%b)}function l(a,b,d,e){c("QPLUserFlow").start(c("qpl")._(398988976,"737"),{annotations:{"int":{retryCount:e.jsonPayload.header.retryCount},int_array:{messageTags:e.jsonPayload.header.messageTags},string:babelHelpers["extends"]({},d,{messageType:b,mqttState:i.getConnectionState()})},instanceKey:a,timeoutInMs:h});if(e.jsonPayload.body.serverMediaUpdateRequest){d=e.jsonPayload.body.serverMediaUpdateRequest;b=d.answer;e=d.offer;d=d.update;c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{string:{sdpType:e?"offer":b?"answer":d?"delta":"empty"}},{instanceKey:a})}e={onMQTTStateChanged:function(b){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"mqtt_"+b,{instanceKey:a})}};i.subscribeChannelEvents(e);j.set(a,e);return}function m(a){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"processed_request",{instanceKey:a})}function n(a,b){b=b.jsonPayload.header;var d=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sending_response",{instanceKey:a});c("QPLUserFlow").addAnnotations(c("qpl")._(398988976,"737"),{"int":{responseStatusCode:d,responseSubCode:b}},{instanceKey:a})}function o(a,b){b=b.jsonPayload.header;var d=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endSuccess(c("qpl")._(398988976,"737"),{annotations:{"int":{responseStatusCode:d,responseSubCode:b}},instanceKey:a});d=j.get(a);d&&(i.unsubscribeChannelEvents(d),j["delete"](a))}function p(a,b,d){b=b.jsonPayload.header;var e=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endFailure(c("qpl")._(398988976,"737"),"send_response_failed",{annotations:{"int":{responseStatusCode:e,responseSubCode:b},string:{errorMessage:d}},instanceKey:a});e=j.get(a);e&&(i.unsubscribeChannelEvents(e),j["delete"](a))}function q(a,b,d,e){c("QPLUserFlow").start(c("qpl")._(398988976,"737"),{annotations:{"int":{retryCount:e.jsonPayload.header.retryCount},int_array:{messageTags:e.jsonPayload.header.messageTags},string:babelHelpers["extends"]({},d,{messageType:b,mqttState:i.getConnectionState()})},instanceKey:a,timeoutInMs:h})}function r(a){c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sending_request",{instanceKey:a})}function s(a,b){c("QPLUserFlow").endFailure(c("qpl")._(398988976,"737"),"send_request_failed",{annotations:{string:{errorMessage:b}},instanceKey:a})}function t(a,b){b=b.jsonPayload.header;var d=b.responseStatusCode;b=b.responseSubCode;c("QPLUserFlow").endSuccess(c("qpl")._(398988976,"737"),{annotations:{"int":{responseStatusCode:d,responseSubCode:b}},instanceKey:a})}function u(a,b){b!=null&&c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"sent_sm_event:"+b,{instanceKey:a})}function v(a,b){b!=null&&c("QPLUserFlow").addPoint(c("qpl")._(398988976,"737"),"processed_sm_event:"+b,{instanceKey:a})}g.log=a;g.updateState=b}),98);
__d("ZenonMWMessageReliabilityLogger",["ODS","ZenonArmadilloLoggingChecks","ZenonMWMessageMap","ZenonMWMessageQPLLogger","ZenonMWMessageReliabilityLogTypes","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map(),k=new Map();function a(a){k.set(a,!0)}function b(a,b,c){a=j.get(a);if(!a)return;v(a,b,c)}function e(a){r(a)?v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE):v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST)}function f(a){r(a)?v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_RESPONSE):v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_REQUEST)}function l(a){r(a)||v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_NULL_CHECK)}function m(a){r(a)||v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_TRANSLATION)}function n(a){r(a)?v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_RESPONSE):v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST)}function o(a){r(a)?v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE):v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_REQUEST)}function p(a){r(a)?v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE):v(a,d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST)}function q(a,b){var c=r(a)?d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_RESPONSE_FAILED:d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SEND_REQUEST_FAILED;v(a,c,{errorMessage:b})}function r(a){a=a.jsonPayload.header;return a.responseStatusCode!=null}function s(a,b){var e=a.jsonPayload.header;e=c("ZenonMWMessageMap")[e.type].toLowerCase();a=r(a)?"response":"request";switch(b){case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST:case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.RECEIVED_RESPONSE:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","receive_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSING_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","processing_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","processed_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENDING_RESPONSE:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","sending_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_TRANSLATION:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","after_translation_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.REQUEST_AFTER_NULL_CHECK:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","after_null_check_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_RESPONSE:case d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_REQUEST:(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway","sent_"+a+"_"+e);(h||(h=d("ODS"))).flush();return;default:return}}var t={connectionState:"",peerConnectionState:"",signalingState:""};function u(a){var b=babelHelpers["extends"]({},t,a);if(t.connectionState!==b.connectionState||t.peerConnectionState!==b.peerConnectionState||t.signalingState!==b.signalingState){t=b;for(var b=i.keys(),c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;d("ZenonMWMessageQPLLogger").updateState(f,a)}}}function v(a,b,e){var f;if(c("justknobx")._("855"))return;var g=a.jsonPayload.header;f=(f=i.get(g.transactionId))!=null?f:new Set();i.set(g.transactionId,f);if(b!==d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.SENT_SM_EVENT&&b!==d("ZenonMWMessageReliabilityLogTypes").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT&&f.has(b))return;f.add(b);j.set(g.transactionId,a);s(a,b);f=(g=k.get((f=g.clientSessionId)!=null?f:""))!=null?g:!1;(!f||d("ZenonArmadilloLoggingChecks").isArmadilloQPLLoggingEnabled())&&d("ZenonMWMessageQPLLogger").log(a,b,babelHelpers["extends"]({},e,t))}g.setE2eeIsMandatedForCall=a;g.logEventForTxid=b;g.logReceivedMessage=e;g.logProcessingMessage=f;g.logMessageAfterNullCheck=l;g.logMessageAfterTranslation=m;g.logProcessedMessage=n;g.logSendingMessage=o;g.logSentMessage=p;g.logSendMessageFailed=q;g.updateState=u}),98);
__d("ZenonMWAddRemoveParticipantsTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";var h="new_room_context";function a(a,b){var c={usersToInvite:b.participants};if(b.groupThreadId!=null){b={calling_tags:2,group_thread_id:b.groupThreadId};if(b){b=[{body:{genericMessage:{data:JSON.stringify(b),topic:h}},header:{topic_DEPRECATED:h}}];c.appMessages=b}}return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ADD_PARTICIPANTS,a,{addParticipantsRequest:c})}function b(a,b){b={usersToRemove:b.participants};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS,a,{removeParticipantsRequest:b})}g.NEW_ROOM_CONTEXT=h;g.toAddParticipantsRequest=a;g.toRemoveParticipantsRequest=b}),98);
__d("ZenonMWApprovalTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=b.approvalStatus;b=b.targetUsers;c={approvalStatus:c,targetUsers:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.APPROVAL,a,{approvalRequest:c})}g.toApprovalRequest=a}),98);
__d("ZenonMWClientEventTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={clientEvents:[{type:b.clientEventType}]};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_EVENT,a,{clientEventRequest:b})}g.toClientEventRequest=a}),98);
__d("ZenonMWClientMediaUpdateTranslator",["ZenonMWCommonUtils","ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload;var c=a.body;a=a.header;c=c.clientMediaUpdateResponse;var e=a.responseStatusCode,f=a.responseSubCode,g=a.retryAfterMsec;if(c){var h=c.answer,i=c.mediaStatus,j=h!=null&&i!=null;d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(c.stateStore,b,!1,j);var k=d("ZenonMWTranslatorUtils").fetchE2eeServerState(c.stateStore);if(j){h=(j=h==null?void 0:h.sdpString)!=null?j:"";j=d("ZenonMWTranslatorUtils").toZenonMediaStates(i);i={ackMessageId:a.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:!1,source:"clientMediaUpdate"};var l=c.renegotiationOffer,m=null;l!=null&&l.sdpString!=null&&(m={sdp:l.sdpString,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(l.sdpString)});l={e2eeServerState:k,eventName:"remoteSdpRequest",mediaPath:c.mediaPath,mediaStates:j,negotiateType:!1,renegotiationOffer:m,sdp:{sdp:h,type:"answer",version:d("ZenonMWCommonUtils").getSdpVersion(h)},sdpOriginLocalId:c.sdpOriginLocalId,source:"clientMediaUpdateResponse"};b.push(i);b.push(l)}k={ackMessageId:a.transactionId,acknowledgedVersion:c.currentVersion,eventName:"mediaUpdateResponse",responseStatusCode:e,responseSubCode:f,retryAfter:g};b.push(k)}return b}function b(a,b,c){b={fromVersion:b.version,mediaUpdates:[{mediaStatus:d("ZenonMWTranslatorUtils").toMWMediaStatus(b),mediaStatusEx:d("ZenonMWTranslatorUtils").toMWMediaStatusEx(b)}],toVersion:b.version};c!==void 0&&(b.offer={sdpString:c.sdp});return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE,a,{clientMediaUpdateRequest:b})}g.fromClientMediaUpdateResponse=a;g.toClientMediaUpdateRequest=b}),98);
__d("ZenonMWConferenceStateTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],c=a.jsonPayload.body.conferenceStateRequest;if(c){var e=c.appMessages,f=c.participantStates,g={eventName:"participantUpdateRequest",participantStates:new Map(),sctpUserIdNodeIdMap:new Map(),versionId:c.version},h={actorRepresentatives:new Map(),eventName:"clientInfoRequest",mediaPath:d("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN,userCapabilities:new Map()};Object.keys(f).forEach(function(a){var b=f[a],c=b.sctpNodeId,e=b.state;b=b.userCapabilities;g.participantStates.set(a,d("ZenonMWTranslatorUtils").fromMWParticipantState(e));c!=null&&g.sctpUserIdNodeIdMap.set(a,c);h.userCapabilities.set(a,(e=b)!=null?e:"")});b.push(g);b.push(h);c=d("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(e);if(c){c.serverInfoData=a.jsonPayload.header.serverInfoData;e={context:c,eventName:"roomContextUpdateRequest"};b.push(e)}}return b}function b(a,b){b={currentVersion:b.requestVersionId};return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE,a,{conferenceStateResponse:b})}g.fromConferenceStateRequest=a;g.toConferenceStateResponse=b}),98);
__d("ZenonMWDataMessageTranslator",["ZenonActorHooks","ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.body.dataMessageRequest;if(a){var c=a.message.header,e=d("ZenonMWTranslatorUtils").getGenericDataMessageData(a);a=d("ZenonMWTranslatorUtils").getGenericDataMessageTopic(a);if(e!=null&&a!=null){c={data:e,eventName:"genericDataMessageRequest",recipientIDs:(e=c.recipients)!=null?e:[],serviceRecipients:(e=c.serviceRecipients)!=null?e:[],topic:a};b.push(c)}}return b}function b(a,b){var c={data:b.data,topic:b.topic};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE,a,{dataMessageRequest:{message:{body:{genericMessage:c},header:{recipients:b.recipientIDs,sender:d("ZenonActorHooks").ZenonActor.getID(),serviceRecipients:b.serviceRecipients,topic_DEPRECATED:""}}}})}function c(a){return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE,a,{dataMessageResponse:{deliveryResult:{}}})}g.fromDataMessageRequest=a;g.toDataMessageRequest=b;g.toDataMessageResponse=c}),98);
__d("ZenonMWDismissTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.body.dismissRequest;if(a){var c=a.detailedReasonString;a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:d("ZenonMWTranslatorUtils").fromMWDismissReason(a),shouldInformPeer:!0,subreason:c};b.push(a)}return b}function b(a){return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS,a,{})}g.fromDismissRequest=a;g.toDismissResponse=b}),98);
__d("ZenonMWHangupTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"hangupResponse"};b.push(a);return b}function b(a,b){b=b.reason;b={detailedReasonString:"",reason:d("ZenonMWTranslatorUtils").toMWHangupReason(b)};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP,a,{hangupRequest:b})}g.fromHangupResponse=a;g.toHangupRequest=b}),98);
__d("ZenonMWIceCandidateTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.body.iceCandidateRequest;if(a){a={eventName:"iceCandidateRequest",iceCandidates:a.iceCandidateSdps.map(function(a){var b;return{candidateSdpString:(b=a.candidateSdpString)!=null?b:"",sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex}})};b.push(a)}return b}function b(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"iceCandidateResponse"};b.push(a);return b}function c(a){return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE,a,{})}function e(a,b){b=b.iceCandidates;b=b.map(function(a){return{candidateSdpString:a.candidateSdpString,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex}});b={iceCandidateSdps:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE,a,{iceCandidateRequest:b})}g.fromIceCandidateRequest=a;g.fromIceCandidateResponse=b;g.toIceCandidateResponse=c;g.toIceCandidateRequest=e}),98);
__d("ZenonMWJoinTranslator",["MultiwaySharedTypes","RoboticsPermission","ZenonAuditedCheckpointLogId","ZenonDismissReason","ZenonInfraActionsLogger","ZenonJoiningContext","ZenonMWCommonUtils","ZenonMWJoinUtils","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonScreenShare","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=a.jsonPayload.header,f=e.responseStatusCode,g=e.responseSubCode;if(f&&f!==d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK){g="JOIN response status code: "+f+" subcode "+((g=g)!=null?g:"[undefined]");c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",checkpoint:"[ZP] Got non-OK "+g,errorDomain:"ZenonMWMessageTranslator.fromJoinResponse"});f={detailedReasonFromMW:e.responseStatusMessage,eventName:"terminateRequest",fromJoinResponse:!0,reason:h(f,e.responseSubCode),shouldInformPeer:!1,subreason:g};b.push(f);return b}g=a.jsonPayload.body.joinResponse;if(!g)return b;f=(a=(f=g.answer)==null?void 0:f.sdpString)!=null?a:"";a=f!=="";d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(g.stateStore,b,!1,a);d("ZenonMWTranslatorUtils").maybeAddOverlayConfigServerUpdateRequest(b,e);var i=d("ZenonMWTranslatorUtils").fetchE2eeServerState(g.stateStore);e={ackMessageId:e.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:a,source:"joinResponse"};b.push(e);if(a){e={sdp:f,type:"answer",version:d("ZenonMWCommonUtils").getSdpVersion(f)};a=d("ZenonMWTranslatorUtils").toZenonMediaStates(g.mediaStatusEx);f=g.renegotiationOffer;var j=null;f!=null&&f.sdpString!=null&&(j={sdp:f.sdpString,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(f.sdpString)});f={e2eeServerState:i,eventName:"remoteSdpRequest",mediaPath:g.mediaPath,mediaStates:a,negotiateType:!1,renegotiationOffer:j,sdp:e,sdpOriginLocalId:g.sdpOriginLocalId,source:"joinResponse"};b.push(f)}i={capabilities:{addParticipantEnabled:!0,cowatchEnabled:!0,cowatchGroupEnabled:!0,multipleVideoStreamsAllowed:g.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};b.push(i);if(g.isPendingApproval){a={eventName:"pendingApprovalRequest"};b.push(a)}j=g.groupsOfUsers;var k=new Map();j.forEach(function(a){var b=a.aliasId;a=a.users;b!=null&&a.forEach(function(a){k.set(a,b)})});e={actorRepresentatives:k,eventName:"clientInfoRequest",mediaPath:g.mediaPath,userCapabilities:new Map()};b.push(e);return b}function b(a,b,e,f){var g,h=b.initialSyncStates,k=b.isSecondaryJoinRole,l=b.userCapabilities;g={clientMediaMode:j(e.mediaMode),deviceCapabilities:[(g=d("ZenonMWMessageTypes")).ZenonMWCapability.SUPPORT_NEW_PARTICIPANT_STATES,g.ZenonMWCapability.REQUIRE_FULL_SDP_IN_SMU,g.ZenonMWCapability.SUPPORT_SDP_RENEGOTIATION,g.ZenonMWCapability.REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED,g.ZenonMWCapability.SUPPORT_DELTA_SMU].concat(c("gkx")("25225")?[d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_PRECONNECT]:[]),mediaStatus:d("ZenonMWTranslatorUtils").toMWMediaStatus(e.mediaStates),mediaStatusEx:d("ZenonMWTranslatorUtils").toMWMediaStatusEx(e.mediaStates),offer:{},syncPayload:h?{stateStore:d("ZenonMWTranslatorUtils").toMWSyncStateStore(h)}:void 0,userCapabilities:l.get(a.userInfo.userID)};k!=null&&(g.endpointSettings={joinMode:k?d("ZenonMWMessageTypes").ZenonMWJoinMode.SECONDARY:d("ZenonMWMessageTypes").ZenonMWJoinMode.PRIMARY});h=b.isE2eeMandated===!0;g.e2eeEnforcement={infraMandatedExpStatus:(l=b.e2eeInfraMandatedExpStatus)!=null?l:d("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.NOT_SET,mode:h?d("ZenonMWMessageTypes").ZenonMWE2eeMode.E2EE_MANDATED:d("ZenonMWMessageTypes").ZenonMWE2eeMode.E2EE_NOT_MANDATED};e.sdp.type==="offer"&&(g.offer={sdpString:e.sdp.sdp});d("ZenonMWJoinUtils").canUseMwpp(e.sdp.type)&&(g.deviceCapabilities.push(d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MWPP),e.sdp.type==="answer"&&(g.answer={sdpString:e.sdp.sdp}),d("ZenonMWJoinUtils").canDeescalate()&&g.deviceCapabilities.push(d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MWPP_DEESCALATION));(!d("ZenonScreenShare").screenShareWithReplaceTrack()||c("RoboticsPermission").is_authorized_robot)&&g.deviceCapabilities.push(d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MULTIPLE_VIDEO_STREAMS);k=f==null?void 0:f.otherParticipants;k&&(g.usersToCall=k);b=[];e=(l=f==null?void 0:f.roomInfo.context)!=null?l:a.roomInfo.context;if(e!=null){l=d("ZenonJoiningContext").convertCollisionToJoiningContext(e);h&&(l.calling_tags=2);b=[].concat(b,[{body:{genericMessage:{data:JSON.stringify(l),topic:d("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}},header:{topic_DEPRECATED:d("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}}])}(f==null?void 0:f.appMessages)!=null&&(b=[].concat(b,d("ZenonMWTranslatorUtils").signalingMessageAppMessagesToMWAppMessages(f.appMessages,k)));g.appMessages=b;h=d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN,a,{joinRequest:g});e&&e.serverInfoData!=null&&(h.jsonPayload.header.serverInfoData=e.serverInfoData);i(e,h.jsonPayload.header)&&(h.jsonPayload.header.conferenceType=d("ZenonMWMessageTypes").ZenonMWConferenceType.ROOM);return h}function h(a,b){if(b===d("ZenonMWMessageTypes").ZenonMWResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS)return d("ZenonDismissReason").ZenonDismissReason.MaxAllowedParticipantsReached;if(b===d("ZenonMWMessageTypes").ZenonMWResponseSubCode.PRODUCT_SERVER_DEFINED_END_REASON)return d("ZenonDismissReason").ZenonDismissReason.ProductServerDefinedEndReason;switch(a){case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED:case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.UNAUTHORIZED:return d("ZenonDismissReason").ZenonDismissReason.NoPermission;case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.SERVICE_UNAVAILABLE:return d("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed;case d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK:throw c("unrecoverableViolation")("Response status code is OK; should not return a dismiss reason","rtc_www");default:c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",error:"[ZP] Got unexpected JOIN response status: "+a+" subcode "+((a=b)!=null?a:"[undefined]"),errorDomain:"fromMWJoinResponseStatusToDismissReason"});return d("ZenonDismissReason").ZenonDismissReason.UnexpectedEndOfCall}}function i(a,b){return((a==null?void 0:a.peerID)!=null||(a==null?void 0:a.groupThreadID)!=null)&&b.conferenceName==null}function j(a){return a==="p2p"?d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P:d("ZenonMWMessageTypes").ZenonMWMediaPath.SFU}g.fromJoinResponse=a;g.toJoinRequest=b}),98);
__d("ZenonMWPingTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"pingResponse"};b.push(a);return b}function b(a){var b=Object.freeze({});return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING,a,{pingRequest:b})}g.fromPingResponse=a;g.toPingRequest=b}),98);
__d("ZenonMWRingTranslator",["ZenonMWCommonUtils","ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){if(b)return{groupThreadID:b.groupThreadId,peerID:b.peerId,serverInfoData:c};b=d("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(a);b&&(b.serverInfoData=c);return(a=b)!=null?a:{groupThreadID:null,peerID:null,serverInfoData:c}}function a(a,b){var c=[];a=a.jsonPayload;var e=a.body;a=a.header;e=e.ringRequest;if(e){var f=e.appMessages,g=e.caller,i=e.e2eeEnforcement,j=e.otherParticipants,k=e.ringType,l=e.sdpOriginLocalId,m=e.threadIdInfo;g=g;k=k===d("ZenonMWMessageTypes").ZenonMWRingType.PEER_VIDEO_CALL||k===d("ZenonMWMessageTypes").ZenonMWRingType.GROUP_VIDEO_CALL||k===d("ZenonMWMessageTypes").ZenonMWRingType.LIVE_STREAM||k===d("ZenonMWMessageTypes").ZenonMWRingType.PEER_ESCALATED_AUDIO_CALL;var n=a.conferenceName;a=a.serverInfoData;m=h(f,m,a);var o=d("ZenonMWTranslatorUtils").getRoomMetadataFromAppMessages(f);g={actorID:b.actorID,e2eeInfraMandatedExpStatus:i==null?void 0:i.infraMandatedExpStatus,eventName:"inviteRequest",inviterID:g,isE2eeMandated:(i==null?void 0:i.mode)===d("ZenonMWMessageTypes").ZenonMWE2eeMode.E2EE_MANDATED,isRemoteOfferer:!1,otherParticipants:j,requestingVideo:k,roomInfo:babelHelpers["extends"]({context:m,name:n},o==null?{}:{room:o,sender:o.sender}),serverInfoData:a,userID:b.userInfo.userID};f!=null&&(g.appMessages=d("ZenonMWTranslatorUtils").mwAppMessagesToSignalingAppMessages(f));c.push(g);k=(j=(i=e.offer)==null?void 0:i.sdpString)!=null?j:"";n=(m=e.mediaStatusEx)!=null?m:null;if(k!==""&&n!=null){o={sdp:k,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(k)};a=d("ZenonMWTranslatorUtils").toZenonMediaStates(n);b={eventName:"remoteSdpRequest",mediaPath:e.mediaPath,mediaStates:a,negotiateType:!1,sdp:o,sdpOriginLocalId:l,source:"ringRequest"};c.push(b)}}return c}function b(a,b){b=b.status;b==="IN_ANOTHER_CALL"&&(a.signalingID=null);b=d("ZenonMWTranslatorUtils").toMWDeviceStatus(b);b={deviceCapabilities:[d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_AUDIO_DEPRECATED,d("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_VIDEO_DEPRECATED],deviceStatus:b};return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING,a,{ringResponse:b})}g.fromRingRequest=a;g.toRingResponse=b}),98);
__d("ZenonMWServerMediaUpdateTranslator",["FBLogger","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonMWCommonUtils","ZenonMWMessageReliabilityLogger","ZenonMWMessageTypes","ZenonMWTranslatorUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=a.jsonPayload,f=e.body;e=e.header;f=f.serverMediaUpdateRequest;var g=e.messageTags,i=e.transactionId;if(!f)return b;var j=f.answer,k=f.fromVersion,l=f.mediaPath,m=f.mediaStatus,n=f.multipleVideoStreamsAllowed,o=f.offer,p=f.prAnswer,q=f.renegotiationRequested,r=f.sdpOriginLocalId,s=f.stateStore,t=f.toVersion;f=f.update;o=(o=o==null?void 0:o.sdpString)!=null?o:"";j=(j=j==null?void 0:j.sdpString)!=null?j:"";p=(p=p==null?void 0:p.sdpString)!=null?p:"";var u=function(){d("ZenonMWMessageReliabilityLogger").logProcessedMessage(a)},v=o!=="",w=j!=="",x=c("gkx")("25225")&&p!=="",y=f!==null;y=v||w||x||y;d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(s,b,!1,y);y=d("ZenonMWTranslatorUtils").fetchE2eeServerState(s);if(q){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 1: renegotationRequested"});q={ackMessageId:i,eventName:"initiateRenegotiationRequest",fromVersion:k,hasRemoteOffer:o!=="",mediaPath:l,messageTags:(s=g)!=null?s:[],onProcessed:u,version:t};b.push(q);if(v){s=h(i,k,l,m,{sdp:o,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(o)},r,u,g,y);b.push(s)}}else if(w){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 2: answer SDP"});q=h(i,k,l,m,{sdp:j,type:"answer",version:d("ZenonMWCommonUtils").getSdpVersion(j)},r,u,g,y);if(q.sdp.sdp!=null&&d("ZenonMWCommonUtils").isUnifiedPlan(q.sdp.sdp)){s={sdp:j,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(j)};q.renegotiationOffer=s}b.push(q)}else if(v){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 3: offer SDP"});w=h(i,k,l,m,{sdp:o,type:"offer",version:d("ZenonMWCommonUtils").getSdpVersion(o)},r,u,g,y);b.push(w)}else if(f){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 4: delta SDP"});j=h(i,k,l,m,{type:"offer",update:f,version:t},r,u,g,y);b.push(j)}else if(x){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 5: prAnswer SDP"});s=h(i,k,l,m,{sdp:p,type:"pranswer",version:d("ZenonMWCommonUtils").getSdpVersion(p)},r,u,g,y);b.push(s)}else if(m){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 6: media update"});v={ackMessageId:i,eventName:"mediaUpdateRequest",mediaStates:d("ZenonMWTranslatorUtils").toZenonMediaStates(m,k,t),messageTags:(q=g)!=null?q:[],onProcessed:u};b.push(v)}else{o="Warning: unsupported SMU type. TXID: "+i;c("FBLogger")("rpweb").warn(o);c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:o,errorDomain:"ZenonMWServerMediaUpdateTranslator"})}d("ZenonMWTranslatorUtils").maybeAddOverlayConfigServerUpdateRequest(b,e);f={capabilities:{multipleVideoStreamsAllowed:n},eventName:"capabilitiesRequest",messageTags:(w=g)!=null?w:[]};b.push(f);return b}function h(a,b,c,e,f,g,h,i,j){return{ackMessageId:a,e2eeServerState:j,eventName:"remoteSdpRequest",fromVersion:b,mediaPath:c,mediaStates:d("ZenonMWTranslatorUtils").toZenonMediaStates(e),messageTags:(a=i)!=null?a:[],negotiateType:!1,onProcessed:h,sdp:f,sdpOriginLocalId:g,source:"serverMediaUpdateRequest"}}function b(a,b,c,e){return i(a,b.acknowledgedVersion,d("ZenonMWTranslatorUtils").toMWResponseStatusCode(b.statusCode),d("ZenonMWTranslatorUtils").toMWResponseStatusSubCode(b.subCode),c,e)}function e(a,b){return i(a,b.acknowledgedVersion,d("ZenonMWTranslatorUtils").toMWResponseStatusCode(b.statusCode),d("ZenonMWTranslatorUtils").toMWResponseStatusSubCode(b.subCode))}function f(a,b){return i(a,b.acknowledgedVersion,(a=b.responseStatusCode)!=null?a:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED,b.responseSubCode)}function i(a,b,c,e,f,g){b={currentVersion:b};f&&(b.mediaStatus=d("ZenonMWTranslatorUtils").toMWClientMediaStatus(f));g&&(b.answer={sdpString:g.sdp});return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE,a,{serverMediaUpdateResponse:b},c,e)}g.fromServerMediaUpdateRequest=a;g.toServerMediaUpdateResponse=b;g.toServerMediaUpdateRenegotiationResponse=e;g.toServerMediaUpdateNoSdpResponse=f}),98);
__d("ZenonMWStateSyncTranslator",["RequestStreamBodyUtils","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonStateSyncPayloadSerializer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.jsonPayload;var b=a.body.updateResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUpdateResponse",topic:c,version:b};return[a]}function b(a){a=a.jsonPayload.body.notifyRequest;if(!a)return[];var b=[];if(a.syncPayload!=null)d("ZenonMWTranslatorUtils").addStateStoreSignalingEvents(a.syncPayload.stateStore,b,!0,!1);else{var c=a.data,e=a.topic;a=a.version;c={data:d("ZenonStateSyncPayloadSerializer").stateSyncStringToUint8Array(c),eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:e,version:a};b.push(c)}return b}function c(a){a=a.jsonPayload;var b=a.body.unsubscribeResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUnsubscribeResponse",topic:c,version:b};return[a]}function e(a,b){var c=b.data,e=b.topic;b=b.version;c={data:c?d("RequestStreamBodyUtils").uint8ArrayToBase64(c):void 0,topic:e,version:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE,a,{updateRequest:c})}function f(a,b){var c=b.topic;b=b.version;c={topic:c,version:b};return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY,a,{notifyResponse:c})}function h(a,b){var c=b.topic;b=b.version;c={topic:c,version:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE,a,{unsubscribeRequest:c})}g.fromUpdateResponse=a;g.fromNotifyRequest=b;g.fromUnsubscribeResponse=c;g.toUpdateRequest=e;g.toNotifyResponse=f;g.toUnsubscribeRequest=h}),98);
__d("ZenonMWSubscriptionTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=b.subscriptions;b={subscriptions:b};return d("ZenonMWTranslatorUtils").createMWRequest(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION,a,{subscriptionRequest:b})}g.toSubscriptionRequest=a}),98);
__d("ZenonMWWakeupTranslator",["ZenonMWMessageTypes","ZenonMWTranslatorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"wakeupRequest"};b.push(a);return b}function b(a){var b=Object.freeze({});return d("ZenonMWTranslatorUtils").createMWResponse(d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.WAKEUP,a,{wakeupResponse:b})}g.fromWakeupRequest=a;g.toWakeupResponse=b}),98);
__d("ZenonMWMessageTranslator",["FBLogger","ZenonActorHooks","ZenonMWAddRemoveParticipantsTranslator","ZenonMWApprovalTranslator","ZenonMWClientEventTranslator","ZenonMWClientMediaUpdateTranslator","ZenonMWConferenceStateTranslator","ZenonMWDataMessageTranslator","ZenonMWDismissTranslator","ZenonMWHangupTranslator","ZenonMWIceCandidateTranslator","ZenonMWJoinTranslator","ZenonMWMessageTypes","ZenonMWPingTranslator","ZenonMWRingTranslator","ZenonMWServerMediaUpdateTranslator","ZenonMWStateSyncTranslator","ZenonMWSubscriptionTranslator","ZenonMWTranslatorUtils","ZenonMWWakeupTranslator","ZenonSignalingMessage","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getHeader();a=a.getEvents();if(a.length===0)throw c("unrecoverableViolation")("Unexpected Translation: called toMWMessage with empty signaling events","rtc_www");else{var e=a[0];switch(e.eventName){case"addParticipantsRequest":return d("ZenonMWAddRemoveParticipantsTranslator").toAddParticipantsRequest(b,e);case"clientEventRequest":return d("ZenonMWClientEventTranslator").toClientEventRequest(b,e);case"clientInfoRequest":if(a.length>=2&&a[1].eventName==="localSdpRequest"&&(a[1].sdp.type==="offer"||a[1].sdp.type==="answer"))return d("ZenonMWJoinTranslator").toJoinRequest(b,e,a[1]);break;case"genericDataMessageRequest":return d("ZenonMWDataMessageTranslator").toDataMessageRequest(b,e);case"inviteRequest":if(a.length>=3&&a[1].eventName==="clientInfoRequest"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="offer")return d("ZenonMWJoinTranslator").toJoinRequest(b,a[1],a[2],e);break;case"genericDataMessageResponse":return d("ZenonMWDataMessageTranslator").toDataMessageResponse(b);case"inviteResponse":return d("ZenonMWRingTranslator").toRingResponse(b,e);case"dismissResponse":return d("ZenonMWDismissTranslator").toDismissResponse(b);case"initiateRenegotiationResponse":if(a.length>=3&&a[1].eventName==="remoteSdpResponse"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="answer")return d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(b,a[1],a[2].mediaStates,a[2].sdp);else return d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateRenegotiationResponse(b,e);case"iceCandidateRequest":return d("ZenonMWIceCandidateTranslator").toIceCandidateRequest(b,e);case"iceCandidateResponse":return d("ZenonMWIceCandidateTranslator").toIceCandidateResponse(b);case"localSdpRequest":return d("ZenonMWClientMediaUpdateTranslator").toClientMediaUpdateRequest(b,e.mediaStates,e.sdp);case"mediaUpdateRequest":return d("ZenonMWClientMediaUpdateTranslator").toClientMediaUpdateRequest(b,e.mediaStates);case"mediaUpdateResponse":return d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateNoSdpResponse(b,e);case"participantUpdateResponse":return d("ZenonMWConferenceStateTranslator").toConferenceStateResponse(b,e);case"pingRequest":return d("ZenonMWPingTranslator").toPingRequest(b);case"remoteSdpResponse":return e.type==="offer"&&(a.length>=2&&a[1].eventName==="localSdpRequest"&&a[1].sdp.type==="answer")?a[1].mediaMode!=="p2p"?d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(b,e,a[1].mediaStates):d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(b,e,a[1].mediaStates,a[1].sdp):d("ZenonMWServerMediaUpdateTranslator").toServerMediaUpdateResponse(b,e);case"removeParticipantsRequest":return d("ZenonMWAddRemoveParticipantsTranslator").toRemoveParticipantsRequest(b,e);case"stateSyncNotifyResponse":return d("ZenonMWStateSyncTranslator").toNotifyResponse(b,e);case"stateSyncUnsubscribeRequest":return d("ZenonMWStateSyncTranslator").toUnsubscribeRequest(b,e);case"stateSyncUpdateRequest":return d("ZenonMWStateSyncTranslator").toUpdateRequest(b,e);case"subscriptionRequest":return d("ZenonMWSubscriptionTranslator").toSubscriptionRequest(b,e);case"terminateRequest":return d("ZenonMWHangupTranslator").toHangupRequest(b,e);case"usersApprovalRequest":return d("ZenonMWApprovalTranslator").toApprovalRequest(b,e);case"wakeupResponse":return d("ZenonMWWakeupTranslator").toWakeupResponse(b)}}return null}function b(a){var b=a.jsonPayload.header,e=h(b);if(e!=null){c("FBLogger")("rtc_www").info("Ignoring JSON MW message; receiver does not match self ID: "+e,"rtc_www");return null}e=b.type;var f=b.responseStatusCode==null;b=d("ZenonMWTranslatorUtils").mwMessageHeaderToSignalingMessageHeader(b);var g=[];switch(e){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING:f&&(g=d("ZenonMWRingTranslator").fromRingRequest(a,b));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS:f&&(g=d("ZenonMWDismissTranslator").fromDismissRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:f||(g=d("ZenonMWJoinTranslator").fromJoinResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:f?g=d("ZenonMWIceCandidateTranslator").fromIceCandidateRequest(a):g=d("ZenonMWIceCandidateTranslator").fromIceCandidateResponse(a);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE:f&&(g=d("ZenonMWConferenceStateTranslator").fromConferenceStateRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:f||(g=d("ZenonMWClientMediaUpdateTranslator").fromClientMediaUpdateResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:f&&(g=d("ZenonMWServerMediaUpdateTranslator").fromServerMediaUpdateRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING:f||(g=d("ZenonMWPingTranslator").fromPingResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP:f||(g=d("ZenonMWHangupTranslator").fromHangupResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:f&&(g=d("ZenonMWDataMessageTranslator").fromDataMessageRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE:f||(g=d("ZenonMWStateSyncTranslator").fromUpdateResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE:f||(g=d("ZenonMWStateSyncTranslator").fromUnsubscribeResponse(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY:f&&(g=d("ZenonMWStateSyncTranslator").fromNotifyRequest(a));break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.WAKEUP:f&&(g=d("ZenonMWWakeupTranslator").fromWakeupRequest(a))}return new(c("ZenonSignalingMessage"))(b,g)}function h(a){var b,c=a.receiverUserId;if(d("ZenonActorHooks").ZenonActor.isInstagramUser()||d("ZenonActorHooks").ZenonActor.isOculusUser()||c==null)return null;if(c===d("ZenonActorHooks").ZenonActor.getID()||((b=a.receiver)==null?void 0:b.baseId)===d("ZenonActorHooks").ZenonActor.getAccountID())return null;if(c!==d("ZenonActorHooks").ZenonActor.getID()&&((b=a.receiver)==null?void 0:b.baseId)==null)return"receiverUserId mismatch and missing header.receiver.baseId";return c!==d("ZenonActorHooks").ZenonActor.getID()&&((b=a.receiver)==null?void 0:b.baseId)!==d("ZenonActorHooks").ZenonActor.getAccountID()?"receiverUserId mismatch and mismatched header.receiver.baseId":"unknown error"}g.toMWMessage=a;g.toSignalingMessage=b}),98);
__d("RTWebSignalingListener",["FBLogger","ZenonMWMessageDebugLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageSerializer","ZenonMWThriftMessageTranslator","getZenonMqttChannel","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=c("getZenonMqttChannel")()}var b=a.prototype;b.setLoggingEventHandler=function(a){this.$2=a};b.subscribe=function(a,b,e){var f=this;this.$1.subscribe("/rtc_multi",function(e){try{e=JSON.parse(e);d("ZenonMWMessageReliabilityLogger").logReceivedMessage(e);c("ZenonMWMessageDebugLogger").logMWMessage("RECEIVED","MQTT",e);f.$2&&f.$2({mwMessage:e,name:"mwMessageRecv"});var g=d("ZenonMWMessageTranslator").toSignalingMessage(e);d("ZenonMWMessageReliabilityLogger").logMessageAfterTranslation(e);if(g==null)return;d("ZenonMWMessageReliabilityLogger").logMessageAfterNullCheck(e);b&&f.$3(e,g,b);a(g);d("ZenonMWMessageReliabilityLogger").logProcessingMessage(e)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error receiving MQTT message from /rtc_multi topic")}});this.$1.subscribeBinary("/t_rtc_multi",function(b){try{b=d("ZenonMWThriftMessageSerializer").deserializeMWThriftMessage(b);c("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("RECEIVED","MQTT Thrift",b);d("ZenonMWThriftMessageReliabilityLogger").logReceivedMessage(b);f.$2&&f.$2({mwThriftMessage:b,name:"mwThriftMessageRecv"});var g=d("ZenonMWThriftMessageTranslator").toSignalingMessage(b);d("ZenonMWThriftMessageReliabilityLogger").logMessageAfterTranslation(b);if(g==null)return;d("ZenonMWThriftMessageReliabilityLogger").logMessageAfterNullCheck(b);e&&f.$4(b,g,e);a(g);d("ZenonMWThriftMessageReliabilityLogger").logProcessingMessage(b)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error receiving binary MQTT message from /t_rtc_multi topic")}})};b.unsubscribe=function(){this.$1.unsubscribeAll("/rtc_multi"),this.$1.unsubscribeAll("/t_rtc_multi")};b.$3=function(a,b,d){try{d(a,b)}catch(a){c("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};b.$4=function(a,b,d){try{d(a,b)}catch(a){c("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};return a}();g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BusinessAssetTypeEnum.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ADS_EVENT_SOURCE","ADVANCED_ANALYTICS_INSTANCE","AD_ACCOUNT","AD_ACCOUNT_CREATION_REQUEST","AD_DRAFT_WORKSPACE","AD_IMAGE","AD_STUDY","APP","BANK","BLOCK_LIST","BRAND","BUSINESS_CREATIVE_ASSET","BUSINESS_CREATIVE_FOLDER","BUSINESS_FRANCHISE_CONFIG","BUSINESS_IMAGE","BUSINESS_LOCATIONS_WRAPPER","BUSINESS_LOYALTY_PROGRAM","BUSINESS_PAYOUT_ACCOUNT","BUSINESS_PERSON","BUSINESS_REQUEST","BUSINESS_RESOURCE_GROUP","BUSINESS_UNIT","BUSINESS_VIDEO","CAIPT_ASSET","CLOUD_PLAYABLE_ASSET","CONTENT_BLOCK_LIST","CREATOR_MARKETPLACE_BRAND_PROFILE","CREATOR_SELLER_PROFILE","CREDENTIAL_SHARE_REQUEST","CREDIT_CARD","CREDIT_PARTITION","CREDIT_PARTITION_CONFIG","CUSTOM_AUDIENCE","CUSTOM_CONVERSION","DYNAMIC_CONTENT_SET","EVENTS_DATASET","EVENTS_DATASET_NEW","EVENT_SOURCE_GROUP","EXAMPLE_CAT","FINANCE","FUNDING_SOURCE","GRP_PLAN","HOTEL_PRICE_FETCHER_PULL_CONFIG","INSTAGRAM_ACCOUNT","INSTAGRAM_ACCOUNT_V2","INSTAGRAM_BUSINESS_ASSET","IP","LEADS_ACCESS","LEGACY_LOGIN","LEGAL_ENTITY","MESSAGING_DATASET","MONETIZATION_PROPERTY","MV4B_BILLABLE_ACCOUNT","NEWS_PAGE","NME_BUSINESS_SUBSCRIPTION_ASSET","OFFLINE_CONVERSION_DATA_SET","OFFSITE_EMAIL_ACCOUNT","OWNED_DOMAIN","PAGE","PAGE_FOR_LOCATIONS","PAYOUT_ACCOUNT","PHOTO","PIXEL","PLACE_PAGE_SET","PLATFORM_CUSTOM_AUDIENCE","PRODUCT_CATALOG","PROFILE_PLUS","PROJECT","PUBLISHER_WHITE_LIST","RECEIPT","REGISTERED_TRADEMARK","RESELLER_VETTING_OE_REQUEST","SAVED_AUDIENCE","SELLER_PROFILE","SIGNALS_EVENT_NAME","SIGNAL_SEGMENT","SLICED_EVENT_SOURCE_GROUP","SPACO_DS_DATA_COLLECTION","SYSTEM_USER","UNKNOWN","USER","VIDEO_ASSET","WHATSAPP_BUSINESS_ACCOUNT"]);c=a;f["default"]=c}),66);
__d("CSFBChatTypingIndicators.react",["MWPTypingIndicators.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.threadKey;a=a.threadType;return i.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:b,threadType:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSJSONOp",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BLOCK:1,LOAD:2,STORE:3,STORE_ARRAY:4,CALL_STORED_PROCEDURE:5,CALL_NATIVE_TYPE_OPERATION:6,CALL_NATIVE_OPERATION:7,LIST:8,UNDEFINED:9,INFINITY:10,NAN:11,RETURN:12,BOOL_TO_STR:13,BLOBS_TO_STRING:14,BLOBS_OF_STRING:15,TO_BLOB:16,I64_OF_FLOAT:17,I64_TO_FLOAT:18,I64_FROM_STRING:19,I64_TO_STRING:20,READ_GK:21,READ_QE:22,IF:23,OR:24,AND:25,NOT:26,IS_NULL:27,ENFORCE_NOT_NULL:28,GENERIC_EQUAL:29,I64_EQUAL:30,BLOB_EQUAL:31,GENERIC_NOT_EQUAL:32,I64_NOT_EQUAL:33,BLOB_NOT_EQUAL:34,GENERIC_GREATER_THAN:35,I64_GREATER_THAN:36,BLOB_GREATER_THAN:37,GENERIC_GREATER_THAN_OR_EQUAL:38,I64_GREATER_THAN_OR_EQUAL:39,BLOB_GREATER_THAN_OR_EQUAL:40,GENERIC_LESS_THAN:41,I64_LESS_THAN:42,BLOB_LESS_THAN:43,GENERIC_LESS_THAN_OR_EQUAL:44,I64_LESS_THAN_OR_EQUAL:45,BLOB_LESS_THAN_OR_EQUAL:46,THROW:47,LOG_CONSOLE:48,LOGGER_LOG:49,NATIVE_OP_ARRAY_CREATE:50,NATIVE_OP_ARRAY_APPEND:51,NATIVE_OP_ARRAY_GET_SIZE:52,NATIVE_OP_MAP_CREATE:53,NATIVE_OP_MAP_GET:54,NATIVE_OP_MAP_SET:55,NATIVE_OP_MAP_KEYS:56,NATIVE_OP_MAP_DELETE:57,NATIVE_OP_MAP_HAS:58,NATIVE_OP_STR_JOIN:59,NATIVE_OP_CURRENT_TIME:60,NATIVE_OP_JSON_STRINGIFY:61,NATIVE_OP_RNG_NUM:62,NATIVE_OP_LOCALIZATION_SUPPORTED:63,NATIVE_OP_LOCALIZATION_SUPPORTED_V2:64,NATIVE_OP_RESOLVE_LOCALIZED:65,NATIVE_OP_RESOLVE_LOCALIZED_V2:66,ADD:68,I64_ADD:69,I64_CAST:70,READ_JUSTKNOB:71,READ_IGGK:72,GET_RUN_MODE:73,STR_TRIM:74,STR_REPLACE:75,JOIN:76,STR_LIKE:77,LENGTH:78,IN:79,IN_VEC:80,SUB:81,MUL:82,DIV:83,MOD:84,I64_SUB:85,I64_MUL:86,I64_DIV:87,I64_MOD:88,I64_IN:89,I64_IN_VEC:90,BITWISE_LEFT_SHIFT:91,BITWISE_RIGHT_SHIFT:92,ARITHMETIC_RIGHT_SHIFT:93,BITWISE_AND:94,BITWISE_OR:95,BITWISE_XOR:96,TERNARY:97,XOR:98,NULLISH_COALESE:99,READ_COLUMN:100,READ_COLUMN_REF:101,READ_GROUP_COUNT:102,COMMENT:103,IMPORT:104,LOOP:105,QUERY_COMPARISON_EQUAL:106,QUERY_COMPARISON_NOT_EQUAL:107,QUERY_COMPARISON_GREATER_THAN:108,QUERY_COMPARISON_GREATER_THAN_OR_EQUAL:109,QUERY_COMPARISON_LESS_THAN:110,QUERY_COMPARISON_LESS_THAN_OR_EQUAL:111,QUERY_MERGE_CONSTRAINTS:112,QUERY_FETCH_ROWS:113,QUERY_FILTER_ROWS:114,QUERY_SORT_ROWS_BY:115,QUERY_DELETE_ROWS:116,QUERY_SLICE_ROWS:117,QUERY_COUNT_ROWS:118,QUERY_PEEK_NEXT_ROW_ID:119,QUERY_UPDATE_ROWS:120,QUERY_INSERT_ROWS:121,QUERY_PUT_ROWS:122,QUERY_FOREACH_ROW:123,QUERY_SELECT_MATCH_ROW:124,QUERY_CURSOR_SLICE:125,QUERY_GROUP_BY:126,SUB_STRING:127});c=a;f["default"]=c}),66);
__d("LSSelectOrder",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ASC","DESC"]);c=a;f["default"]=c}),66);
__d("LSDatascriptJSONEval",["FBLogger","LS","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(a,b,d){if((h||(h=c("isPromise")))(a))return a.then(b,d);try{return b(a)}catch(a){if(d)return d(a);else throw a}}a=function(){function a(a,b,d,e){var f=this;e===void 0&&(e=[]);this.$4={};this.$5=[];this.$6=null;this.$7=function(a){return k(f.$8(a),function(a){return a},function(b){c("FBLogger")("messenger_web_product").catching(b).mustfix("Error evaluating step op: %s",Array.isArray(a)?a[0]:"<primitive value>");throw b})};this.$1=b;this.$2=a;this.$3=d;for(b=0;b<e.length;b++)this.$4[b]=e[b]}var d=a.prototype;d.eval=function(){return this.$2==null?this.$1.resolve([]):this.$1.resolve(this.$7(this.$2.step))};d.$8=function(a){var d=this;if(!Array.isArray(a))return a;var e=a[0];a=a.slice(1);var f=a;switch(e){case 8:return f.map(this.$7);case 2:return this.$4[f[0]];case 3:return k(this.$7(f[1]),function(a){return d.$4[f[0]]=a});case 4:return k(this.$7(f[2]),function(a){var b=f[0],c=f[1];for(var e=0;e<c;e++,b++)d.$4[b]=a[e];return a});case 12:a=f[0];e=f[1];var g=[];for(a=a;a<e;a++)g[a]=this.$4[a];return g;case 1:var h;a=function(a){h=k(h,function(){return d.$7(f[a])})};for(e=0;e<f.length;e++)a(e);return h;case 5:return(g=this.$1).storedProcedure.apply(g,f.map(this.$7));case 6:return(e=this.$1).nativeTypeOperation.apply(e,f.map(this.$7));case 7:return(a=this.$1).nativeOperation.apply(a,f.map(this.$7));case 9:return;case 10:return Infinity;case 11:return NaN;case 13:return this.$7(f[0])?"1":"0";case 14:return this.$1.blobs.to_string(this.$7(f[0]));case 15:return this.$1.blobs.of_string(this.$7(f[0]));case 16:return this.$1.blob(this.$7(f[0]));case 17:return this.$1.i64.of_float(this.$7(f[0]));case 18:g=this.$7(f[0]);return g!=null?this.$1.i64.to_float(g):void 0;case 19:return this.$1.i64.from_string(this.$7(f[0]));case 70:return this.$1.i64.cast(this.$7(f[0]));case 20:return this.$1.i64.to_string(this.$7(f[0]));case 21:return(e=this.$3)==null?void 0:(a=e.gk)==null?void 0:a[f[0]];case 22:var l;g=f[0];e=f[1];a=f[2];var m=f[3];l=(l=this.$3)==null?void 0:(l=l.qe)==null?void 0:(l=l[g])==null?void 0:(g=l[e])==null?void 0:g[a];if(l==null)return l;switch(m){case"BOOL":case"STR":return l;case"I64":if(typeof l!=="object")throw c("FBLogger")("messenger_web_product").mustfixThrow("Cannot convert value to string");return this.$1.i64.from_string(l.toString())}return;case 23:if(this.$7(f[0]))return this.$7(f[1]);else if(f[2]!=null)return this.$7(f[2]);return;case 24:return this.$7(f[0])||this.$7(f[1]);case 25:return this.$7(f[0])&&this.$7(f[1]);case 26:return!this.$7(f[0]);case 27:return this.$7(f[0])==null;case 28:return this.$1.notnull(this.$7(f[0]));case 29:return this.$7(f[0])===this.$7(f[1]);case 30:return this.$1.i64.eq(this.$7(f[0]),this.$7(f[1]));case 31:return this.$1.blobs.eq(this.$7(f[0]),this.$7(f[1]));case 32:return this.$7(f[0])!==this.$7(f[1]);case 33:return this.$1.i64.neq(this.$7(f[0]),this.$7(f[1]));case 34:return this.$1.blobs.neq(this.$7(f[0]),this.$7(f[1]));case 35:return this.$7(f[0])>this.$7(f[1]);case 36:return this.$1.i64.gt(this.$7(f[0]),this.$7(f[1]));case 37:return this.$1.blobs.gt(this.$7(f[0]),this.$7(f[1]));case 38:return this.$7(f[0])>=this.$7(f[1]);case 39:return this.$1.i64.ge(this.$7(f[0]),this.$7(f[1]));case 40:return this.$1.blobs.ge(this.$7(f[0]),this.$7(f[1]));case 41:return this.$7(f[0])<this.$7(f[1]);case 42:return this.$1.i64.lt(this.$7(f[0]),this.$7(f[1]));case 43:return this.$1.blobs.lt(this.$7(f[0]),this.$7(f[1]));case 44:return this.$7(f[0])<=this.$7(f[1]);case 45:return this.$1.i64.le(this.$7(f[0]),this.$7(f[1]));case 46:return this.$1.blobs.le(this.$7(f[0]),this.$7(f[1]));case 47:return this.$1["throw"](f[0]);case 48:return this.$1.print(this.$7(f[0]));case 49:e=this.$7(f[0]);g=f[1];a=this.$1.logger(e);switch(g){case"mustfix":return a.mustfix(e);case"info":return a.info(e);case"warn":return a.warn(e);case"debug":return a.debug(e);default:throw c("FBLogger")("messenger_web_product").mustfixThrow("Invalid logger level %s",g)}case 50:return f.length===0?this.$1.createArray():(m=this.$1).createArrayWithElements.apply(m,this.$7(f[0]));case 51:l=this.$7(f[0]);l.push(this.$7(f[1]));return l;case 52:return this.$1.i64.of_int32(this.$7(f[0]).length);case 53:return new this.$1.Map();case 54:return this.$7(f[0]).get(this.$7(f[1]));case 55:return this.$7(f[0]).set(this.$7(f[1]),this.$7(f[2]));case 56:return this.$7(f[0]).keys();case 57:return this.$7(f[0])["delete"](this.$7(f[1]));case 58:return this.$7(f[0]).has(this.$7(f[1]));case 59:return this.$7(f[0]).join(this.$7(f[1])||"");case 60:return this.$1.i64.of_float(Date.now());case 61:return this.$1.toJSON(this.$7(f[0]));case 62:return this.$1.i64.random();case 63:case 64:return!0;case 65:return this.$1.localizeAsync(this.$7(f[0]),this.$7(f[1]));case 66:return this.$1.localizeV2Async(this.$7(f[0]),this.$7(f[1]));case 68:return this.$7(f[0])+this.$7(f[1]);case 69:return this.$1.i64.add(this.$7(f[0]),this.$7(f[1]));case 71:return(a=this.$3)==null?void 0:(e=a.justknob)==null?void 0:e[f[0]];case 72:return(g=this.$3)==null?void 0:(m=g.iggk)==null?void 0:m[f[0]];case 100:return this.$5[f[0]][f[1]];case 101:if(this.$6==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Attempting to read column ref when none exist!");return this.$6[f[0]];case 102:return this.$5[this.$7(f[0])].group_count;case 73:return this.$1.rm;case 74:return this.$7(f[0]).trim();case 75:return this.$7(f[0]).split(this.$7(f[1])).join(this.$7(f[2]));case 76:return f.map(this.$7).join("");case 77:return this.$1.like(this.$7(f[0]),this.$7(f[1]));case 78:return[0,this.$7(f[0]).length];case 79:l=f.map(this.$7);a=l[0];e=l.slice(1);return e.includes(a);case 80:return this.$7(f[1]).includes(this.$7(f[0]));case 81:return this.$7(f[0])-this.$7(f[1]);case 82:return this.$7(f[0])*this.$7(f[1]);case 83:return this.$7(f[0])/this.$7(f[1]);case 84:return this.$7(f[0])%this.$7(f[1]);case 91:return this.$1.i64.lsl_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 92:return this.$1.i64.lsr_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 93:return this.$1.i64.asr_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 94:return this.$1.i64.and_(this.$7(f[0]),this.$7(f[1]));case 95:return this.$1.i64.or_(this.$7(f[0]),this.$7(f[1]));case 96:return this.$1.i64.xor(this.$7(f[0]),this.$7(f[1]));case 85:return this.$1.i64.sub(this.$7(f[0]),this.$7(f[1]));case 86:return this.$1.i64.mul(this.$7(f[0]),this.$7(f[1]));case 87:return this.$1.i64.div(this.$7(f[0]),this.$7(f[1]));case 88:return this.$1.i64.mod_(this.$7(f[0]),this.$7(f[1]));case 89:g=f.map(this.$7);var n=g[0];m=g.slice(1);return m.some(function(a){return d.$1.i64.eq(n,a)});case 90:var o=this.$7(f[0]);return this.$7(f[1]).some(function(a){return d.$1.i64.eq(o,a)});case 97:return this.$7(f[0])?this.$7(f[1]):this.$7(f[2]);case 98:l=this.$7(f[0]);e=this.$7(f[1]);return(l||e)&&!(l&&e);case 99:return(a=this.$7(f[0]))!=null?a:this.$7(f[1]);case 103:return;case 104:return b.call(null,f[0]);case 105:g=function(){var b=d.$7(f[0]),e=f[1],g=c("LS").n,a,h=function(b){a=k(a,function(){d.$4[e]=b;return d.$7(f[2])})};for(var l=g(j());d.$1.i64.lt(l,b);l=d.$1.i64.add(l,g(i())))h(l);return{v:a}}();if(typeof g==="object")return g.v;case 106:return this.$7(f[0]);case 107:throw c("FBLogger")("messenger_web_product").mustfixThrow("not equal query comparison operator not supported");case 108:return{gt:this.$7(f[0])};case 109:return{gte:this.$7(f[0])};case 110:return{lt:this.$7(f[0])};case 111:return{lte:this.$7(f[0])};case 112:return f.length===1?this.$7(f[0]):(m=this.$1).merge.apply(m,f.map(this.$7));case 113:l=f[0];e=f[1];a=f.slice(2);g=a.map(this.$7);switch(e){case"ASC":return(m=this.$1.db.table(l)).fetch.apply(m,g);case"DESC":return(a=this.$1.db.table(l)).fetchDesc.apply(a,g)}return;case 114:return this.$1.filter(this.$7(f[0]),function(a){d.$6=a;a=d.$7(f[1]);d.$6=null;return a});case 115:return(e=this.$1).sortBy.apply(e,f.map(this.$7));case 116:return this.$1.forEach(this.$7(f[0]),function(a){return a["delete"]()});case 117:return this.$1.islc(this.$7(f[0]),0,this.$7(f[1]));case 118:return this.$1.count(this.$7(f[0]));case 119:return this.$1.db.table(f[0]).peekNextAutoIncrementId();case 120:return this.$1.forEach(this.$7(f[0]),function(a){var b=a.item;a=a.update;var c={};d.$6=b;for(b=1;b<f.length;b+=2)c[f[b]]=d.$7(f[b+1]);d.$6=null;return a(c)});case 121:m=f[0];l={};for(a=1;a<f.length;a+=2)l[f[a]]=this.$7(f[a+1]);return this.$1.db.table(m).add(l);case 122:g=f[0];e={};for(a=1;a<f.length;a+=2)e[f[a]]=this.$7(f[a+1]);return this.$1.db.table(g).put(e);case 123:return this.$1.forEach(this.$7(f[0]),function(a){a=a.item;d.$5[f[1]]=a;return d.$7(f[2])});case 124:return this.$7(f[0]).next().then(function(a){var b=a.done;a=a.value;if(b)return d.$7(f[3]);else{b=f[1];if(b!=null){d.$5[b]=a.item;return d.$7(f[2])}}return 0});case 125:return this.$7(f[0]).slice(0,this.$7(f[1]));case 126:return this.$1.groupBy(this.$7(f[0]),f[1]).forEach(function(a){d.$5[f[2]]=a;return d.$7(f[3])});case 127:return this.$7(f[0]).substr(this.$1.i64.to_int32(this.$7(f[1])),this.$1.i64.to_int32(this.$7(f[2])))}};return a}();g["default"]=a}),98);
__d("LSProgramTarget",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({DASM:1,JS:2,JSON:3});c=a;f["default"]=c}),66);
__d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE",["Env","TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h;d={createScript:function(a){for(var b=arguments.length,d=new Array(b>1?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];d.forEach(function(a){if(typeof window!=="undefined"&&typeof window.trustedTypes!=="undefined"&&!window.trustedTypes.isScript(a))throw c("err")("Trusted Function requires TrustedScripts args only.")});var f=d.slice(0,-1).join(","),g=d.pop().toString();return"(function anonymous(\n     "+f+"\n     ) {\n     "+g+"\n     })"}};var i=c("TrustedTypes").createPolicy("unsafe-function-do-not-use",d);function b(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];if(c("TrustedTypes").isSupportedNatively()&&(h||(h=c("Env"))).useTrustedTypes){var f=i.createScript.apply(i,[""].concat(d));return a.eval(f)}else return babelHelpers.construct(Function,d)}g.TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE=i;g.createTrustedFunction=b}),98);
__d("LSDatascriptEvaluator",["FBLogger","LSDatascriptJSONEval","LSFactory","MWPBumpEntityKey","TrustedTypesNoOpPolicy_DO_NOT_USE","TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=function(b){return function(c,d){var e;return a==null?void 0:(e=a.qe)==null?void 0:(e=e[c])==null?void 0:(c=e[b])==null?void 0:c[d]}},f=new Proxy({getBool:e("fb"),getNumber:e("fb"),getString:e("fb")},{get:function(a,b){return b in a?a[b]:{getBool:e(b),getNumber:e(b),getString:e(b)}}}),g=function(b){var c;return a==null?void 0:(c=a.gk)==null?void 0:c[b]};g.ig=function(b){var c;return a==null?void 0:(c=a.iggk)==null?void 0:c[b]};var h={getBool:function(b){var c;return a==null?void 0:(c=a.justknob)==null?void 0:c[b]}};return function(a){var e;e=d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE").createTrustedFunction((e=c("TrustedTypesNoOpPolicy_DO_NOT_USE")).createScript("gkx"),e.createScript("qex"),e.createScript("justknobx"),e.createScript("return "+b));return e(g,f,h)(c("LSFactory")(a,{dynamic:!0}))}}function i(a,b){var d=JSON.parse(b),e=(b=a)!=null?b:{gk:{},iggk:{},justknob:{},qe:{}};return function(a){return new(c("LSDatascriptJSONEval"))(d,c("LSFactory")(a,{dynamic:!0}),e).eval()}}function j(a,b,d){if(d==null){c("FBLogger")("lightspeed","null_target").mustfix("Received <null> target field for sync script!");return h(a,b)}switch(d){case 3:return i(a,b);case 2:return h(a,b);case 1:throw c("FBLogger")("messenger_web_product","invalid_sync_script_target").mustfixThrow("Received a sync script with LSProgramTarget of DASM, this should never happen!")}}function a(a){return function(b){if(b==null)throw c("FBLogger")("messenger_comet").mustfixThrow("Error creating eval function, db is undefined. This is likely a currying error in the definition for LSDatascriptEvaluator");return function(e){var g=e.experiments,h=e.priority,i=e.syncScript,k=e.target;e=e.taskNames;g=g!=null?JSON.parse(g):null;try{var l=j(g,i,k);return b.runInTransaction(function(b){a&&a();return l(b)},"readwrite",h,{taskNames:e,type:"sync_script"},f.id+":194")}catch(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform","eval_datascript_failure");c("FBLogger")("messenger_web_product").catching(a).mustfix("Error executing sync script");throw a}}}}a.__debugModuleName="LSDatascriptEvaluator";g.default=a}),98);
__d("XPlatReactVoprf.shared",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.VoprfWasmError=a}),66);
__d("mapVoprfWasmError",["XPlatReactVoprf.shared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case-1:return new h();case 1:return new i();case 2:return new j();case 3:return new k();case 4:return new l();default:return new m()}}var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error encountered by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfUnknownError";return a}return a}((b=d("XPlatReactVoprf.shared")).VoprfWasmError),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Incorrect buffer length encountered by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfBufferLengthError";return a}return a}(b.VoprfWasmError),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing curve operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfCurveOperationError";return a}return a}(b.VoprfWasmError),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing hash operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfHashOperationError";return a}return a}(b.VoprfWasmError),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing proof operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfProofError";return a}return a}(b.VoprfWasmError),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error code received from WASM binary");a=b.call(this,a)||this;a.name="UnknownErrorCode";return a}return a}(b.VoprfWasmError);g.mapVoprfWasmError=a;g.VoprfUnknownError=h;g.VoprfBufferLengthError=i;g.VoprfCurveOperationError=j;g.VoprfHashOperationError=k;g.VoprfProofError=l;g.UnknownErrorCode=m}),98);
__d("VoprfWasmBuilder",["Promise","err","mapVoprfWasmError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return function(c){return i({locateFile:a,wasmBinary:c},b)}}function i(a,e){return new(h||(h=b("Promise")))(function(b,f){e(a).then(function(a){var e=a._sodiumInit();e!==0&&f(c("err")("Failed to initialize Sodium!"));b({createCurveRistretto:function(){var b=a._curve_create();a._curve_init_ristretto(b);return b},freeCurve:function(b){a._curve_free(b)},createVoprfExpTwohashdh:function(b){var c=a._voprf_create();a._voprf_init_exp_twohashdh(c,b);return c},freeVoprf:function(b){a._voprf_free(b)},getCurveBytes:function(b){return a._get_curve_element_bytes(b.curvePtr)},getCurveScalarBytes:function(b){return a._get_curve_scalar_bytes(b.curvePtr)},blind:function(b,c){var e=a._get_curve_element_bytes(b.curvePtr),f=a._get_curve_scalar_bytes(b.curvePtr),g=a._malloc(e),h=a._malloc(f),i=k(a,c);b=a._blind(b.voprfPtr,g,e,h,f,i,c.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,g,e);b=j(a,h,f);a._free(g);a._free(h);a._free(i);return{blindedElement:c,blindingFactor:b}},verifiableUnblind:function(b,c,e,f,g,h,i,l){var m=c?k(a,c):null,n=e?k(a,e):null,o=k(a,h),p=k(a,f),q=k(a,g),r=k(a,i),s=a._get_curve_element_bytes(b.curvePtr),t=a._malloc(s);b=a._verifiable_unblind(b.voprfPtr,t,s,m,c?c.length:0,n,e?e.length:0,p,f.length,q,g.length,o,h.length,r,i.length,+l);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,t,s);m!==null&&a._free(m);n!==null&&a._free(n);a._free(o);a._free(p);a._free(q);a._free(r);a._free(t);return{unblindedElement:c}},clientFinalize:function(b,c,e){var f=k(a,c),g=k(a,e),h=a._get_voprf_final_evaluation_bytes(b.voprfPtr),i=a._malloc(h);b=a._voprf_client_finalize(b.voprfPtr,i,h,f,c.length,g,e.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,i,h);a._free(f);a._free(g);a._free(i);return{finalEvaluation:c}},setup:function(b){var c=a._get_curve_scalar_bytes(b.curvePtr),e=a._get_curve_element_bytes(b.curvePtr),f=a._malloc(c),g=a._malloc(e);b=a._voprf_setup(b.voprfPtr,g,e,f,c);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);b=j(a,g,e);e=j(a,f,c);a._free(f);a._free(g);return{sk:b,pk:e}},evaluate:function(b,c,e,f){var g=a._get_curve_element_bytes(b.curvePtr),h=a._malloc(g),i=f?a._get_curve_scalar_bytes(b.curvePtr):0,l=i>0?a._malloc(i):null,m=f?a._get_curve_scalar_bytes(b.curvePtr):0,n=m>0?a._malloc(m):null,o=k(a,e),p=k(a,c);b=a._voprf_evaluate(b.voprfPtr,h,g,l,i,n,m,p,c.length,o,e.length,+f);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=l!==null?j(a,l,i):null;e=n!==null?j(a,n,m):null;f=j(a,h,g);a._free(h);a._free(p);l!==null&&a._free(l);n!==null&&a._free(n);a._free(o);return{proofC:c,proofS:e,evaluatedElement:f}},serverFinalize:function(b,c,e){var f=k(a,c),g=k(a,e),h=a._get_voprf_final_evaluation_bytes(b.voprfPtr),i=a._malloc(h);b=a._voprf_server_finalize(b.voprfPtr,i,h,f,c.length,g,e.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,i,h);a._free(f);a._free(g);a._free(i);return{finalEvaluation:c}}})})["catch"](function(a){throw c("err")("Failed to initialize wasm module, "+a)})})}function j(a,b,c){var d=new Uint8Array(c);for(var e=0;e<c;++e)d[e]=a.getValue(e+b,"i8");return d}function k(a,b){var c=b.length;c=a._malloc(c);a.writeArrayToMemory(b,c);return c}g["default"]=a}),98);
__d("LSVoprfWasm",["VoprfWasmBuilder","bx","ls_voprf_utils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("bx").getURL(c("bx")("11329"))};b=c("VoprfWasmBuilder")(a,c("ls_voprf_utils"));d=b;g["default"]=d}),98);
__d("getLSMediaContactProfilePictureLargeUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureLargeUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)){return(b=a.profilePictureLargeFallbackUrl)!=null?b:a.profilePictureLargeUrl}else return a.profilePictureLargeUrl}g["default"]=a}),98);
__d("MWDesktopNotifications",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MAWGetAttachmentThumbnailBlob","MessagingAttachmentType","Promise","ReQL","asyncToGeneratorRuntime","cr:2472","getLSMediaContactProfilePictureLargeUrl","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","getMWPAttachmentMessageAnnouncement","isReceiverFetchDualSendReceivingEnabled","isReceiverFetchReceivingEnabled","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function a(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g;if(((g=Notification)==null?void 0:g.permission)!=="granted")return;g=(yield (k||(k=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(e.threadKey)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e.threadKey,e.senderId)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(e.threadKey,e.messageId))]));var h=g[0],j=g[1],l=g[2];g=g[3];if(h==null||j==null||l==null)return;var p=d("LSMessagingThreadTypeUtil").isGroup(h.threadType);p=m(p,h.threadName,l.nickname,j.name);l=n(e,g);g=(yield o(g,d("LSMessagingThreadTypeUtil").isArmadilloSecure(h.threadType)));h=new Notification(p,{body:l,icon:(l=(p=c("getLSMediaThreadPictureUrl")(h))!=null?p:c("getLSMediaContactProfilePictureLargeUrl")(j))!=null?l:c("getLSMediaContactProfilePictureUrl")(j),image:g,tag:e.messageId,timestamp:(i||(i=d("I64"))).to_int32(e.timestampMs)});h.onclick=function(){window.focus(),c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(e.threadKey)),function(a){a!=null&&f.openInbox({threadKey:e.threadKey,threadType:a.threadType},"desktopNotification")})}});return l.apply(this,arguments)}function m(a,b,c,d){c=(c=c)!=null?c:d;return a&&b!=null?h._("__JHASH__cqgiOO8XKBD__JHASH__",[h._param("senderName",c),h._param("threadName",b)]).toString():a?h._("__JHASH__hBJ7Pa73DC9__JHASH__",[h._param("senderName",c)]).toString():c}function n(a,d){a=a.text;a=a!=null?b("cr:2472")==null?a:b("cr:2472").unvault(a):null;return a!=null&&a!==""?a:(a=c("getMWPAttachmentMessageAnnouncement")(d,!1))==null?void 0:a.toString()}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(a.length===0)return;a=a[0];if(!e)return d("LSMediaUrlAttachment").previewUrl(a);e=a.attachmentFbid;var f=a.attachmentType,g=a.authorityLevel;if(e===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return;switch(!0){case(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):try{return d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob(a,"MWDesktopNotifications")}catch(a){if(a instanceof(k||(k=b("Promise"))))return a;throw a}case(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):if(a.previewUrl!=null&&(c("isReceiverFetchReceivingEnabled")(!0)||a.hasXmaPreview===!0&&c("isReceiverFetchDualSendReceivingEnabled")(!0)))return d("LSMediaUrlAttachment").previewUrl(a);try{return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview","MAWSecureAttachment")}catch(a){if(a instanceof(k||(k=b("Promise"))))return a;throw a}case(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):case(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):case(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):try{return d("MAWAttachmentBlob.react").getAttachmentBlob(a,"MWDesktopNotifications")}catch(a){if(a instanceof(k||(k=b("Promise"))))return a;throw a}}});return p.apply(this,arguments)}g.triggerLocalNotification=a}),226);
__d("MWInboxSettingsPresenceMainPushPageQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4872251902870773"}),null);
__d("MsgrPresenceUpdateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2511");b=d("FalcoLoggerInternal").create("msgr_presence_update",a);e=b;g["default"]=e}),98);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5038694312853675"}),null);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql",["RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtwebCallBlockedSettingSubscribeResponsePayload",kind:"LinkedField",name:"rtweb_call_blocked_setting_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:c},params:{id:b("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"),metadata:{subscriptionName:"rtweb_call_blocked_setting_subscribe"},name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("RTWebCallBlockedSettingSubscription",["CometRelay","RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql");function a(a,b,c){return d("CometRelay").requestSubscription(a,{onNext:c,subscription:i,variables:{input:b}})}g.subscribe=a}),98);
__d("RTWebCometIncomingUnsupportedDialogNameQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7125909224150321"}),null);
__d("RTWebCometIncomingUnsupportedDialogNameQuery$Parameters",["RTWebCometIncomingUnsupportedDialogNameQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("RTWebCometIncomingUnsupportedDialogNameQuery_facebookRelayOperation"),metadata:{},name:"RTWebCometIncomingUnsupportedDialogNameQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("RTWebCometIncomingUnsupportedDialog.entrypoint",["JSResourceForInteraction","RTWebCometIncomingUnsupportedDialogNameQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.id;return{queries:{queryReference:{parameters:b("RTWebCometIncomingUnsupportedDialogNameQuery$Parameters"),variables:{id:a}}}}},root:c("JSResourceForInteraction")("RTWebCometIncomingUnsupportedDialog.react").__setRef("RTWebCometIncomingUnsupportedDialog.entrypoint")};g["default"]=a}),98);
__d("RTWebDropInUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="drop_in_metadata";a=function(a){var b;return b={},b[h]=JSON.stringify({is_drop_in:a?"1":"0"}),b};b=function(a){a=i(a);a=a.isDropIn;return a};var i=function(a){a=a==null?void 0:a[h];if(a!=null)try{a=JSON.parse(a);return{isDropIn:a.is_drop_in==="1"}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message");return{isDropIn:!1}}return{isDropIn:!1}};g.getDropInAppMessages=a;g.isDropInFromAppMessages=b}),98);
__d("RTWebUnsupportedUpsellDialogWrapper.react",["CometPlaceholder.react","RTWebCometIncomingUnsupportedDialog.entrypoint","RelayHooks","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.inviterID,e=a.onClose;a=a.threadType;var f=c("useCometRelayEntrypointContextualEnvironmentProvider")();f=d("RelayHooks").loadEntryPoint(f,c("RTWebCometIncomingUnsupportedDialog.entrypoint"),{id:b});return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:f,props:{onClose:e,threadType:a}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ReverbWriteFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5829");b=d("FalcoLoggerInternal").create("reverb_write_failure",a);e=b;g["default"]=e}),98);
__d("ReverbWriteSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5831");b=d("FalcoLoggerInternal").create("reverb_write_success",a);e=b;g["default"]=e}),98);
__d("XCometGamingVanityControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/{vanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getAssetsByType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{adAccount:a.filter(function(a){return a.type==="AD_ACCOUNT"}),appAccount:a.filter(function(a){return a.type==="APP"}),igAccount:a.filter(function(a){return a.type==="INSTAGRAM_ACCOUNT_V2"}),pageAccount:a.filter(function(a){return a.type==="PAGE"}),wabAccount:a.filter(function(a){return a.type==="WHATSAPP_BUSINESS_ACCOUNT"})}}f["default"]=a}),66);
__d("getBrowserTimezone",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(){try{var a;a=((a=window.Intl)==null?void 0:a.DateTimeFormat)&&Intl.DateTimeFormat();a=(a==null?void 0:a.resolvedOptions)&&a.resolvedOptions();return a==null?void 0:a.timeZone}catch(a){c("FBLogger")("TimezoneAutoset").catching(a).warn("Could not read IANA timezone from browser");return null}}g["default"]=a}),98);
__d("getFirstAssetOfType",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.find(function(a){return a.type===b})}f["default"]=a}),66);
__d("useBizKitSelectedAssets",["BizKitScopingContext","getAssetsByType","getFirstAssetOfType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("BizKitScopingContext")),b=a.assets,d=a.setAssets;a=(a=(a=c("getFirstAssetOfType")(b,"PAGE"))!=null?a:b[0])!=null?a:null;return{assetID:a==null?void 0:a.id,assets:b,assetsByType:c("getAssetsByType")(b),assetType:a==null?void 0:a.type,setAssets:d,setSelectedLinkedAsset:function(a){d(a.assets)}}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("GroupsCometCMDisabledChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5790044684441209"}),null);
__d("GroupsCometCMDisabledChatDialogQuery$Parameters",["GroupsCometCMDisabledChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometCMDisabledChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometCMDisabledChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometCMDisabledChatDialog.entrypoint",["GroupsCometCMDisabledChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometCMDisabledChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometCMDisabledChatDialog.react").__setRef("GroupsCometCMDisabledChatDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometCMGeoBlockedChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8563214243702893"}),null);
__d("GroupsCometCMGeoBlockedChatDialogQuery$Parameters",["GroupsCometCMGeoBlockedChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometCMGeoBlockedChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometCMGeoBlockedChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometCMGeoBlockedChatDialog.entrypoint",["GroupsCometCMGeoBlockedChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometCMGeoBlockedChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometCMGeoBlockedChatDialog.react").__setRef("GroupsCometCMGeoBlockedChatDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometJoinChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6645243692226337"}),null);
__d("GroupsCometJoinChatDialogQuery$Parameters",["GroupsCometJoinChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometJoinChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometJoinChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometJoinChatDialog.entrypoint",["GroupsCometJoinChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.threadID;return{queries:{myQueryReference:{parameters:c("GroupsCometJoinChatDialogQuery$Parameters"),variables:{groupID:b,threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometJoinChatDialog.react").__setRef("GroupsCometJoinChatDialog.entrypoint")};g["default"]=a}),98);
__d("LSSetLoadingAfterOnMessageRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sortBy(b.db.table(13).fetch([[[a[0]]]]),[["maxTimestampMs","DESC"]]).next().then(function(a,c){var d=a.done;a=a.value;return d?0:(c=a.item,b.forEach(b.filter(b.db.table(13).fetch([[[c.threadKey,c.minTimestampMs,c.minMessageId]]]),function(a){return b.i64.eq(a.threadKey,c.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(a.minTimestampMs,c.minTimestampMs)&&a.minMessageId===c.minMessageId}),function(a){var b=a.update;a.item;return b({isLoadingAfter:!0})}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetLoadingAfterOnMessageRangesStoredProcedure";e.exports=a}),null);
__d("LSReportThreadViewOpen",["LSIssueNewTaskWithExtraOperations","LSSetLoadingAfterOnMessageRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0],d[0]=c[0],d[1]=c[1],c):(b=a.item,c=[b.syncGroup,b.threadType],d[0]=c[0],d[1]=c[1],c)})},function(a){return c.i64.neq(d[0],void 0)?c.sequence([function(a){return c.db.table(1).fetch([[[d[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=void 0:(b=a.item,d[14]=b.syncParams)})},function(a){return d[3]=d[14]}]):c.resolve(d[3]=void 0)},function(b){return c.islc(c.filter(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var c=a.done;a=a.value;return c?d[4]=void 0:(b=a.item,d[4]=b.timestampMs)})},function(b){return c.db.table(294).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[!1,c.i64.cast([0,0]),void 0],d[6]=e[0],d[7]=e[1],d[8]=e[2],e):(b=a.item,e=[b.isStale,b.threadQueueSequenceId,b.lastSelectiveSyncTimestampMs],d[6]=e[0],d[7]=e[1],d[8]=e[2],e)})},function(a){return d[6]?d[10]=!0:d[10]=!1,c.i64.neq(d[8],void 0)?(c.i64.eq(d[1],c.i64.cast([0,152]))?d[14]=c.i64.cast([0,0]):d[14]=c.i64.cast([0,0]),d[15]=c.i64.of_float(Date.now()),c.resolve()):c.resolve()},function(e){return d[11]=new c.Map(),d[11].set("thread_key",a[0]),d[11].set("is_stale",d[10]),d[11].set("client_seq_id",d[7]),d[11].set("sync_params_encoded",d[3]),d[11].set("client_last_sync_timestamp_ms",d[8]),d[11].set("sync_group",d[0]),d[11].set("last_message_timestamp_ms",d[4]),d[12]=d[11].get("thread_key"),d[11],d[13]=c.toJSON(d[11]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["report_thread_view_open","_",c.i64.to_string(d[12])].join(""),c.i64.cast([0,605]),d[13],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxReportThreadViewOpenStoredProcedure";e.exports=a}),null);
__d("LSReportThreadViewOpenStoredProcedure",["LSReportThreadViewOpen","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSReportThreadViewOpen").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSThreadPointQueryTTRCStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPLETED:1,SKIPPED:2});f["default"]=a}),66);
__d("MWChatTextTransform",["CometEmojiTransform","CometEmoticonTransform","cr:3078"],(function(a,b,c,d,e,f,g){"use strict";d=c("CometEmoticonTransform")();e=c("CometEmojiTransform")();f=[d,e];var h=f.slice();b("cr:3078")!=null&&h.push(b("cr:3078")());function a(a){return[c("CometEmoticonTransform")(a),c("CometEmojiTransform")(a)]}g.emoticonTransform=d;g.emojiTransform=e;g.textTransformsNoVault=f;g.textTransforms=h;g.textTransformsWithOptions=a}),98);
__d("getMWV2OtherUser",["FBLogger","I64","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a))return;if(b.length===1){var f=b[0],g=f[0];f=f[1];if(f!=null)return[g,f];return}g=b.filter(function(a){a=a[0];return!(h||(h=d("I64"))).equal(a.contactId,e)});if(g.length===0){c("FBLogger")("messenger_comet").mustfix('No participants in thread, {threadType: "%d", participantsAndContacts: %d, hasActor: %b}',(h||(h=d("I64"))).to_int32(a),b.length,b.some(function(a){a=a[0];return(h||(h=d("I64"))).equal(a.contactId,e)}));return}f=g[0];a=f[0];b=f[1];if(b!=null)return[a,b]}g["default"]=a}),98);
__d("LSThreadTitle.react",["CometTextWithEntities.react","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWChatTextTransform","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","getMWV2OtherUser","intlList","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=a.actorIDOverride,e=a.thread,g=a.transforms;a=a.wrapOutput;var i=d("MWPActor.react").useActor(),k=(h||(h=c("useReStore")))();b=b!=null?b:i;var l=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(k.tables.participants,["contactId","nickname"]).getKeyRange(e.threadKey),d("ReQL").fromTableAscending(k.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2","secondaryName","id","contactTypeExact","blockedByViewerStatus"])).take(8)},[e.threadKey],f.id+":52");b=d("MWPGetThreadTitle").computeThreadTitle(c("intlList").CONJUNCTIONS.NONE,e.threadType,l,b);if(b==null)return"";b=j.jsx(c("CometTextWithEntities.react"),{text:b,transforms:g});g=c("getMWV2OtherUser")(e.threadType,l,i);if(a!=null&&g!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(e.threadType))return a(g[1],b);else return b}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.actorIDOverride,e=a.thread,f=a.wrapOutput;a=a.transforms;a=a===void 0?d("MWChatTextTransform").textTransforms:a;var g=e.threadName;if(g!=null)return j.jsx(c("CometTextWithEntities.react"),{text:g,transforms:a});if(c("MWCMIsAnyCMThread")(e.threadType)){c("recoverableViolation")("community message should not use computed thread title","messenger_comet");return null}return j.jsx(k,{actorIDOverride:b,thread:e,transforms:a,wrapOutput:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWUnvaultTransform",["MAWVault","baseTextTransformAllStrings"],(function(a,b,c,d,e,f,g){"use strict";function a(){return function(a){return c("baseTextTransformAllStrings")(a,function(a,b){return h(a,b)})}}function h(a,b){if(a.length===0)return[a];return d("MAWVault").isVaulted(a)?[d("MAWVault").unvault(a)]:[a]}g["default"]=a}),98);
__d("MWCMSelectiveSyncTTRCQPLLoggingUtils",["I64","QPLUserFlow","ReQL","ReQLSuspense","qpl","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("qpl")._(25310806,"1365");function a(a){var b,e=(i||(i=c("useReStore")))();b=(b=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrder")).getKeyRange(a).take(20)},[e,a],f.id+":35"))!=null?b:[];return b}function b(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.thread_point_query_ttrc).getKeyRange(a)},[b,a],f.id+":48");if(e!=null)return e}function e(a,b,d){c("QPLUserFlow").endSuccess(j,{annotations:{string:{hasMessageDataChanged:b,status:"completed"}},instanceKey:a,timestamp:(b=d)!=null?b:void 0})}function k(a,b,e,f){c("QPLUserFlow").start(j,{annotations:{string:{thread_id:(h||(h=d("I64"))).to_string(b),thread_subtype:f?(h||(h=d("I64"))).to_string(f):null,thread_type:h.to_string(e)}},instanceKey:a})}function l(a,b){c("QPLUserFlow").addPoint(j,b,{instanceKey:a})}function m(a){c("QPLUserFlow").addPoint(j,"selective_sync_remediation_end",{instanceKey:a}),c("QPLUserFlow").endSuccess(j,{annotations:{string:{status:"skipped"}},instanceKey:a})}function n(a,b){return a.length!==b.length?!1:!a.some(function(a,c){c=b[c];c.text;c=babelHelpers.objectWithoutPropertiesLoose(c,["text"]);a.text;a=babelHelpers.objectWithoutPropertiesLoose(a,["text"]);if(JSON.stringify(c)!==JSON.stringify(a))return!0})}g.useLast20Messages=a;g.useTPQEntry=b;g.logCompleteEndSuccess=e;g.logEventStreamStart=k;g.logPoint=l;g.logSkippedEndSuccess=m;g.isMessageDataUnchanged=n}),98);
__d("MWChatTypingIndicator.react",["MessengerWebUXLogger","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dot:{alignItems:"x6s0dn4",animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"xwnhzmj",animationTimingFunction:"x4hg4is",backgroundColor:"x1iuwi03",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",display:"x78zum5",height:"xqu0tyb",marginStart:"xgzva0m",marginLeft:null,marginRight:null,marginEnd:"xhhsvwb",width:"x51ohtg",$$css:!0},dot1:{animationDelay:"x1t83zlg",$$css:!0},dot1Opacity:{animationDelay:"x1uzojwf",$$css:!0},dot2:{animationDelay:"x1x1c4bx",$$css:!0},dot2Opacity:{animationDelay:"xfjzax6",$$css:!0},dot3:{animationDelay:"x1xwhvez",$$css:!0},dot3Opacity:{animationDelay:"x1la68h3",$$css:!0},dotOpacity:{animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"x1bcwpiy",animationTimingFunction:"x4hg4is",opacity:"x1hc1fzr",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1ta3ar0",$$css:!0}};function a(a){var b;a=a.threadType;a=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"show_typing_indicators",threadType:a});return i.jsxs((b=d("react-strict-dom")).html.div,{ref:a,style:j.root,children:[i.jsx(b.html.div,{style:[j.dotOpacity,j.dot1Opacity],children:i.jsx(b.html.div,{style:[j.dot,j.dot1]})}),i.jsx(b.html.div,{style:[j.dotOpacity,j.dot2Opacity],children:i.jsx(b.html.div,{style:[j.dot,j.dot2]})}),i.jsx(b.html.div,{style:[j.dotOpacity,j.dot3Opacity],children:i.jsx(b.html.div,{style:[j.dot,j.dot3]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withCometPlaceholder",["CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a,b){b===void 0&&(b=null);return function(d){return i.jsx(c("CometPlaceholder.react"),{fallback:b,children:i.jsx(a,babelHelpers["extends"]({},d))})}};g.withCometPlaceholder=a}),98);
__d("MWPPresenceBadge.react",["ARIA_LABEL_PLACEHOLDER_FIXME","FDSBadge.react","MessengerMSplitFlag","react","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=d("withCometPlaceholder").withCometPlaceholder(a);function a(a){var b=a.isActiveStatePresence;a=a.size;return!c("MessengerMSplitFlag").is_msplit_account&&b?i.jsx(c("FDSBadge.react"),{accessibilityText:c("ARIA_LABEL_PLACEHOLDER_FIXME"),border:"white",color:"green",isProfileBadge:!0,size:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("MWPReQLPresenceBadge.react",["MWPPresenceBadge.react","cr:4096","react","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");e=d("withCometPlaceholder").withCometPlaceholder(a);function a(a){var d=a.size;a=a.threadKey;a=b("cr:4096")(a);return i.jsx(c("MWPPresenceBadge.react"),{isActiveStatePresence:a,size:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("MWFacepileBadge.react",["CometPlaceholder.react","MWPReQLPresenceBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.size;a=a.threadKey;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("MWPReQLPresenceBadge.react"),{size:b,threadKey:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadIsMuted_DEPRECATED",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a<=-1)return!0;else return a>Date.now()}f.getThreadIsMuted=a}),66);
__d("getMWLSThreadEventTimeSnippetForDisplay",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){switch(a){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return""}}function k(a){a=a.split(":");var b=a.slice(0,2).join(":");a=a[2].slice(2,5);return b+a}function a(a,b){var c=Date.now();a=a!=null?(i||(i=d("I64"))).to_float(a):0;b=b!=null?(i||(i=d("I64"))).to_float(b):a*2;var e=new Date(a),f=a-6048e5,g=a-864e5,l=c<=f;g=c<=a&&c>=g;f=c<=a&&c>=f&&!g;a=c>=a&&c<=b;c=e.toDateString();b=k(e.toLocaleTimeString());c=c.split(" ");e=e.getDay();var m=new Date();m=m.getDate();if(l)return h._("__JHASH__cS8t2sI0Htu__JHASH__",[h._param("month",c[2]),h._param("day",c[1]),h._param("time",b)]).toString();if(f)return h._("__JHASH__ny3UpSYZ8bI__JHASH__",[h._param("day of week",j(e)),h._param("time",b)]).toString();if(g)return m!==e?h._("__JHASH__USFKplv1Ozv__JHASH__",[h._param("time",b)]).toString():h._("__JHASH__3T2JoQLM2nn__JHASH__",[h._param("time",b)]).toString();return a?h._("__JHASH__2gXijGJL5uw__JHASH__").toString():h._("__JHASH__J5Yn1Tsi1-V__JHASH__").toString()}g["default"]=a}),226);
__d("useStringWithSubstitutions",["fbt","CurrentMessengerUser","Env","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExistsStoredProcedure","Promise","ReQL","ReQLSuspense","gkx","nullthrows","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||d("react"),o=n.useEffect,p=n.useMemo;n=Boolean((j||(j=c("Env"))).isMessengerDotComOnComet)?"Messenger":c("gkx")("22979")?"Instagram":"Facebook";var q=h._("__JHASH__9kaBCOd2SjE__JHASH__",[h._param("Platform Name",n)]).toString(),r=/(\$?)\$([a-zA-Z_]+)(?:\((.*?)\))?/g,s=/()(@)(?:(\d*?)@msgr)/g;function t(a,b){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(l||(l=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:l.of_int32(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:l.of_int32(c("LSContactIdType").FBID),contactType:l.of_int32(c("LSContactType").USER),contactViewerRelationship:l.of_int32(c("LSContactViewerRelationship").UNKNOWN),gender:l.of_int32(c("LSContactGender").UNKNOWN),id:b,isBlocked:!1,isMemorialized:!1,isSelf:b===d("CurrentMessengerUser").getID(),workForeignEntityType:l.of_int32(c("LSContactWorkForeignEntityType").UNKNOWN)})}function u(a,b){var c=0,d=a.length-1;while(c<=d){var e=c+d>>1;a[e][0]<b?c=e+1:d=e-1}return d}function v(a,b,c,d){var e=[[-1,0]];a=a.replace(c,function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];var g=c[c.length-2],h=d.apply(void 0,[a].concat(c));if(h.length===a.length)return h;e.push([g,a.length-h.length+e[e.length-1][1]]);return h});if(e.length===1)return{textWithSubstitutions:a,updatedRanges:b};c=[];for(var b=b,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var i=u(e,h.offset);c.push(babelHelpers["extends"]({},h,{length:h.length-(e[i+1]!=null&&e[i+1][0]<=h.offset+h.length?e[i+1][1]-e[i][1]:0),offset:h.offset-e[i][1]}))}return{textWithSubstitutions:a,updatedRanges:c}}var w={CONTACT_FIRST_NAME:[function(a){return function(b){return d("ReQL").fromTableAscending(a.tables.contacts,["name","firstName","id"]).getKeyRange(b).map(function(a){var b=a.firstName;a=a.name;return(b=b)!=null?b:a})}},function(a){return q},t],CONTACT_FULL_NAME:[function(a){return function(b){return d("ReQL").fromTableAscending(a.tables.contacts,["name"]).getKeyRange(b).map(function(a){a=a.name;return a})}},function(a){return q},t],PARTICIPANT_FIRST_NAME:[function(a){return function(b,c){var e=c.threadKey;return d("ReQL").fromTableAscending(a.tables.contacts,["name","firstName","id"]).getKeyRange(b).map(function(b){var c=b.firstName,g=b.id;b=b.name;g=e==null?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.participants,["nickname"]).getKeyRange(e,g),f.id+":177");return(g=(g=g==null?void 0:g.nickname)!=null?g:c)!=null?g:b})}},function(a){return q},t],PARTICIPANT_FULL_NAME:[function(a){return function(b,c){var e=c.threadKey;return d("ReQL").fromTableAscending(a.tables.contacts,["name","id"]).getKeyRange(b).map(function(b){var c=b.id;b=b.name;c=e==null?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.participants,["nickname"]).getKeyRange(e,c),f.id+":196");return(c=c==null?void 0:c.nickname)!=null?c:b})}},function(a){return q},t]};function x(a,e,g,h,j,m){var n=(k||(k=c("useReStore")))(),q=d("Int64Hooks").useMemoInt64(function(){return{threadKey:g}},[g]),r=p(function(){var b,e=[],f=0;if(a!=null){h.lastIndex=0;while((b=h.exec(a))!==null){b=c("nullthrows")(b);b[0];var g=b[1],i=b[2],k=b[3];g||(function(){var a=(l||(l=d("I64"))).of_string_opt(k);if(a==null)m&&c("FBLogger")("messenger_e2ee_web").mustfix("Invalid user id for substitution key %s: %s",i,k);else{var b=f,g=j[i];g!=null&&(e.push([g[0](n)(a,q).take(1).map(function(a){return[b,a]}),function(b){return g[2](b,a)}]),f++)}})()}}return e},[q,n,a,h,j]),s=d("ReQLSuspense").useArray(function(){return r.length?r.length===1?r[0][0]:d("ReQL").union.apply(void 0,r.map(function(a){return a[0]})):d("ReQL").empty()},[r],f.id+":272"),t=p(function(){return new Map(s)},[s]);o(function(){var a=r.map(function(a,b){a[0];a=a[1];return t.has(b)?null:a}).filter(Boolean);a.length&&c("promiseDone")(n.runInTransaction(function(c){return(i||(i=b("Promise"))).all(a.map(function(a){return a(c)}))},"readwrite",void 0,void 0,f.id+":299"))},[n,r,t]);return p(function(){if(a==null)return null;var b=0;return v(a,e,h,function(a,c,e,f){var g=j[e];return c||g==null||(l||(l=d("I64"))).of_string_opt(f)==null?a:t.get(b++)||j[e][1](f)})},[a,e,h,t,j])}function a(a,b){return(a=x(a,[],b,r,w,!0))==null?void 0:(b=a.textWithSubstitutions)==null?void 0:b.replace==null?void 0:b.replace(/\$\$/g,"$$")}function e(a,b,c){var e=p(function(){return{"@":[function(a){return function(b){return c.has((l||(l=d("I64"))).to_string(b))?d("ReQL").fromTableAscending(a.tables.contacts,["name"]).getKeyRange(b).map(function(a){a=a.name;return"@"+a}):d("ReQL").empty()}},function(a){return c.has(a)?"@"+q:"@"+a+"@msgr"},t]}},[c]);return x(a,b,void 0,s,e,!1)}g.useStringWithSubstitutions=a;g.useStringWithMentionSubstitutionsAndUpdatedRanges=e}),226);
__d("MWThreadSnippetForDisplay.react",["CometTextWithEntities.react","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatTextTransform","MWGroupBlockingProtectionUtils","ReStoreVaulting","ThreadStatus","cr:4217","getMWLSThreadEventTimeSnippetForDisplay","react","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){a=a.thread;var e=d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType),f=b("cr:4217")==null?void 0:b("cr:4217")(a),g=a.snippet,h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType);f=g==null?null:(f=f)!=null?f:((f=d("ReStoreVaulting").maybeUnvault(g))!=null?f:g).replace(/\uDB80\uDC00/,"(Y)");g=d("MWGroupBlockingProtectionUtils").useMWGetSnippetForBlockingProtection(a.threadKey,a.threadType);h=(h=d("useStringWithSubstitutions").useStringWithSubstitutions(h?f:null,a.threadKey))!=null?h:f;if(h==null)return null;f=a.threadStatus!=null&&(i||(i=d("I64"))).equal(a.threadStatus,(i||(i=d("I64"))).of_int32(c("ThreadStatus").PAUSED));if(e&&!f&&a.eventStartTimestampMs!=null)return c("getMWLSThreadEventTimeSnippetForDisplay")(a.eventStartTimestampMs,a.eventEndTimestampMs);return g!=null?g:j.jsx(c("CometTextWithEntities.react"),{text:h,transforms:d("MWChatTextTransform").textTransforms})}a.displayName=a.name+" [from "+f.id+"]";var k=j.memo(a);function e(a){a=a.thread;return j.jsx(k,{thread:d("Int64Hooks").usePickInt64(a,["threadKey","threadType","snippet","threadStatus","eventStartTimestampMs","eventEndTimestampMs"])})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("MWVerticalRhythm",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.height;a=a;return i.jsx("div",{style:{height:String(a)+"px"}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXGlimmer.react",["cr:4067","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(b("cr:4067"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SelectiveSyncTTRCLogger.react",["CometPlaceholder.react","I64","Int64Hooks","LSIntEnum","LSThreadPointQueryTTRCStatus","MWCMSelectiveSyncTTRCQPLLoggingUtils","Random","ReQL","ReQLSuspense","areEqual","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useRef;function o(a){var b=a.instanceKey,e=a.isReportThreadViewOpenSprocCalled,g=a.reportThreadViewOpenCalledTimestamp,l=a.setInstanceKey,m=a.threadKey,o=a.threadSubtype,p=a.threadType,q=n(!1);a=(h||(h=c("useReStore")))();var r=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.tables.messages.index("messageDisplayOrder")).getKeyRange(m).take(20),f.id+":56"),s=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.tables.reactions).getKeyRange(m).take(20),f.id+":61"),t=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.tables.reactions_v2).getKeyRange(m).take(20),f.id+":64");d("Int64Hooks").useEffectInt64(function(){e===!1&&(q.current=!0,d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logEventStreamStart(b,m,p,o))},[b,e,g,m,o,p]);var u=n(r),v=n(s),w=n(t),x=d("MWCMSelectiveSyncTTRCQPLLoggingUtils").useTPQEntry(m);d("Int64Hooks").useEffectInt64(function(){var a=x==null?void 0:x.status,e=x==null?void 0:x.deltaInsertionTimestampMs,f=x==null?void 0:x.dasmExecutionTimestampMs;if(q.current===!0&&g!==0)if(a&&(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadPointQueryTTRCStatus").SKIPPED)))d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logSkippedEndSuccess(b),q.current=!1,l(c("Random").uint32());else if(a!=null&&(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadPointQueryTTRCStatus").COMPLETED))&&e!=null&&(j||(j=d("I64"))).to_float(e)>g){d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logPoint(b,"selective_sync_remediation_end");a=!d("MWCMSelectiveSyncTTRCQPLLoggingUtils").isMessageDataUnchanged(u.current,r);var h=!(i||(i=c("areEqual")))(v.current,s),m=!i(w.current,t);a||h||m?d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logCompleteEndSuccess(b,"true",f!=null?(j||(j=d("I64"))).to_float(f):void 0):d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logCompleteEndSuccess(b,"false",e!=null?(j||(j=d("I64"))).to_float(e):void 0);u.current=r;v.current=s;w.current=t;q.current=!1;l(c("Random").uint32())}},[b,r,s,t,g,l,x]);return null}o.displayName=o.name+" [from "+f.id+"]";function a(a){return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(o,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useEncryptedBackupsThreadsRestoreStatusMap",["LSIntEnum","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).useMemo;function l(a){var b={};return a.length===0?b:a.reduce(function(a,b){var c=b.restoreStatus;b=b.serverThreadKey;return b==null?a:babelHelpers["extends"]({},a,(a={},a[b]=c?(j||(j=d("LSIntEnum"))).toNumber(c):null,a))},b)}function a(){var a=(h||(h=c("useReStore")))(),b=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(a.tables.encrypted_backups_client_restore_status)},[a],f.id+":55");return k(function(){return l(b)},[b])}g["default"]=a}),98);
__d("useGetContactsToShow",["I64","LSMessagingThreadTypeUtil","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=function(a){return a.filter(function(a){return!(h||(h=d("I64"))).equal(a.id,e)})},g=b.length,i=[];if(g!==0){var j=b[0],k=b[1];f=f(b.filter(Boolean).filter(function(a){return c("getLSMediaContactProfilePictureUrl")(a)!==""}));switch(g){case 1:j!=null&&c("getLSMediaContactProfilePictureUrl")(j)!==""&&(i=[j]);break;case 2:d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&f.length===1&&c("getLSMediaContactProfilePictureUrl")(f[0])!==""?i=[f[0]]:d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&j!=null&&k!=null&&c("getLSMediaContactProfilePictureUrl")(j)!==""&&c("getLSMediaContactProfilePictureUrl")(k)!==""&&(i=[j,k]);break;default:f.length>=2&&(i=f)}}return i.sort(function(a,b){return b.rank-a.rank}).slice(0,2)}g["default"]=a}),98);
__d("useGroupsCometCMDisabledChatEntryPointDialog",["GroupsCometCMDisabledChatDialog.entrypoint","GroupsCometCMGeoBlockedChatDialog.entrypoint","MetaConfig","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isGeoBlocked;a=a.threadID;return c("useMWXEntryPointDialog")(b&&c("MetaConfig")._("25")?c("GroupsCometCMGeoBlockedChatDialog.entrypoint"):c("GroupsCometCMDisabledChatDialog.entrypoint"),{threadID:a})}g["default"]=a}),98);
__d("useGroupsCometChatsEngagementImpressionLogger",["GroupsCometChatsEngagementLogger","react","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.category_id,e=a.client_extras,f=a.community_id,g=a.event,h=a.group_id,j=a.parent_surface,k=a.source,l=a.surface,m=a.thread_id;a=i(function(){d("GroupsCometChatsEngagementLogger").log({action:"impression",category_id:b,client_extras:e,community_id:f,event:g,group_id:h,parent_surface:j,source:k,surface:l,thread_id:m})},[b,e,g,h,f,k,j,l,m]);return c("usePartialViewImpression")({onImpressionStart:a})}g["default"]=a}),98);
__d("useMWChatCalculateIsMutedFromExpireTime",["MWThreadIsMuted_DEPRECATED","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=j(function(){return d("MWThreadIsMuted_DEPRECATED").getThreadIsMuted(a)}),e=b[0],f=b[1];i(function(){var b=d("MWThreadIsMuted_DEPRECATED").getThreadIsMuted(a);f(b);if(!(b&&a>-1))return;var e=c("setTimeout")(function(){return f(!1)},a-Date.now());return function(){c("clearTimeout")(e)}},[a,f]);return e}g["default"]=a}),98);
__d("useMWIsThreadPresenceActive",["cr:4430"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:4430")(a)}g["default"]=a}),98);
__d("useMWIsThreadPresenceActiveV2",["I64","Int64Hooks","MWPActor.react","PresenceStatusContext","ReQL","asyncToGeneratorRuntime","promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useContext,k=e.useState,l=c("requireDeferred")("MessengerMQTTPresence").__setRef("useMWIsThreadPresenceActiveV2");function a(a){var e=c("useAsyncReStore")(),f=d("MWPActor.react").useActor(),g=j(c("PresenceStatusContext")),h=g.getChatVisibility(),m=k(!1),n=m[0],o=m[1];d("Int64Hooks").useEffectInt64(function(){function j(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield e);if(!h){o(!1);return function(){}}var c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a).filter(function(a){a=a.contactId;return!(i||(i=d("I64"))).equal(a,f)}).map(function(a){a=a.contactId;return(i||(i=d("I64"))).to_string(a)})));b=c.some(function(a){a=g.getStatus(a);if(a==null)return!1;a=a.status;return a===2});o(b);b=g.addListener(function(){var a=g.getOnlineIDs(),b=new Set(a);a=c.some(function(a){return b.has(a)});o(a)});c.forEach(function(a){return l.onReady(function(b){return b.sendAdditionalBuddyRequest(a)})});return b});return k.apply(this,arguments)}var m=j();return function(){return c("promiseDone")(m.then(function(a){a()}))}},[a,f,h,g,e]);return n}g["default"]=a}),98);
__d("useReportThreadViewOpenDebounced",["LSFactory","LSReportThreadViewOpenStoredProcedure","promiseDone","useDebouncedComet","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var d=(h||(h=c("useReStore")))();return c("useDebouncedComet")(function(){c("promiseDone")(d.runInTransaction(function(b){return c("LSReportThreadViewOpenStoredProcedure")(c("LSFactory")(b),{threadKey:a})},"readwrite",void 0,void 0,f.id+":33"))},{leading:!0,wait:b})}g["default"]=a}),98);
__d("useMWReportThreadOpenOnMountAndFocusWithLogger",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWCMSelectiveSyncTTRCQPLLoggingUtils","MetaConfig","Random","SelectiveSyncTTRCLogger.react","ServerTime","VisibilityAPI","react","useReStore","useReportThreadViewOpenDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.useState,n=c("MetaConfig")._("43");function a(a,b){var e=(h||(h=c("useReStore")))(),f=m(0),g=f[0],j=f[1];f=m(d("Random").uint32());var o=f[0];f=f[1];var p=c("MWCMIsAnyCMThread")(a.threadType),q=l(!1),r=p||c("MetaConfig")._("55")&&(d("LSMessagingThreadTypeUtil").isSocialChannelV2(a.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)),s=c("useReportThreadViewOpenDebounced")(a.threadKey,(b=b)!=null?b:n);d("Int64Hooks").useEffectInt64(function(){var b=null;r&&(b=d("VisibilityAPI").onVisibilityChange(function(){d("VisibilityAPI").isVisibilityHidden()||s()}),p&&d("GroupsCometChatsEngagementLogger").log({action:"background_effect",community_id:(i||(i=d("I64"))).to_string(a.parentThreadKey),event:"report_thread_view_open",source:"blended_threadlist_community_tab",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(a.threadKey)}),q.current===!1&&(j(d("ServerTime").getMillis()),q.current=!0,d("MWCMSelectiveSyncTTRCQPLLoggingUtils").logPoint(o,"selective_sync_remediation_start"),s()));return function(){b!=null&&d("VisibilityAPI").removeVisibiltyChangeListener(b)}},[e,a.parentThreadKey,a.threadKey,a.threadType,p,o,r,s]);return r?k.jsx(c("SelectiveSyncTTRCLogger.react"),{instanceKey:o,isReportThreadViewOpenSprocCalled:q.current,reportThreadViewOpenCalledTimestamp:g,setInstanceKey:f,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useThreadHasCompletedEBFrontLoading",["I64","LSEncryptedBackupsClientRestoreState","useEncryptedBackupsThreadsRestoreStatusMap"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=c("useEncryptedBackupsThreadsRestoreStatusMap")();a=a!=null?(h||(h=d("I64"))).to_string(a):null;return a!==null?b[a]===c("LSEncryptedBackupsClientRestoreState").RESTORE_COMPLETE:!1}g["default"]=a}),98);
__d("useThreadHasCompletedEBFrontLoadingNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!1}f["default"]=a}),66);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("d3-axis-1.0.8",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?c(g):c(b.d3=b.d3||{})})(this,function(a){var b=Array.prototype.slice,c=function(a){return a},d=1,e=2,g=3,h=4,i=1e-6;function j(a){return"translate("+(a+.5)+",0)"}function k(a){return"translate(0,"+(a+.5)+")"}function l(a){return function(b){return+a(b)}}function m(a){var b=Math.max(0,a.bandwidth()-1)/2;a.round()&&(b=Math.round(b));return function(c){return+a(c)+b}}function n(){return!this.__axis}function o(f,p){var q=[],r=null,s=null,t=6,u=6,v=3,w=f===d||f===h?-1:1,x=f===h||f===e?"x":"y",y=f===d||f===g?j:k;function a(a){var b=r==null?p.ticks?p.ticks.apply(p,q):p.domain():r,j=s==null?p.tickFormat?p.tickFormat.apply(p,q):c:s,k=Math.max(t,0)+v,o=p.range(),z=+o[0]+.5;o=+o[o.length-1]+.5;var A=(p.bandwidth?m:l)(p.copy()),B=a.selection?a.selection():a,C=B.selectAll(".domain").data([null]);b=B.selectAll(".tick").data(b,p).order();var D=b.exit(),E=b.enter().append("g").attr("class","tick"),F=b.select("line"),G=b.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000"));b=b.merge(E);F=F.merge(E.append("line").attr("stroke","#000").attr(x+"2",w*t));G=G.merge(E.append("text").attr("fill","#000").attr(x,w*k).attr("dy",f===d?"0em":f===g?"0.71em":"0.32em"));a!==B&&(C=C.transition(a),b=b.transition(a),F=F.transition(a),G=G.transition(a),D=D.transition(a).attr("opacity",i).attr("transform",function(a){return isFinite(a=A(a))?y(a):this.getAttribute("transform")}),E.attr("opacity",i).attr("transform",function(a){var b=this.parentNode.__axis;return y(b&&isFinite(b=b(a))?b:A(a))}));D.remove();C.attr("d",f===h||f==e?"M"+w*u+","+z+"H0.5V"+o+"H"+w*u:"M"+z+","+w*u+"V0.5H"+o+"V"+w*u);b.attr("opacity",1).attr("transform",function(a){return y(A(a))});F.attr(x+"2",w*t);G.attr(x,w*k).text(j);B.filter(n).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",f===e?"start":f===h?"end":"middle");B.each(function(){this.__axis=A})}a.scale=function(b){return arguments.length?(p=b,a):p};a.ticks=function(){return q=b.call(arguments),a};a.tickArguments=function(c){return arguments.length?(q=c==null?[]:b.call(c),a):q.slice()};a.tickValues=function(c){return arguments.length?(r=c==null?null:b.call(c),a):r&&r.slice()};a.tickFormat=function(b){return arguments.length?(s=b,a):s};a.tickSize=function(b){return arguments.length?(t=u=+b,a):t};a.tickSizeInner=function(b){return arguments.length?(t=+b,a):t};a.tickSizeOuter=function(b){return arguments.length?(u=+b,a):u};a.tickPadding=function(b){return arguments.length?(v=+b,a):v};return a}function p(a){return o(d,a)}function q(a){return o(e,a)}function r(a){return o(g,a)}function s(a){return o(h,a)}a.axisTop=p;a.axisRight=q;a.axisBottom=r;a.axisLeft=s;Object.defineProperty(a,"__esModule",{value:!0})})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);/*FB_PKG_DELIM*/
__d("RelayFBConsoleLog",["cr:1121434"],(function(a,b,c,d,e,f,g){"use strict";a=b("cr:1121434")!=null?b("cr:1121434")():null;c=a;g["default"]=c}),98);
__d("RelayFBScheduler",[],(function(a,b,c,d,e,f){"use strict";a={cancel:function(){},schedule:function(a){a();return""}};b=a;f["default"]=b}),66);
__d("liveQueryFetchWithWWWInitialWrapper",["JSResource","RelayRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){return e.config_id!=null?d("RelayRuntime").Observable.create(function(d){var g;c("promiseDone")(c("JSResource")("liveQueryFetchWithWWWInitial").__setRef("liveQueryFetchWithWWWInitialWrapper").load().then(function(c){c=c(a,b,e,f);g=c.subscribe(d)})["catch"](function(a){return d.error(a)}));return function(){g&&g.unsubscribe()}}):f}g["default"]=a}),98);
__d("RelayFBEnvironmentDefinitions",["RelayFBConsoleLog","RelayFBEnvironmentActorID","RelayFBGCScheduler","RelayFBHandlerProvider","RelayFBOperationLoader","RelayFBScheduler","RelayFieldLogger","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","getRelayFBMissingFieldHandlers","liveQueryFetchWithWWWInitialWrapper","relay-runtime","relayFBGetDataID"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayFBEnvironmentActorID").getActorID,h=(c=b("relay-runtime")).Environment,i=c.QueryResponseCache,j=c.RecordSource,k=c.Store;function l(a){var c,d,e=a.actorID,f=a.handlerProvider;f=f===void 0?b("RelayFBHandlerProvider"):f;var g=a.log;c=g===void 0?(c=a.log)!=null?c:b("RelayFBConsoleLog"):g;g=a.missingFieldHandlers;g=g===void 0?b("getRelayFBMissingFieldHandlers")():g;var l=a.operationLoader;l=l===void 0?b("RelayFBOperationLoader"):l;var m=a.store;d=m===void 0?new k(new j(),{getDataID:(d=a.getDataID)!=null?d:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("RelayFBGCScheduler"),operationLoader:b("RelayFBOperationLoader"),queryCacheExpirationTime:5*60*1e3,log:c}):m;m=a.relayFieldLogger;m=m===void 0?b("RelayFieldLogger").create():m;var n=a.scheduler;n=n===void 0?b("RelayFBScheduler"):n;var o=a.getDataID;o=o===void 0?b("relayFBGetDataID"):o;a=babelHelpers.objectWithoutPropertiesLoose(a,["actorID","handlerProvider","log","missingFieldHandlers","operationLoader","store","relayFieldLogger","scheduler","getDataID"]);var p={actorID:e};if(a.network)return new h(babelHelpers["extends"]({},a,{handlerProvider:f,log:c,missingFieldHandlers:g,operationLoader:l,store:d,options:p,relayFieldLogger:m,scheduler:n,getDataID:o}));else{var q,r=a.networkConfig;a=babelHelpers.objectWithoutPropertiesLoose(a,["networkConfig"]);q=(q=r==null?void 0:r.queryResponseCache)!=null?q:new i({size:10,ttl:5*60*1e3});r=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")(babelHelpers["extends"]({},r,{liveQueryFetchWithWWWInitialFn:b("liveQueryFetchWithWWWInitialWrapper"),queryResponseCache:q,actorID:e})),b("createRelayFBSubscribeFunction")({queryResponseCache:q,actorID:e}));return new h(babelHelpers["extends"]({},a,{handlerProvider:f,log:c,missingFieldHandlers:g,operationLoader:l,store:d,network:r,options:p,relayFieldLogger:m,scheduler:n,getDataID:o}))}}function a(a){var b=new Map();return{getForActorID:function(c,d){var e;e=c+((e=d)!=null?e:"");var f=b.get(e);f||(f=l(a(c,d)),b.set(e,f));return f},commitLocalUpdateForEachEnvironment:function(a){var c=function(){if(e){if(f>=d.length)return"break";h=d[f++]}else{f=d.next();if(f.done)return"break";h=f.value}var b=h,c=b[1];c.commitUpdate(function(b){a(g(c),c,b)})};for(var d=b,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h,i=c();if(i==="break")break}}}}e.exports={createEnvironment:l,createEnvironmentFactory:a}}),null);
__d("RelayFBEnvironmentFactory",["RelayFBEnvironmentDefinitions"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;e.exports=a(function(a){return{configName:"RelayFBEnvironment",actorID:a}})}),null);
__d("react-relay/ReactRelayContainerUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.displayName||a.name||"Component"}function a(a){return"Relay("+g(a)+")"}e.exports={getComponentName:g,getContainerName:a}}),null);
__d("react-relay/isRelayEnvironment",[],(function(a,b,c,d,e,f){"use strict";function a(a){return typeof a==="object"&&a!==null&&typeof a.check==="function"&&typeof a.lookup==="function"&&typeof a.retain==="function"&&typeof a.execute==="function"&&typeof a.subscribe==="function"}e.exports=a}),null);
__d("react-relay/RelayContext",["invariant","react-relay/isRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";function a(a){h(a)||g(0,6172,a);return a}function h(a){return typeof a==="object"&&a!==null&&!Array.isArray(a)&&b("react-relay/isRelayEnvironment")(a.environment)}e.exports={assertRelayContext:a,isRelayContext:h}}),null);
__d("react-relay/ReactRelayQueryRendererContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");e.exports=a.createContext({rootIsQueryRenderer:!1})}),null);
__d("react-relay/buildReactRelayContainer",["invariant","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","react-relay/assertFragmentMap","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("react-relay/ReactRelayContainerUtils").getComponentName,j=b("react-relay/ReactRelayContainerUtils").getContainerName,k=h||(h=b("react")),l=b("relay-runtime").getFragment,m=k.useContext;function a(a,c,d){var f=j(a);b("react-relay/assertFragmentMap")(i(a),c);var h={};for(var n in c)h[n]=l(c[n]);var o=d(a,h);o.displayName=f;function p(a,c){var d=m(b("react-relay/ReactRelayContext"));d!=null||g(0,18241,f,f);var e=m(b("react-relay/ReactRelayQueryRendererContext"));return k.jsx(o,babelHelpers["extends"]({},a,{__relayContext:d,__rootIsQueryRenderer:(d=e==null?void 0:e.rootIsQueryRenderer)!=null?d:!1,componentRef:a.componentRef||c}))}p.displayName=p.name+" [from "+e.id+"]";p.displayName=f;c=k.forwardRef(p);return c}e.exports=a}),null);
__d("react-relay/ReactRelayFragmentContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/RelayContext","react-relay/buildReactRelayContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("react-relay/ReactRelayContainerUtils").getContainerName,j=b("react-relay/RelayContext").assertRelayContext,k=g||(g=b("react")),l=b("relay-runtime").createFragmentSpecResolver,m=b("relay-runtime").getDataIDsFromObject,n=b("relay-runtime").isScalarAndEqual;function o(a,c){var d,e,f=i(a);return e=d=function(d){babelHelpers.inheritsLoose(e,d);function e(a){var b,e;e=d.call(this,a)||this;e.$3=function(){var a=e.state.resolver;e.setState(function(b){return a===b.resolver?{data:b.resolver.resolve(),relayProp:p(b.relayProp.environment)}:null})};var g=j(a.__relayContext);b=(b=a.__rootIsQueryRenderer)!=null?b:!1;b=l(g,f,c,a,b);e.state={data:b.resolve(),prevProps:a,prevPropsContext:g,relayProp:p(g.environment),resolver:b};return e}e.getDerivedStateFromProps=function(a,d){var e,g=d.prevProps,i=j(a.__relayContext);e=(e=a.__rootIsQueryRenderer)!=null?e:!1;g=m(c,g);var k=m(c,a),n=d.resolver;if(d.prevPropsContext.environment!==i.environment||!(h||(h=b("areEqual")))(g,k)){n=l(i,f,c,a,e);return{data:n.resolve(),prevPropsContext:i,prevProps:a,relayProp:p(i.environment),resolver:n}}else{n.setProps(a);g=n.resolve();if(g!==d.data)return{data:g,prevProps:a,prevPropsContext:i,relayProp:p(i.environment)}}return null};var g=e.prototype;g.componentDidMount=function(){this.$1()};g.componentDidUpdate=function(a,b){this.state.resolver!==b.resolver?(b.resolver.dispose(),this.$1()):this.$2()};g.componentWillUnmount=function(){this.state.resolver.dispose()};g.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevPropsContext.environment!==this.state.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!n(a[f],this.props[f]))return!0}return!1};g.$2=function(){var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};g.$1=function(){var a=this.state,b=a.data;a=a.resolver;var c=a.resolve();a.setCallback(this.props,this.$3);b!==c&&this.setState({data:c})};g.render=function(){var b=this.props,c=b.componentRef;b.__relayContext;b.__rootIsQueryRenderer;b=babelHelpers.objectWithoutPropertiesLoose(b,["componentRef","__relayContext","__rootIsQueryRenderer"]);return k.jsx(a,babelHelpers["extends"]({},b,this.state.data,{ref:c,relay:this.state.relayProp}))};return e}(k.Component),d.displayName=f,e}function p(a){return{environment:a}}function a(a,c){return b("react-relay/buildReactRelayContainer")(a,c,o)}e.exports={createContainer:a}}),null);
__d("react-relay/ReactRelayLocalQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("relay-runtime").createOperationDescriptor;c=b("relay-runtime").deepFreeze;var k=b("relay-runtime").getRequest,l=i.useLayoutEffect,m=i.useState,n=i.useRef,o=i.useMemo,p={rootIsQueryRenderer:!0};function q(a){var c=i.useRef(a);(h||(h=b("areEqual")))(c.current,a)||(c.current=a);return c.current}function a(a){var c=a.environment,d=a.query,e=a.variables;a=a.render;var f=q(e),g=o(function(){var a=k(d);return j(a,f)},[d,f]);e=o(function(){return{environment:c}},[c]);var h=n(null),r=m(null),s=r[1],t=n(null);r=o(function(){c.check(g);var a=c.lookup(g.fragment);h.current=a.data;var b=c.retain(g),d=c.subscribe(a,function(a){h.current=a.data,s(h.current)}),e=!1;function f(){e||(e=!0,t.current=null,b.dispose(),d.dispose())}t.current&&t.current();t.current=f;return a},[c,g]);l(function(){var a=t.current;return function(){a&&a()}},[r]);return i.jsx(b("react-relay/ReactRelayContext").Provider,{value:e,children:i.jsx(b("react-relay/ReactRelayQueryRendererContext").Provider,{value:p,children:a({props:h.current})})})}a.displayName=a.name+" [from "+e.id+"]";e.exports=a}),null);
__d("react-relay/ReactRelayQueryFetcher",["invariant","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("relay-runtime").__internal.fetchQuery,i=b("relay-runtime").createOperationDescriptor,j=b("relay-runtime").isRelayModernEnvironment;a=function(){function a(a){this.$4=[],this.$8=!1,a!=null&&(this.$7=a.cacheSelectionReference,this.$4=a.selectionReferences)}var b=a.prototype;b.getSelectionReferences=function(){return{cacheSelectionReference:this.$7,selectionReferences:this.$4}};b.lookupInStore=function(a,b,c){if((c==="store-and-network"||c==="store-or-network")&&a.check(b).status==="available"){this.$9(a,b);return a.lookup(b.fragment)}return null};b.getFetchResult=function(){if(this.$8){if(this.$6!=null)return{error:this.$6};else if(this.$5!=null)return{snapshot:this.$5}}else return null};b.execute=function(a){var b=this,c=a.environment,d=a.operation;a=a.preservePreviousReferences;var e=a===void 0?!1:a,f=c.retain(d);a=function(){b.$4=b.$4.concat(f)};var g=function(){e||b.disposeSelectionReferences(),b.$4=b.$4.concat(f)},i=function(){b.$4=b.$4.concat(f)};return!j(c)?c.execute({operation:d})["do"]({error:a,complete:g,unsubscribe:i}):h(c,d)["do"]({error:a,complete:g,unsubscribe:i})};b.setOnDataChange=function(a){this.$1||g(0,4542),typeof a==="function"&&(this.$1.onDataChangeCallbacks=this.$1.onDataChangeCallbacks||[],this.$1.onDataChangeCallbacks.push(a),this.$8&&(this.$6!=null?a({error:this.$6}):this.$5!=null&&a({snapshot:this.$5})))};b.fetch=function(a,b){var c=this,d=a.environment,e=a.operation;a=a.onDataChange;var f=!1,g;this.disposeRequest();var h=this.$1&&this.$1.onDataChangeCallbacks;this.$1={environment:d,onDataChangeCallbacks:h||[],operation:e};a&&this.$1.onDataChangeCallbacks.indexOf(a)===-1&&this.$1.onDataChangeCallbacks.push(a);h=b?i(e.request.node,e.request.variables,b):e;var j=this.execute({environment:d,operation:h})["finally"](function(){c.$2=null}).subscribe({next:function(){c.$8=!0,c.$6=null,c.$10({notifyFirstResult:f})},error:function(a){c.$8=!0;c.$6=a;c.$5=null;var b=c.$1&&c.$1.onDataChangeCallbacks;f?b&&b.forEach(function(b){b({error:a})}):g=a}});this.$2={dispose:function(){j.unsubscribe()}};f=!0;if(g)throw g;return this.$5};b.retry=function(a){this.$1||g(0,4543);return this.fetch({environment:this.$1.environment,operation:this.$1.operation,onDataChange:null},a)};b.dispose=function(){this.disposeRequest(),this.disposeSelectionReferences()};b.disposeRequest=function(){this.$6=null,this.$5=null,this.$2&&this.$2.dispose(),this.$3&&(this.$3.dispose(),this.$3=null)};b.$9=function(a,b){this.$11(),this.$7=a.retain(b)};b.$11=function(){this.$7&&this.$7.dispose(),this.$7=null};b.disposeSelectionReferences=function(){this.$11(),this.$4.forEach(function(a){return a.dispose()}),this.$4=[]};b.$10=function(a){var b=this;a=a.notifyFirstResult;this.$1||g(0,4544);var c=this.$1,d=c.environment,e=c.onDataChangeCallbacks;c=c.operation;if(this.$5)return;this.$5=d.lookup(c.fragment);this.$3=d.subscribe(this.$5,function(a){if(b.$1!=null){var c=b.$1.onDataChangeCallbacks;Array.isArray(c)&&c.forEach(function(b){return b({snapshot:a})})}});if(this.$5&&a&&Array.isArray(e)){var f=this.$5;e.forEach(function(a){return a({snapshot:f})})}};return a}();e.exports=a}),null);
__d("react-relay/getRootVariablesForFragments",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-runtime").getSelector;function a(a,b){var c={};Object.keys(a).forEach(function(d){var e=a[d];d=b[d];e=g(e,d);e=e!=null&&e.kind==="PluralReaderSelector"?(d=(d=e.selectors[0])==null?void 0:d.owner.variables)!=null?d:{}:(d=e==null?void 0:e.owner.variables)!=null?d:{};c=babelHelpers["extends"]({},c,e)});return c}e.exports=a}),null);
__d("react-relay/ReactRelayPaginationContainer",["invariant","areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("react-relay/ReactRelayContainerUtils").getComponentName,k=b("react-relay/ReactRelayContainerUtils").getContainerName,l=b("react-relay/RelayContext").assertRelayContext,m=h||(h=b("react")),n=b("relay-runtime").ConnectionInterface,o=b("relay-runtime").Observable,p=b("relay-runtime").RelayFeatureFlags,q=b("relay-runtime").createFragmentSpecResolver,r=b("relay-runtime").createOperationDescriptor,s=b("relay-runtime").getDataIDsFromObject,t=b("relay-runtime").getRequest,u=b("relay-runtime").getVariablesFromObject,v=b("relay-runtime").isScalarAndEqual,w="forward";function x(a){var b=a.path;b||g(0,1219);return function(c){c=c[a.fragmentName];for(var d=0;d<b.length;d++){if(!c||typeof c!=="object")return null;c=c[b[d]]}return c}}function y(a){var b=a.count;b||g(0,1220);return function(a,c){return babelHelpers["extends"]({},a,(a={},a[b]=c,a))}}function z(a){var b=null,c=!1;for(var d in a){var e=a[d],f=e.metadata&&e.metadata.connection;e.metadata!==void 0&&(c=!0);f&&(f.length===1||g(0,1221,d,f.length),b&&g(0,1222),b=babelHelpers["extends"]({},f[0],{fragmentName:d}))}!c||b!==null||g(0,1223);return b||{}}function A(a){return typeof a==="function"?{error:a,complete:a,unsubscribe:function(b){typeof a==="function"&&a()}}:a||{}}function B(a,c,d){var e,f=j(a),h=k(a),B=z(c),C=d.getConnectionFromProps||x(B),D=d.direction||B.direction;D||g(0,1224);var E=d.getFragmentVariables||y(B);return e=B=function(e){babelHelpers.inheritsLoose(j,e);function j(a){var d,f;f=e.call(this,a)||this;f.$8=function(){f.setState({data:f.$4.resolve()})};f.$13=function(){var a=f.$17();return!!(a&&a.hasMore&&a.cursor)};f.$14=function(){return!!f.$2};f.$16=function(a,b,c){if(!f.$18("refetchConnection"))return{dispose:function(){}};f.$3=c;c={count:a,cursor:null,totalCount:a};a=f.$19(c,A(b),{force:!0});return{dispose:a.unsubscribe}};f.$15=function(a,c,d){if(!f.$18("loadMore"))return{dispose:function(){}};var e=A(c),g=f.$17();if(!g){o.create(function(a){return a.complete()}).subscribe(e);return null}var h=g.edgeCount+a;if(d&&d.force)return f.$16(h,c);c=n.get();var i=c.END_CURSOR;c=c.START_CURSOR;g=g.cursor;b("warning")(g!=null&&g!=="","ReactRelayPaginationContainer: Cannot `loadMore` without valid `%s` (got `%s`)",D===w?i:c,g);i={count:a,cursor:g,totalCount:h};c=f.$19(i,e,d);return{dispose:c.unsubscribe}};var g=l(a.__relayContext);d=(d=a.__rootIsQueryRenderer)!=null?d:!1;f.$1=!1;f.$2=null;f.$3=null;p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?f.$4=q(g,h,c,a,d):f.$4=q(g,h,c,a,d,f.$8);f.state={data:f.$4.resolve(),prevContext:g,contextForChildren:g,relayProp:f.$9(g),resolverGeneration:0};f.$6=!1;f.$7=!1;return f}var k=j.prototype;k.componentDidMount=function(){this.$6=!1,p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.$10()};k.componentDidUpdate=function(a,b){p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&(b.resolverGeneration!==this.state.resolverGeneration?this.$10():this.$11())};k.UNSAFE_componentWillReceiveProps=function(a){var d,e=this,f=l(a.__relayContext);d=(d=a.__rootIsQueryRenderer)!=null?d:!1;var g=s(c,this.props),j=s(c,a),k=b("react-relay/getRootVariablesForFragments")(c,this.props),m=b("react-relay/getRootVariablesForFragments")(c,a);f.environment!==this.state.prevContext.environment||!(i||(i=b("areEqual")))(k,m)||!(i||(i=b("areEqual")))(g,j)?(this.$12(),p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?this.$4=q(f,h,c,a,d):this.$4=q(f,h,c,a,d,this.$8),this.setState(function(a){return{prevContext:f,contextForChildren:f,relayProp:e.$9(f),resolverGeneration:a.resolverGeneration+1}})):this.$7||this.$4.setProps(a);k=this.$4.resolve();k!==this.state.data&&this.setState({data:k})};k.componentWillUnmount=function(){this.$6=!0,this.$12()};k.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data||b.relayProp!==this.state.relayProp||b.resolverGeneration!==this.state.resolverGeneration)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevContext.environment!==this.state.prevContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!v(a[f],this.props[f]))return!0}return!1};k.$9=function(a){return{hasMore:this.$13,isLoading:this.$14,loadMore:this.$15,refetchConnection:this.$16,environment:a.environment}};k.$11=function(){var a=this.state.data,b=this.$4.resolve();a!==b&&this.setState({data:b})};k.$10=function(){var a=this.state.data,b=this.$4.resolve();this.$4.setCallback(this.props,this.$8);a!==b&&this.setState({data:b})};k.$17=function(){var a=this.props;a.componentRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["componentRef"]);a=babelHelpers["extends"]({},a,this.state.data);a=C(a);if(a==null)return null;var c=n.get(),d=c.EDGES,e=c.PAGE_INFO,h=c.HAS_NEXT_PAGE,i=c.HAS_PREV_PAGE,j=c.END_CURSOR;c=c.START_CURSOR;typeof a==="object"||g(0,1225,f,d,e,a);var k=a[d];a=a[e];if(k==null||a==null)return null;Array.isArray(k)||g(0,1226,f,d,k);typeof a==="object"||g(0,1227,f,e,a);d=D===w?a[h]:a[i];a=D===w?a[j]:a[c];if(typeof d!=="boolean"||k.length!==0&&typeof a==="undefined"){b("warning")(!1,"ReactRelayPaginationContainer: Cannot paginate without %s fields in `%s`. Be sure to fetch %s (got `%s`) and %s (got `%s`).",e,f,D===w?h:i,d,D===w?j:c,a);return null}return{cursor:a,edgeCount:k.length,hasMore:d}};k.$20=function(){this.$5||(this.$5=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$5};k.$18=function(a){if(this.$6){b("warning")(!1,"ReactRelayPaginationContainer: Unexpected call of `%s` on unmounted container `%s`. It looks like some instances of your container still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `%s` call.",a,h,a);return!1}return!0};k.$19=function(a,e,h){var j=this,k=l(this.props.__relayContext);k=k.environment;var m=this.props;m.componentRef;m.__relayContext;m.__rootIsQueryRenderer;m=babelHelpers.objectWithoutPropertiesLoose(m,["componentRef","__relayContext","__rootIsQueryRenderer"]);var n=babelHelpers["extends"]({},m,this.state.data),p,q=b("react-relay/getRootVariablesForFragments")(c,m);p=u(c,m);p=babelHelpers["extends"]({},q,p,this.$3);m=d.getVariables(n,{count:a.count,cursor:a.cursor},p);typeof m==="object"&&m!==null||g(0,1228,m,f);m=babelHelpers["extends"]({},m,this.$3);p=babelHelpers["extends"]({},m,p);q=h?{force:!!h.force}:void 0;q!=null&&(h==null?void 0:h.metadata)!=null&&(q.metadata=h==null?void 0:h.metadata);n=t(d.query);var s=r(n,m,q),v=null;this.$2&&this.$2.unsubscribe();this.$7=!0;var w=function(c,d){c=j.$4.resolve();j.$4.setVariables(E(p,a.totalCount),s.request.node);var e=j.$4.resolve();!(i||(i=b("areEqual")))(c,e)?j.setState({data:e,contextForChildren:{environment:j.props.__relayContext.environment}},d):d()};h=function(){j.$2===v&&(j.$2=null,j.$1=!1)};this.$1=!0;v=this.$20().execute({environment:k,operation:s,preservePreviousReferences:!0}).mergeMap(function(a){return o.create(function(b){w(a,function(){b.next(),b.complete()})})})["do"]({error:h,complete:h,unsubscribe:h}).subscribe(e||{});this.$2=this.$1?v:null;return v};k.$12=function(){this.$4.dispose(),this.$3=null,this.$7=!1,this.$2&&(this.$2.unsubscribe(),this.$2=null,this.$1=!1),this.$5&&this.$5.dispose()};k.render=function(){var c=this.props,d=c.componentRef;c.__relayContext;c.__rootIsQueryRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,["componentRef","__relayContext","__rootIsQueryRenderer"]);return m.jsx(b("react-relay/ReactRelayContext").Provider,{value:this.state.contextForChildren,children:m.jsx(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:this.state.relayProp}))})};return j}(m.Component),B.displayName=h,e}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return B(a,b,d)})}e.exports={createContainer:a}}),null);
__d("react-relay/ReactRelayQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("relay-runtime").createOperationDescriptor;a=b("relay-runtime").deepFreeze;var k=b("relay-runtime").getRequest,l={},m={rootIsQueryRenderer:!0};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(a){var b=a.error==null?null:a.error,c=a.snapshot==null?null:a.snapshot;d.setState(function(a){var d=a.requestCacheKey;d&&delete l[d];return c===a.snapshot&&b===a.error?null:{renderProps:p(b,c,a.queryFetcher,a.retryCallbacks),snapshot:c,requestCacheKey:null}})};var e={handleDataChange:null,handleRetryAfterError:null},f;if(c.query){var g=c.query;g=k(g);f=q(g.params,c.variables);g=l[f]?l[f].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))()}else g=new(b("react-relay/ReactRelayQueryFetcher"))();d.$1=!1;d.state=babelHelpers["extends"]({prevPropsEnvironment:c.environment,prevPropsVariables:c.variables,prevQuery:c.query,queryFetcher:g,retryCallbacks:e},s(c,g,e,f));return d}c.getDerivedStateFromProps=function(a,c){return c.prevQuery!==a.query||c.prevPropsEnvironment!==a.environment||!(h||(h=b("areEqual")))(c.prevPropsVariables,a.variables)?r(a,c):null};var d=c.prototype;d.componentDidMount=function(){var a=this;if(this.$1===!0){this.$1=!1;this.setState(function(c){c=r(a.props,c);var d=c.requestCacheKey,b=c.queryFetcher;d!=null&&l[d]!=null&&b.setOnDataChange(a.$2);return c});return}var b=this.state,c=b.retryCallbacks,d=b.queryFetcher;b=b.requestCacheKey;b&&delete l[b];c.handleDataChange=this.$2;c.handleRetryAfterError=function(b){return a.setState(function(a){a=a.requestCacheKey;a&&delete l[a];return{renderProps:n(),requestCacheKey:null}})};this.props.query&&d.setOnDataChange(this.$2)};d.componentDidUpdate=function(a,b){a=this.state;var c=a.queryFetcher;a=a.requestCacheKey;a&&(delete l[a],delete this.state.requestCacheKey);this.props.query&&c!==b.queryFetcher&&c.setOnDataChange(this.$2)};d.componentWillUnmount=function(){this.state.queryFetcher.dispose(),this.$1=!0};d.shouldComponentUpdate=function(a,b){return a.render!==this.props.render||b.renderProps!==this.state.renderProps};d.render=function(){var a=this.state,c=a.renderProps;a=a.relayContext;return i.jsx(b("react-relay/ReactRelayContext").Provider,{value:a,children:i.jsx(b("react-relay/ReactRelayQueryRendererContext").Provider,{value:m,children:this.props.render(c)})})};return c}(i.Component);function n(){return{error:null,props:null,retry:null}}function o(){return{error:null,props:{},retry:null}}function p(a,b,c,d){return{error:a?a:null,props:b?b.data:null,retry:function(b){b=c.retry(b);b&&typeof d.handleDataChange==="function"?d.handleDataChange({snapshot:b}):a&&typeof d.handleRetryAfterError==="function"&&d.handleRetryAfterError(a)}}}function q(a,b){return JSON.stringify({id:a.cacheID?a.cacheID:a.id,variables:b})}function r(a,c){var d=a.query,e=c.queryFetcher.getSelectionReferences();c.queryFetcher.disposeRequest();if(d){d=k(d);d=q(d.params,a.variables);d=l[d]?l[d].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))(e)}else d=new(b("react-relay/ReactRelayQueryFetcher"))(e);return babelHelpers["extends"]({prevQuery:a.query,prevPropsEnvironment:a.environment,prevPropsVariables:a.variables,queryFetcher:d},s(a,d,c.retryCallbacks))}function s(a,b,c,d){var e=a.environment,f=a.query,g=a.variables,h=a.cacheConfig;e=e;if(f){f=k(f);g=j(f,g,h);h={environment:e};if(typeof d==="string"&&l[d]){var i=l[d].snapshot;if(i)return{error:null,relayContext:h,renderProps:p(null,i,b,c),snapshot:i,requestCacheKey:d};else return{error:null,relayContext:h,renderProps:n(),snapshot:null,requestCacheKey:d}}try{i=b.lookupInStore(e,g,a.fetchPolicy);g=b.fetch({environment:e,onDataChange:null,operation:g});g=g||i;d=d||q(f.params,a.variables);l[d]={queryFetcher:b,snapshot:g};return!g?{error:null,relayContext:h,renderProps:n(),snapshot:null,requestCacheKey:d}:{error:null,relayContext:h,renderProps:p(null,g,b,c),snapshot:g,requestCacheKey:d}}catch(a){return{error:a,relayContext:h,renderProps:p(a,null,b,c),snapshot:null,requestCacheKey:d}}}else{b.dispose();i={environment:e};return{error:null,relayContext:i,renderProps:o(),requestCacheKey:null}}}e.exports=c}),null);
__d("react-relay/ReactRelayRefetchContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("react-relay/ReactRelayContainerUtils").getContainerName,j=b("react-relay/RelayContext").assertRelayContext,k=g||(g=b("react")),l=b("relay-runtime").Observable,m=b("relay-runtime").createFragmentSpecResolver,n=b("relay-runtime").createOperationDescriptor,o=b("relay-runtime").getDataIDsFromObject,p=b("relay-runtime").getRequest,q=b("relay-runtime").getVariablesFromObject,r=b("relay-runtime").isScalarAndEqual;function s(a,c,d){var e,f,g=i(a);return f=e=function(e){babelHelpers.inheritsLoose(f,e);function f(a){var f,h;h=e.call(this,a)||this;h.$7=function(){var a=h.state.resolver;h.setState(function(b){return a===b.resolver?{data:b.resolver.resolve()}:null})};h.$4=function(a,e,f,i){if(h.$3){b("warning")(!1,"ReactRelayRefetchContainer: Unexpected call of `refetch` on unmounted container `%s`. It looks like some instances of your container still trying to refetch the data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `refetch`.",g);return{dispose:function(){}}}var k=j(h.props.__relayContext);k=k.environment;var m=b("react-relay/getRootVariablesForFragments")(c,h.props);a=typeof a==="function"?a(h.$8()):a;a=babelHelpers["extends"]({},m,a);var o=e?babelHelpers["extends"]({},a,e):a;m=i?{force:!!i.force}:void 0;m!=null&&(i==null?void 0:i.metadata)!=null&&(m.metadata=i==null?void 0:i.metadata);var q=typeof f==="function"?{next:f,error:f}:f||{};e=p(d);var r=n(e,a,m);h.state.localVariables=a;h.$1&&h.$1.unsubscribe();var s;f=h.$9().lookupInStore(k,r,i==null?void 0:i.fetchPolicy);if(f!=null){h.state.resolver.setVariables(o,r.request.node);h.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:h.props.__relayContext.environment}}},function(){q.next&&q.next(),q.complete&&q.complete()});return{dispose:function(){}}}h.$9().execute({environment:k,operation:r,preservePreviousReferences:!0}).mergeMap(function(a){h.state.resolver.setVariables(o,r.request.node);return l.create(function(a){return h.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:h.props.__relayContext.environment}}},function(){a.next(),a.complete()})})})["finally"](function(){h.$1===s&&(h.$1=null)}).subscribe(babelHelpers["extends"]({},q,{start:function(a){h.$1=s=a,q.start&&q.start(a)}}));return{dispose:function(){s&&s.unsubscribe()}}};var i=j(a.__relayContext);f=(f=a.__rootIsQueryRenderer)!=null?f:!1;h.$1=null;f=m(i,g,c,a,f);h.state={data:f.resolve(),localVariables:null,prevProps:a,prevPropsContext:i,contextForChildren:i,relayProp:t(i.environment,h.$4),resolver:f};h.$3=!1;return h}var i=f.prototype;i.componentDidMount=function(){this.$3=!1,this.$5()};i.componentDidUpdate=function(a,b){this.state.resolver!==b.resolver?(b.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe(),this.$5()):this.$6()};f.getDerivedStateFromProps=function(a,d){var e,f=d.prevProps,i=j(a.__relayContext);e=(e=a.__rootIsQueryRenderer)!=null?e:!1;var k=o(c,f),l=o(c,a);f=b("react-relay/getRootVariablesForFragments")(c,f);var n=b("react-relay/getRootVariablesForFragments")(c,a),p=d.resolver;if(d.prevPropsContext.environment!==i.environment||!(h||(h=b("areEqual")))(f,n)||!(h||(h=b("areEqual")))(k,l)){p=m(i,g,c,a,e);return{data:p.resolve(),localVariables:null,prevProps:a,prevPropsContext:i,contextForChildren:i,relayProp:t(i.environment,d.relayProp.refetch),resolver:p}}else d.localVariables||p.setProps(a);f=p.resolve();return f!==d.data?{data:f,prevProps:a}:null};i.componentWillUnmount=function(){this.$3=!0,this.state.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe()};i.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data||b.relayProp!==this.state.relayProp)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(this.state.prevPropsContext.environment!==b.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!r(a[f],this.props[f]))return!0}return!1};i.$6=function(){var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};i.$5=function(){var a=this.state,b=a.data;a=a.resolver;var c=a.resolve();a.setCallback(this.props,this.$7);b!==c&&this.setState({data:c})};i.$8=function(){return q(c,this.props)};i.$9=function(){this.$2||(this.$2=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$2};i.render=function(){var c=this.props,d=c.componentRef;c.__relayContext;c.__rootIsQueryRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,["componentRef","__relayContext","__rootIsQueryRenderer"]);var e=this.state,f=e.relayProp;e=e.contextForChildren;return k.jsx(b("react-relay/ReactRelayContext").Provider,{value:e,children:k.jsx(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:f}))})};return f}(k.Component),e.displayName=g,f}function t(a,b){return{environment:a,refetch:b}}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return s(a,b,d)})}e.exports={createContainer:a}}),null);
__d("RelayModern",["RelayFBEnvironmentDefinitions","RelayFBMutations","RelayFBSubscription","configureRelayForWWW","enqueueMutation","react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironment;c=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;d=b("enqueueMutation").enqueueMutation;var g=(f=b("relay-runtime")).fetchQuery_DEPRECATED;b("configureRelayForWWW")();var h=b("RelayFBSubscription").addFBisms(f.requestSubscription);e.exports={ConnectionHandler:f.ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:f.MutationTypes,RangeOperations:f.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:f.applyOptimisticMutation,commitLocalUpdate:f.commitLocalUpdate,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:f.fetchQuery_DEPRECATED,graphql:f.graphql,readInlineData:f.readInlineData,commitMutation:b("RelayFBMutations").addFBisms(f.commitMutation),enqueueMutation:b("RelayFBMutations").addFBisms(d),requestSubscription:h,createEnvironment:a,createEnvironmentFactory:c,fetchQuery:g}}),null);
__d("XCometCreatorCollaborationInviteControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/collaboration_invite/{video_id}/{secondary_collaborator_id}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getByPath",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a;for(var d=0;d<b.length;d++){var e=b[d];if(a&&typeof a!=="string"&&typeof a!=="number"&&e in a)a=a[e];else return c}return a}f["default"]=a}),66);
__d("react-relay",["react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","react-relay/relay-hooks/EntryPointContainer.react","react-relay/relay-hooks/ProfilerContext","react-relay/relay-hooks/RelayEnvironmentProvider","react-relay/relay-hooks/loadEntryPoint","react-relay/relay-hooks/loadQuery","react-relay/relay-hooks/useClientQuery","react-relay/relay-hooks/useEntryPointLoader","react-relay/relay-hooks/useFragment","react-relay/relay-hooks/useLazyLoadQuery","react-relay/relay-hooks/useMutation","react-relay/relay-hooks/usePaginationFragment","react-relay/relay-hooks/usePreloadedQuery","react-relay/relay-hooks/useQueryLoader","react-relay/relay-hooks/useRefetchableFragment","react-relay/relay-hooks/useRelayEnvironment","react-relay/relay-hooks/useSubscribeToInvalidationState","react-relay/relay-hooks/useSubscription","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("react-relay/relay-hooks/loadQuery").loadQuery;e.exports={ConnectionHandler:(c=b("relay-runtime")).ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:c.MutationTypes,RangeOperations:c.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:c.applyOptimisticMutation,commitLocalUpdate:c.commitLocalUpdate,commitMutation:c.commitMutation,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:c.fetchQuery_DEPRECATED,graphql:c.graphql,readInlineData:c.readInlineData,requestSubscription:c.requestSubscription,EntryPointContainer:b("react-relay/relay-hooks/EntryPointContainer.react"),RelayEnvironmentProvider:b("react-relay/relay-hooks/RelayEnvironmentProvider"),ProfilerContext:b("react-relay/relay-hooks/ProfilerContext"),fetchQuery:c.fetchQuery,loadQuery:a,loadEntryPoint:b("react-relay/relay-hooks/loadEntryPoint"),useClientQuery:b("react-relay/relay-hooks/useClientQuery"),useFragment:b("react-relay/relay-hooks/useFragment"),useLazyLoadQuery:b("react-relay/relay-hooks/useLazyLoadQuery"),useEntryPointLoader:b("react-relay/relay-hooks/useEntryPointLoader"),useQueryLoader:b("react-relay/relay-hooks/useQueryLoader"),useMutation:b("react-relay/relay-hooks/useMutation"),usePaginationFragment:b("react-relay/relay-hooks/usePaginationFragment"),usePreloadedQuery:b("react-relay/relay-hooks/usePreloadedQuery"),useRefetchableFragment:b("react-relay/relay-hooks/useRefetchableFragment"),useRelayEnvironment:b("react-relay/relay-hooks/useRelayEnvironment"),useSubscribeToInvalidationState:b("react-relay/relay-hooks/useSubscribeToInvalidationState"),useSubscription:b("react-relay/relay-hooks/useSubscription")}}),null);/*FB_PKG_DELIM*/
__d("DisappearingMessagesMode",[],(function(a,b,c,d,e,f){a=Object.freeze({OFF:0,ON:1,OPEN_ON_DEPRECATED_DO_NOT_USE:2});f["default"]=a}),66);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);
__d("LSIssueSearchQuery",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(67).fetch([[[a[0],a[4]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return d[1]=c.i64.of_float(Date.now()),c.db.table(67).add({query:a[0],surfaceType:a[4],statusPrimary:c.i64.cast([0,1]),statusSecondary:c.i64.cast([0,1]),startTimeMs:d[1]})},function(e){return d[2]=c.i64.cast([0,0]),d[3]=new c.Map(),d[3].set("query",a[0]),d[3].set("supported_types",a[1]),d[3].set("session_id",a[2]),d[3].set("surface_type",a[4]),d[3].set("selected_participants",a[5]),d[3].set("group_id",a[6]),d[3].set("community_id",a[8]),d[3].set("thread_id",a[7]),d[3].set("query_id",a[3]),d[4]=c.createArray(),d[10]=(d[4].push("search_primary"),d[4]),d[5]=c.i64.of_float(Date.now()),d[10]=(d[4].push(c.i64.to_string(d[5])),d[4]),d[6]=c.toJSON(d[4]),d[7]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),d[6],c.i64.cast([0,30]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),d[2])},function(e){return d[8]=new c.Map(),d[8].set("query",a[0]),d[8].set("supported_types",a[1]),d[8].set("session_id",a[2]),d[8].set("surface_type",a[4]),d[8].set("selected_participants",a[5]),d[8].set("group_id",a[6]),d[8].set("community_id",a[8]),d[8].set("thread_id",a[7]),d[8].set("query_id",a[3]),d[9]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTask"),"search_secondary",c.i64.cast([0,31]),d[9],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(e.item,0)})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSSearchIssueSearchQueryStoredProcedure";e.exports=a}),null);
__d("LSIssueSearchQueryStoredProcedure",["LSIssueSearchQuery","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.query;d[1]=b.supportedTypes;d[2]=b.sessionId;d[3]=b.queryId;d[4]=b.surfaceType;d[5]=b.selectedParticipants;d[6]=b.groupId;d[7]=b.threadId;d[8]=b.communityId;return c("LSIssueSearchQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSRestrictionType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,DATA_PRIVACY:1,ENCRYPTED_THREAD:2});f["default"]=a}),66);
__d("LSSearchRequestStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});f["default"]=a}),66);
__d("MNetContactItemType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15,BROADCAST_CHAT:16,MSGR_PUBLIC_CHANNEL:17,MSGR_SOCIAL_CHANNEL:18,NETEGO_IG_PUBLIC_CHANNELS:19});f["default"]=a}),66);
__d("MWChatTemporarySearchResultUtils",["fbt","$InternalEnum","I64","LSContactBitOffset","LSContactTypeExact","LSContactViewerRelationship","LSIntEnum"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;f=b("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"non_contacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups",AI_BOTS:"ai_bots"});function a(a){var b=a.contactTypeExact;if((i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT))){b=a.contactViewerRelationship;return(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT))}return d("LSContactBitOffset").hasWithDefault(64,a,!0)}function k(){var a=h._("__JHASH__JamETNXLecz__JHASH__").toString();return a}function e(a,b){b===void 0&&(b=!1);a=a.contactTypeExact;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)))return k();return b?l():""}function l(){return h._("__JHASH__MsgX-pcOE1N__JHASH__").toString()}g.SectionAnalyticsNameType=f;g.isViewerUnconnectedForContact=a;g.getSectionHeaderForAIBot=k;g.getSectionHeaderForContact=e;g.getSectionHeaderForContactsNullstate=l}),226);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){switch(a.length){case 0:return c("gkx")("22885")?"":h._("__JHASH__DaN6ZhVAhFM__JHASH__");case 1:return a[0];case 2:return h._("__JHASH__CYtAjqXrfJL__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1])]);case 3:return h._("__JHASH__0GwsaOqt1zM__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])]);default:return h._("__JHASH__-HjU-GfOUIJ__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_count",String(a.length-2))])}}var k=c("gkx")("24044");function l(a,b,c,e,f,g){if(a!=null)return a;a=d("LSMessagingThreadTypeUtil").isGroup(e);e=c.filter(function(a){return!(i||(i=d("I64"))).equal(a.contact_id,b)});if(a)return j(e.map(f));return c.length!==1?j(e.map(g)):g(c[0])}function a(a,b,c,d){return l(a,b,c,d,function(a){var b=a.name;a=a.nickname;return k?(a=a)!=null?a:b:b},function(a){var b=a.actual_name;a=a.nickname;return k?(a=a)!=null?a:b:b}).toString()}function b(a,b,c,d){return l(a,b,c,d,function(a){a=a.actual_name;return a},function(a){a=a.actual_name;return a}).toString()}function e(a,b,c,d){return l(a,b,c,d,function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b}).toString()}g.getDefaultThreadTitle=a;g.getThreadTitleWithFullName=b;g.getThreadTitleWithSecondaryNames=e}),226);
__d("SearchStandardResultType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({CONTACT:1,NON_CONTACT:2,GROUP:3,XAC_CONTACT:4,XAC_NON_CONTACT:5,XAC_GROUP:6,OTHER:7,SOFT_CONTACT:8,PAGE:9,GAME:10,SMS:11,SMS_GROUP:12,WHATSAPP:13,INTEGRATED_MESSAGE_SEARCH_THREAD:14,IG_BUSINESS:15,COMMUNITY_CHAT:16,REEL:17,PUBLIC_CHAT:18,UNJOINED_COMMUNITIES:19,UNJOINED_SOCIAL_CHANNEL:20,JOINED_SOCIAL_CHANNEL:21,UNJOINED_BROADCAST_CHANNEL:22,JOINED_BROADCAST_CHANNEL:23,UNJOINED_SUBSCRIBER_SOCIAL_CHANNEL:24,JOINED_SUBSCRIBER_SOCIAL_CHANNEL:25,UNJOINED_SUBSCRIBER_BROADCAST_CHANNEL:26,JOINED_SUBSCRIBER_BROADCAST_CHANNEL:27,MOST_ENGAGED_FOLLOWERS:28,MOST_RECENT_FOLLOWERS:29,DIRECT_INVITE_MIX_TYPES:30,BROADCAST_FLOW_CHAT:31,UNJOINED_COMMUNITY_CHAT:32,AI_AGENT:33,COMMUNITIES:34,MEDIA:35,LINKS:36,FILES:37,CONTACT_INVITE:38,UGC_BOT:39,META_AI_SNIPPET:40,META_AI_SNIPPET_PROMPT:41});c=a;f["default"]=c}),66);
__d("MWSearchStandardResultTypeMappings",["I64","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.contactType,e=a.contactViewerRelationship;a=a.contactTypeExact;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)))return 33;if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").USER))){if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return 2;return(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").SOFT_CONTACT))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").FACEBOOK_FRIEND))?1:7}return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))?9:7}function j(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT)))return 2;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP)))return 3;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE)))return 9;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)))return 16;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)))return 14;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL)))return 18;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY)))return 34;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING)))return 4;return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING))?5:7}function k(a){if(d("LSMessagingThreadTypeUtil").isOneToOne(a))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153)))return 22;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152)))return 23;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154)))return 21;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155)))return 20;return d("LSMessagingThreadTypeUtil").isGroup(a)?3:7}function b(a,b){a=k(a);if(a===7)return j(b);else return a}g.mapContactToSearchStandardResultType=a;g.mapLSSearchTypeToSearchStandardResultType=j;g.mapThreadTypeToSearchStandardResultType=k;g.mapServerSearchResultToSearchStandardResultType=b}),98);
__d("MWChatTemporarySearchResult",["DisappearingMessagesMode","FBLogger","I64","LSContactBitOffset","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMessagingThreadTypeUtil","LSRestrictionType","LSSearchType","LSThreadBitOffset","LSWhatsAppConnectStatus","MWChatSearchResultType","MWChatTemporarySearchResultUtils","MWLSContactTypeExactUtils","MWLSThreadTitle","MWSearchStandardResultTypeMappings","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING))}function k(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").AI_BOT))||j(a))return c("MWChatSearchResultType").USER;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)))return c("MWChatSearchResultType").GROUP;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE)))return c("MWChatSearchResultType").PAGE;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)))return c("MWChatSearchResultType").MESSAGE;else{c("FBLogger")("messenger_web_product").warn("Unknown Search Result Type "+(h||(h=d("I64"))).to_string(a));return c("MWChatSearchResultType").USER}}function a(a,b,e,f,g,j){var k=e.contactType,l=e.contactTypeExact,m=e.secondaryName;l=d("MWLSContactTypeExactUtils").isIgContact(l);m=l&&m!=null?m:"";var n=f!=null?[f.e2eeEligibility,!(h||(h=d("I64"))).equal(f.e2eeEligibility,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],o=n[0];n=n[1];return{defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(83,e),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,hasCutoverThread:d("LSContactBitOffset").has(76,e),id:(h||(h=d("I64"))).to_string(e.id),imageUrl:c("getLSMediaContactProfilePictureUrl")(e),isAiBot:h.equal(e.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:h.equal(e.contactViewerRelationship,i.ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isDisappearingModeSettingOn:d("LSContactBitOffset").has(94,e),isE2EE:b===!0,isEPD:h.equal(e.restrictionType,i.ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInstagramAccount:l,isInstamadilloCutover:d("LSContactBitOffset").has(95,e),isInteropEligible:d("LSContactBitOffset").has(67,e),isTTLCClipEnabled:d("LSContactBitOffset").has(96,e),isTTLCGenericXMAShareEnabled:d("LSContactBitOffset").has(97,e),isTTLCMediaShareEnabled:d("LSContactBitOffset").has(98,e),isTTLCStoryShareEnabled:d("LSContactBitOffset").has(99,e),isVerified:(b=d("LSContactBitOffset").has(23,e))!=null?b:!1,isViewerUnconnected:d("MWChatTemporarySearchResultUtils").isViewerUnconnectedForContact(e),isWAEligible:n,matchedTerms:j,rankingScore:a,resultIgid:(l=f==null?void 0:f.igId)!=null?l:void 0,resultType:(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").USER))||!((h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))||(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE_PERSONA)))?c("MWChatSearchResultType").USER:c("MWChatSearchResultType").PAGE,searchResultType:d("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(e),searchSource:g,section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForContact(e),subtext:m,supportsE2eeSpamdStorage:f!=null?f.supportsE2eeSpamdStorage:void 0,waAddressable:h.equal(e.waConnectStatus,i.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:o}}function l(a,b,c){var e=a.threadDescription,f=a.threadName;if(e!=null)return e;else if(f!=null&&f!=="")return d("MWLSThreadTitle").getDefaultThreadTitle(void 0,b,c,a.threadType).toString();else return""}function m(a,b,c){if(!d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(a.threadType))return;a=b.find(function(a){return!(h||(h=d("I64"))).equal(a.contact_id,c)});if(a==null)return;return a.contact_id}function b(a,b,e,f,g,j,k,n,o){var p=l(a,e,j),q=m(a,j,e);q=q!=null?(h||(h=d("I64"))).to_string(q):void 0;return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,e,j,a.threadType).toString(),id:(h||(h=d("I64"))).to_string(a.threadKey),imageUrl:f,isAiBot:h.equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:h.to_int32((e=o==null?void 0:o.igDmSettingsMode)!=null?e:(h||(h=d("I64"))).zero)===c("DisappearingMessagesMode").ON,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,a),isVerified:!1,matchedTerms:n,otherUserId:q,rankingScore:k,resultType:c("MWChatSearchResultType").GROUP,searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(a.threadType),searchSource:b,secondaryImageUrl:g,section:"",subtext:p,threadKey:a.threadKey,threadType:a.threadType}}function e(a,b,e){var f,g=(h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)),l=j(a.type_),m=a.defaultE2eeThreadOneToOne,n=a.defaultE2eeThreads,o=a.hasCutoverThread,p=a.isVerified,q=a.otherUserId,r=a.query,s=a.supportsE2eeSpamdStorage,t=a.waEligibility;f=b!=null?(f=b.displayName)!=null?f:"":"";r===""&&(f=d("MWChatTemporarySearchResultUtils").getSectionHeaderForContactsNullstate());return{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:m!==null?m:void 0,defaultE2eeThreads:n!==null?n:void 0,displayName:a.displayName,hasCutoverThread:o!==null?o:void 0,id:a.resultId,imageUrl:a.profilePicUrl,isAiBot:h.equal(a.type_,i.ofNumber(c("LSSearchType").AI_BOT)),isContact:g,isDisappearingModeSettingOn:Boolean(a.isDisappearingModeSettingOn),isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isGroupsXacEligible:a.isGroupsXacEligible,isInstagramAccount:l,isInstamadilloCutover:Boolean(a.isInstamadilloCutover),isInteropEligible:a.isInteropEligible,isTTLCClipEnabled:Boolean(a.hasTtlcClipEnabled),isTTLCGenericXMAShareEnabled:Boolean(a.hasTtlcGenericXmaShareEnabled),isTTLCMediaShareEnabled:Boolean(a.hasTtlcMediaShareEnabled),isTTLCStoryShareEnabled:Boolean(a.hasTtlcStoryShareEnabled),isVerified:p!=null?p:!1,isViewerUnconnected:a.isViewerUnconnected,isWAEligible:t!=null?!(h||(h=d("I64"))).equal(t,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,otherUserId:q?(h||(h=d("I64"))).to_string(q):void 0,restrictionType:a.restrictionType,resultIgid:a.resultIgid,resultType:k(a.type_),searchResultType:d("MWSearchStandardResultTypeMappings").mapServerSearchResultToSearchStandardResultType(a.threadType,a.type_),searchSource:e,secondaryImageUrl:a.secondaryProfilePicUrl,section:f,sectionAnalyticsName:b==null?void 0:b.analyticsName,serverSearchResult:a,subtext:g?"":a.contextLine,subtextAdditional:(r=a.secondaryContextLine)!=null?r:"",supportsE2eeSpamdStorage:s,threadJoinLinkHash:a.threadJoinLinkHash,threadType:a.threadType,waAddressable:a.isWaAddressable,waEligibility:a.waEligibility}}g.checkIsInstagramAccount=j;g.getResultType=k;g.fromContact=a;g.fromThread=b;g.fromServerSearchResult=e}),98);
__d("MWChatSearchFetchContactRecommendations",["I64","LSContactBitOffset","LSContactViewerRelationship","LSDatabaseSingleton","LSIntEnum","LSSearchType","LSWhatsAppConnectStatus","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult","MWLSContactTypeExactUtils","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getLSMediaContactProfilePictureUrl","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(i||d("react")).useMemo;function n(a){if(a<0)return-1;return a>0?1:0}function o(a){return a.sort(function(a,b){a=a[0];var c=a[0];a=a[1];b=b[0];var d=b[0];b=b[1];if(d.score!==c.score)return n(d.score-c.score);if(a!=null&&b!=null)return n(b.rank-a.rank);return b==null&&a==null?0:b!=null?1:-1})}function p(a){var b=a.contactTypeExact;a=a.contactViewerRelationship;if(d("MWLSContactTypeExactUtils").isIgContact(b)){if((j||(j=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING);return(j||(j=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))?(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING):(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)}return(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)}function q(a){return a.map(function(a,b){var e=a[0],f=e[0];e=e[1];a=a[1];if(e==null)return;var g=e.contactTypeExact;f=(l||(l=d("LSIntEnum"))).toNumber(f.contactType);var h;!c("gkx")("26359")&&d("LSContactBitOffset").has(76,e)?h=15:h=f===c("MNetContactItemType").GROUP?2:1;var i;switch(f){case c("MNetContactItemType").CONTACT:i=p(e);break;case c("MNetContactItemType").GROUP:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP);break;case c("MNetContactItemType").PAGE:case c("MNetContactItemType").BOT:case c("MNetContactItemType").GAME:case c("MNetContactItemType").STICKER:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE);break;case c("MNetContactItemType").IG_THREAD:case c("MNetContactItemType").INTEROP_THREAD:case c("MNetContactItemType").MSGR_THREAD:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD);break;case c("MNetContactItemType").IG_USER:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING);break;default:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT)}f={blockedByViewerStatus:e.blockedByViewerStatus,contextLine:(f=e.secondaryName)!=null?f:"",defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(83,e),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,globalIndex:(j||(j=d("I64"))).of_int32(b),hasCutoverThread:d("LSContactBitOffset").has(76,e),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInteropEligible:d("MWLSContactTypeExactUtils").isIgContact(g)?d("LSContactBitOffset").has(67,e):void 0,isVerified:d("LSContactBitOffset").has(23,e),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,e,!0),isWaAddressable:j.equal(e.waConnectStatus,l.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:c("getLSMediaContactProfilePictureUrl")(e),query:"",resultId:j.to_string(e.id),resultIgid:a==null?void 0:a.igId,threadType:l.ofNumber(h),type_:i,waEligibility:a==null?void 0:a.e2eeEligibility};b=d("MWChatTemporarySearchResult").fromServerSearchResult(f,void 0,"offline_nullstate");return[b,e]}).filter(Boolean)}function r(a,b){var c;return(c=d("ReQL")).leftJoin(c.leftJoin(c.fromTableAscending(a.tables.ranking_scores.index("scoreTypeContactId")).getKeyRange(b),c.fromTableAscending(a.tables.contacts)),c.fromTableAscending(a.tables.ig_contact_info))}function a(a){a===void 0&&(a=(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return r(b,a)},[a,b],f.id+":238");return m(function(){return q(o(e)).filter(function(a){a=a[0];return!a.isAiBot})},[e])}function e(a){a===void 0&&(a=(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return d("ReQL").toArrayAsync(r(b,a))}).then(function(a){return q(o(a))})}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(r(a,b)));return q(o(a)).map(function(a){a=a[0];return a})});return t.apply(this,arguments)}g.sortInPlaceQueryResults=o;g.mapToServerSearchResults=q;g.makeQuery=r;g.useChatSearchContactRecommendations=a;g.fetchRecommendations=e;g.fetchContacts=s}),98);
__d("MWLSParticipant",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","MWLSContactTypeExactUtils","ReQL","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b={actual_name:"",blocked_by_viewer_status:(h||(h=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:(i||(i=d("I64"))).zero,contactType:h.ofNumber(c("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:i.zero,gender:h.ofNumber(c("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:h.ofNumber(c("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:i.zero,read_watermark_timestamp_ms:i.zero,secondary_name:void 0,thread_key:i.zero,work_company_name:void 0,work_foreign_entity_info:h.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function j(a){var b=a[0];a=a[1];var e=b.nickname,f=a.blockedByViewerStatus,g=a.contactTypeExact,i=a.firstName,j=a.name,k=a.secondaryName;return{actual_name:j,blocked_by_viewer_status:f,contact_id:b.contactId,contactType:a.contactType,delivered_watermark_timestamp_ms:b.deliveredWatermarkTimestampMs,gender:a.gender,is_admin:(f=b.isAdmin)!=null?f:!1,is_messenger_user:a.isMessengerUser,mailbox_type:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),name:(f=(f=e)!=null?f:i)!=null?f:j,nickname:e,profile_picture_url:c("getLSMediaContactProfilePictureUrl")(a),rank:a.rank,read_action_timestamp_ms:b.readActionTimestampMs,read_watermark_timestamp_ms:b.readWatermarkTimestampMs,secondary_name:d("MWLSContactTypeExactUtils").isIgContact(g)?k:void 0,thread_key:b.threadKey,work_company_name:a.workCompanyName,work_foreign_entity_info:a.workForeignEntityType,work_job_title:a.workJobTitle}}function a(a,b,c){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c),b).map(j)}g.empty=b;g.projectOpen=j;g.getAllInOpenThread=a}),98);
__d("MWSearchThreadUtils",["I64","LSIntEnum","LSMessageSearchType","MAWChatJid","MWLSParticipant","MWLSThreadTitle","Promise","ReQL","asyncToGeneratorRuntime","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e,f){var g=c("getLSMediaThreadPictureUrl")(a);if(g!=null)return(j||(j=b("Promise"))).resolve([g,void 0]);else{a=(g=d("ReQL")).toArrayAsync(g.leftJoin(g.fromTableAscending(f.tables.participants,[]).getKeyRange(a.threadKey),g.fromTableAscending(f.tables.contacts)).map(function(a){a[0];a=a[1];return a}).filter(Boolean));g=a.then(function(a){var b=a.length===1&&(h||(h=d("I64"))).equal(a[0].id,e);return a.sort(function(a,b){return a.rank-b.rank}).filter(function(a){return(h||(h=d("I64"))).equal(a.id,e)?b:!0}).map(function(a){return c("getLSMediaContactProfilePictureUrl")(a)})}).then(function(a){var b=a[0];return b!=null?[b,a[1]]:["",void 0]});return g}}function l(a,b){return d("ReQL").toArrayAsync(d("MWLSParticipant").getAllInOpenThread(b,d("ReQL").fromTableAscending(b.tables.contacts),a.threadKey))}function m(a,b,e,f,g){if((h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&f!=null){g=(g=e.find(function(a){return a.contact_id===f.id}))==null?void 0:g.nickname;return(g=g)!=null?g:f.name}return d("MWLSThreadTitle").getThreadTitleWithFullName(b.threadName,a,e,b.threadType)}function a(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b=(yield d("MAWChatJid").toThreadKeyMaybe(a.tables,b));return b==null?null:o(a,b,c,e)});return n.apply(this,arguments)}function o(a,b,c,d){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)));return b==null?null:q(a,b,c,e)});return p.apply(this,arguments)}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d,e){a=(yield (j||(j=b("Promise"))).all([k(c,d,a),l(c,a)]));var f=a[0],g=f[0];f=f[1];a=a[1];d=(yield m(d,c,a,void 0,e));return{profilePicUrl:g,secondaryProfilePicUrl:f,threadDisplayName:d,threadKey:c.threadKey,threadType:c.threadType}});return r.apply(this,arguments)}g.getThreadPics=k;g.getThreadParticipants=l;g.getThreadDisplayName=m;g.getThreadDataForSearchResult=a;g.getThreadDataByThreadKey=o}),98);
__d("MWChatSearchFetchThreadRecommendations",["I64","LSAuthorityLevel","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatSearchResultType","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchThreadUtils","Promise","ReQL","asyncToGeneratorRuntime","hasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){return d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info))}function m(a,b,e,f,g,h,j){var l=(i||(i=d("I64"))).to_float(b.lastActivityTimestampMs);l={contactId:i.zero,contactType:i.zero,score:l,scoreIndex:i.zero,scoreType:i.zero};return{defaultE2eeThreadOneToOne:(j=j)!=null?j:void 0,displayName:d("MWLSThreadTitle").getDefaultThreadTitle(b.threadName,a,e,b.threadType).toString(),hasCutoverThread:(j=h)!=null?j:void 0,id:i.to_string(b.threadKey),imageUrl:f,isAiBot:i.equal(b.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,b),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,b),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,b),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,b),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,b),isVerified:!1,rankingScore:l,resultType:d("LSMessagingThreadTypeUtil").isGroup(b.threadType)?c("MWChatSearchResultType").GROUP:c("MWChatSearchResultType").USER,searchSource:"offline_nullstate",secondaryImageUrl:g,section:"",subtext:(a=b.threadDescription)!=null?a:"",threadKey:b.threadKey,threadType:b.threadType}}function n(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs"))).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var d=(yield (h||(h=b("Promise"))).all(c.map(function(b){return p(a,b)})));return c.filter(function(a,b){return!d[b]})});return function(a){return c.apply(this,arguments)}}())}function a(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),e=(yield (h||(h=b("Promise"))).all([l(a),n(a)])),f=e[0];e=e[1];return h.all(e.map(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var g=(yield (h||(h=b("Promise"))).all([d("MWSearchThreadUtils").getThreadPics(e,f.facebookUserId,a),d("MWSearchThreadUtils").getThreadParticipants(e,a),d("LSMessagingThreadTypeUtil").isOpenOneToOne(e.threadType)?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(e.threadKey)):null,d("LSMessagingThreadTypeUtil").isOpenOneToOne(e.threadType)?c("hasDefaultThreadOneToOneCapability")(e.threadKey,a):null])),i=g[0],j=g[1],k=g[2];g=g[3];var l=i[0];i=i[1];return m(f.facebookUserId,e,j,l,i,Boolean(k),g)});return function(a){return e.apply(this,arguments)}}()))});return o.apply(this,arguments)}function p(a,b){if(!(d("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(b.threadType)&&d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(b.folderName)))return!0;if(d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(b.threadType)&&(k||(k=d("LSIntEnum"))).toNumber(b.authorityLevel)<c("LSAuthorityLevel").AUTHORITATIVE)return!0;return d("LSThreadBitOffset").has(44,b)?!0:q(a,b)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(c.threadKey)),d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId}))])),f=e[0];e=e[1];c=(yield d("MWGetOtherContactOrSelf").getOtherContactOrSelf(c.threadKey,e,a));a=(e=c)!=null?e:f;c=!1;a&&(c=d("LSContactBitOffset").has(28,a)||d("LSContactBitOffset").has(29,a));return c});return r.apply(this,arguments)}g.fetchThreadRecommendations=a;g.shouldFilterBlockedUser=q}),98);
__d("MWChatSearchIssueLightspeedQuery",["I64","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueSearchQueryStoredProcedure","LSPlatformWaitForTaskCompletion","LSSearchRequestStatusType","LSVec","MWChatSearchFetchContactRecommendations","MWChatSearchFetchThreadRecommendations","MWChatSearchResultType","MWChatTemporarySearchResult","Promise","ReQL","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("gkx")("26360");function m(a,b){var e=a[0];a=a[1];var f=[],g=0;e.sort(function(a,b){return(i||(i=d("I64"))).compare(a.globalIndex,b.globalIndex)});a.sort(function(a,b){return(i||(i=d("I64"))).compare(a.globalIndex,b.globalIndex)});for(var h=0,j=e.length;h<j;++h){var k=e[h];while(g<a.length&&(i||(i=d("I64"))).ge(a[g].globalIndex,k.startIndex)&&(i||(i=d("I64"))).le(a[g].globalIndex,k.endIndex)){var l=a[g];f.push(d("MWChatTemporarySearchResult").fromServerSearchResult(l,k,"server"));g+=1}}return f.filter(function(a){if(b)return!0;else return a.resultType!==c("MWChatSearchResultType").GROUP})}function n(a,b,e){var g=e.query;return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(d),{query:g,supportedTypes:c("LSVec").ofArray(a),surfaceType:b})},"readwrite",void 0,void 0,f.id+":109").then(function(){return d})})}function a(a,e,f,g,l){var n=l.query;if(e.length>0&&!e.includes("server"))return(h||(h=b("Promise"))).resolve([]);else return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(b),{query:n,supportedTypes:c("LSVec").ofArray(a),surfaceType:f})},"issueSearchQuery").then(function(){return b})}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,f=(e=d("ReQL")).toArrayAsync(e.fromTableAscending(a.tables.server_search_results).getKeyRange(n).filter(function(a){return(i||(i=d("I64"))).equal(a.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}));e=e.toArrayAsync(e.fromTableAscending(a.tables.server_search_sections).getKeyRange(n));a=(yield (h||(h=b("Promise"))).all([e,f]));return m(a,g)});return function(b){return a.apply(this,arguments)}}())}function e(a,c,e,f){return d("MWChatSearchFetchContactRecommendations").fetchRecommendations(f).then(function(a){return(h||(h=b("Promise"))).resolve(a.map(function(a){a=a[0];return a}))})}function o(a,b){if(!b.has(a.resultType))return!0;if(!a.isE2EE&&a.defaultE2eeThreadOneToOne===!0)return!0;if(a.hasCutoverThread===!0)return!0;return a.isAiBot?!0:!1}function p(a){var b=[],c=new Set();a.forEach(function(a){c.has(a.id)||(b.push(a),c.add(a.id))});return b}function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("MWChatSearchFetchThreadRecommendations").fetchThreadRecommendations());if(a.length===0)return[];var b=new Set([c("MWChatSearchResultType").USER,c("MWChatSearchResultType").GROUP]);a=p(a);return a.filter(function(a){return!o(a,b)})});return r.apply(this,arguments)}function s(a,b,e,f){var g=[],h=[],k=[],l=function(){if(g.length===0||h.length===0||k.length!==1)return;(i||(i=d("I64"))).equal(k[0].statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))||f(m([h,g],e))},n=a.tables.server_search_results.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(b)),function(a){g=a;return l()})}),o=a.tables.server_search_sections.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(b)),function(a){h=a;return l()})}),p=a.tables.search_queries.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.search_queries).getKeyRange(b).filter(function(a){return!(i||(i=d("I64"))).equal(a.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})),function(a){k=a;return l()})});return function(){n(),o(),p()}}function t(a,b,e,f,g,h){var k=g.query;!l?c("promiseDone")(n(b,e,g)):c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.search_queries).getKeyRange(k).filter(function(a){return!(i||(i=d("I64"))).equal(a.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})).then(function(c){return c==null||c.length!==1?n(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(k)).then(function(c){return c==null||c.length===0?n(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(k)).then(function(a){if(a==null||a.length===0)return n(b,e,g);h(m([a,c],f))})})}));return s(a,g.query,f,h)}g.toSearchResults=m;g.makeSearchQuery=n;g.fetchResults=a;g.fetchRecommendations=e;g.shouldFilterSearchResultsForSharingNS=o;g.dedupeByThreadKey=p;g.fetchThreadRecommendations=q;g.requestResults=t}),98);
__d("UnifiedShareSheetConstants",[],(function(a,b,c,d,e,f){"use strict";a={DISABLED:"disabled",SEND:"send",SEND_SEPARATELY:"send_separately"};b=8;c=84;d={color:"primary-text",fontSize:15};f.SEND_BUTTON_STATUS=a;f.MESSENGER_HSCROLL_PADDING=b;f.MESSENGER_CONTACT_WIDTH=c;f.TEXT_STYLE=d}),66);
__d("useCometMessengerhasDefaultThreadOneToOneCapability",["FBLogger","hasDefaultThreadOneToOneCapabilityDeferred","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a,b){var d=j(!1),e=d[0],f=d[1];i(function(){c("hasDefaultThreadOneToOneCapabilityDeferred").load().then(function(c){b==null?f(!1):c(b,a).then(function(a){f(a)})["catch"](function(){})})["catch"](function(a){c("FBLogger")("messenger_web_product").warn("Error loading hasDefaultThreadOneToOneCapability. %s",a)})},[a,e,b]);return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometMessagingJewelDropdownRestoreUpsellQuery.graphql",["CometMessagingJewelDropdownRestoreUpsellQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:!1,kind:"LocalArgument",name:"qpWithPinEnabled"}],c={alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"jewel_softblock_state",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"is_eb_restore_upsells_dismissed",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},f],storageKey:null},h={alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},i={alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null},j={alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c,f],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownRestoreUpsellQuery",selections:[{args:[{kind:"Variable",name:"qpWithPinEnabled",variableName:"qpWithPinEnabled"},{kind:"Literal",name:"shouldShowEBThreadListUpsells",value:!0}],kind:"FragmentSpread",name:"CometMessagingJewelDropdownContent_query"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWChatEncryptedBackupsRestoreUpsellWrapper_viewer"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c],storageKey:null},{kind:"ClientExtension",selections:[d,e]}],storageKey:null},action:"THROW",path:"viewer"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWChatEncryptedBackupsRestoreUpsellWrapper_xfbEncryptedBackup"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMessagingJewelDropdownRestoreUpsellQuery",selections:[{"if":null,kind:"Defer",label:"MWEncryptedBackupsJewelNuxWrapper_query$defer$MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query_3fzEYt",selections:[{"if":null,kind:"Defer",label:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query$defer$MWEncryptedBackupsThreadListRestoreQPWrapper_query_3fzEYt",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[g,h,f],storageKey:null},{condition:"qpWithPinEnabled",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[i,j,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_with_pin_state",storageKey:null}]}],storageKey:null}]}]}]},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[k,f,g,h],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null},d,e]},{alias:"jewel_qp",args:[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2KN39x"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerInstructorAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerBeforeClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerLearnerAfterClassRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebEPDBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPrivacyPolicyNoticeBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelDropdownQPBannerContainer_viewer",fragmentName:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy_cometQuickPromotionBaseStrategy",fragmentPropName:"cometQuickPromotionBaseStrategy",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloSecurityAlertsSettingsDefaultOffBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"2KN39x")'}],storageKey:null},f],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:10713},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"xxYRh"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMessagingJewelCommunitiesQPBannerContainer_viewer",fragmentName:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebCommunitiesBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"xxYRh")'}],storageKey:null},f],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10713,trigger:"MESSAGING_JEWEL_COMMUNITIES_TAB_OPEN")'},{alias:null,args:null,concreteType:"GroupsTab",kind:"LinkedField",name:"groups_tab",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGlobalFBGroupChat",kind:"LinkedField",name:"suggested_chats",plural:!0,selections:[f],storageKey:null}],storageKey:null},i,j],storageKey:null}]},params:{id:b("CometMessagingJewelDropdownRestoreUpsellQuery_facebookRelayOperation"),metadata:{},name:"CometMessagingJewelDropdownRestoreUpsellQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatEncryptedBackupsRestoreUpsellWrapper_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsRestoreUpsellWrapper_viewer",selections:[{args:null,kind:"FragmentSpread",name:"MWChatEncryptedBackupsRestoreUpsellLoader_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWChatEncryptedBackupsRestoreUpsellWrapper_xfbEncryptedBackup.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsRestoreUpsellWrapper_xfbEncryptedBackup",selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],type:"XFBEncryptedBackup",abstractKey:null};e.exports=a}),null);
__d("MWChatEncryptedBackupsRestoreUpsellWrapper",["BaseMultiStepContainer.react","CometMessagingJewelDropdownContentGlimmer.react","CometPlaceholder.react","CometRelay","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsRestoreUpsellWrapper_viewer.graphql","MWChatEncryptedBackupsRestoreUpsellWrapper_xfbEncryptedBackup.graphql","MWChatEncryptedBackupsVirtualDevicesContextProvider.react","cr:10042","deferredLoadComponent","react","requireDeferredForDisplay","useLabyrinthLogging","useMWEBFlowSourceContext","useMWEncryptedBackupsGetVirtualDevicesPreloaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatEncryptedBackupsRestoreUpsellLoader.react").__setRef("MWChatEncryptedBackupsRestoreUpsellWrapper"));function a(a){var e=a.displayAutoRestoreConsentScreenOnLoad,f=a.onCloseSoftblock,g=a.query;a=a.viewer;var j=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatEncryptedBackupsRestoreUpsellWrapper_viewer.graphql"),a),m=d("CometRelay").useFragment(i!==void 0?i:i=b("MWChatEncryptedBackupsRestoreUpsellWrapper_xfbEncryptedBackup.graphql"),g);a=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")({encryptedBackup:m});g=a.getVirtualDevices;a=g();var n=a.offlineDevicesCount,o=a.vestaClientID,p=c("useMWEBFlowSourceContext")();g=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var q=g.startFlow;return k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{}),children:e&&b("cr:10042")!=null?k.jsx(b("cr:10042"),{onCloseSoftblock:f}):k.jsx(c("BaseMultiStepContainer.react"),{expanding:!0,children:function(a){var e,g=b("cr:10042")!=null?function(){a(function(){q({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,source:p()});return k.jsx(b("cr:10042"),{onCloseSoftblock:f})})}:function(){};return k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("CometMessagingJewelDropdownContentGlimmer.react"),{}),children:k.jsx(c("MWChatEncryptedBackupsVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:(e=m==null?void 0:m.has_otc_eligible_devices)!=null?e:void 0,offlineDevicesCountInitialValue:n,vestaClientIDInitialValue:o,children:k.jsx(l,{onCloseSoftblock:f,pushAutoRestoreConsentPage:g,source:p(),viewer:j})})})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBJewelSoftblockState.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INITIAL:0,RESTORE_IN_PROGRESS:1,CONSENT_SCREEN:2});c=a;f["default"]=c}),66);
__d("CometMessagingJewelDropdownRestoreUpsell.react",["fbt","BaseMultiStepContainer.react","CometErrorBoundary.react","CometMessagingJewelDropdownContent.react","CometMessagingJewelDropdownRestoreUpsellQuery.graphql","CometRelay","CometTopNavListDropdown.react","FBLogger","I64","InteractionTracingMetrics","LSAuthorityLevel","LSIntEnum","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsRestoreUpsellWrapper","MWEBFlowSourceContextProvider.react","MWEBJewelSoftblockState.enum","MWEBUpsellDismissedEnum.facebook","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","ReQL","ReQLSuspense","cr:10039","hero-tracing-placeholder","qex","react","stylex","useReStore","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=n||(n=d("react"));e=n;var p=e.useCallback,q=e.useContext,r=e.useEffect,s=e.useRef,t=e.useState,u={cardWidth:{width:"x1cvmir6",$$css:!0}};function a(a){var e,g,n=a.props.onClose;a=a.queries.jewelUpsellQueryRef;var v=c("useTopMostRouteCometEntityKey")(),w=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometMessagingJewelDropdownRestoreUpsellQuery.graphql"),a);a=(v==null?void 0:v.entity_type)==="home"&&v.section==="community";var x=(j||(j=c("useReStore")))(),y=d("CometRelay").useRelayEnvironment();v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(x.tables.secure_encrypted_backups_client_state).filter(function(a){a=a.authorityLevel;return(l||(l=d("I64"))).equal(a,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))})},[x],f.id+":106");var z=t(d("MWEBUseLocalStorage").mwEBGetIsLocalStorageEntryValuePresent(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_SHOULD_NOT_DISPLAY_SOFTBLOCK)),A=z[0],B=z[1];z=(w==null?void 0:w.viewer.is_eb_restore_upsells_dismissed)===d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.ALL_DISMISSED;v=v!=null;e=(w==null?void 0:(e=w.viewer)==null?void 0:e.jewel_softblock_state)===c("MWEBJewelSoftblockState.enum").RESTORE_IN_PROGRESS;var C=(w==null?void 0:(g=w.viewer)==null?void 0:g.jewel_softblock_state)===c("MWEBJewelSoftblockState.enum").CONSENT_SCREEN,D=!A&&!z&&!v||e&&!z||C&&!c("qex")._("1375");g=t(C);var E=g[0],F=g[1],G=q(d("hero-tracing-placeholder").HeroCurrentInteractionForLoggingContext),H=p(function(){return d("CometRelay").commitLocalUpdate(y,function(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][jewel_softblock_state] A viewer record does not exist when propagating EB softblock state.");return}a.setValue(null,"jewel_softblock_state")})},[y]),I=s(!1),J=c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_RESTORE_SOFTBLOCK,K=b("cr:10039")(),L=p(function(){H(),F(!1),B(!0)},[H]);r(function(){var a;a=(a=G.current)==null?void 0:a.interactionUUID;!D&&a!=null&&c("InteractionTracingMetrics").addMarkerPoint(a,"EBRestoreUpsellCheck","AppTiming")},[G,D]);r(function(){if(!D&&C&&c("qex")._("1375")&&I.current===!1){var a;K==null?void 0:K({hasSeenNotice:(a=w==null?void 0:(a=w.viewer.encrypted_backup)==null?void 0:a.has_seen_eb_auto_restore_notice)!=null?a:!1,source:J});I.current=!0;L()}},[K,L,w==null?void 0:(A=w.viewer.encrypted_backup)==null?void 0:A.has_seen_eb_auto_restore_notice,D,J,C]);return a?null:o.jsx(c("CometTopNavListDropdown.react"),{label:h._("__JHASH__ptC-BqtItMK__JHASH__"),name:"MWJewelDropdown",children:o.jsx(c("MWEBFlowSourceContextProvider.react"),{source:J,children:o.jsx("div",{className:(k||(k=c("stylex")))([u.cardWidth]),children:o.jsx(c("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){return o.jsx(c("CometErrorBoundary.react"),{fallback:function(){return o.jsx(c("CometMessagingJewelDropdownContent.react"),{onClose:n,pushPage:a,query:w})},children:o.jsx(c("CometMessagingJewelDropdownContent.react"),{ebSoftblockUpsell:D?o.jsx(c("MWChatEncryptedBackupsRestoreUpsellWrapper"),{displayAutoRestoreConsentScreenOnLoad:E,onCloseSoftblock:L,query:w.xfb_backup,viewer:w.viewer}):null,onClose:n,pushPage:a,query:w})})}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatEBJewelChatTabAutoRestoreConsentStepDeferred.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWChatEBJewelChatTabAutoRestoreConsentStep.react").__setRef("MWChatEBJewelChatTabAutoRestoreConsentStepDeferred.react"));function a(a){a=a.onCloseSoftblock;return i.jsx(j,{onCloseSoftblock:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBConnections4AndroidIcon.react",["ix","CometImageFromIXValue.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");b=j.forwardRef(a);function a(a,b){var d=a.alt,e=a.size;e=e===void 0?"large":e;a=a.xstyle;e=e==="large"?k?h("398892"):h("398891"):h("398080");return j.jsx(c("CometImageFromIXValue.react"),{alt:d,ref:b,source:e,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MWChatEncryptedBackupsRestoreJewelChatTabContentPinInput.react",["fbt","FocusRegion.react","MWChatEBPinCodeVerifyIndicator.react","MWChatEncryptedBackupsForgotPINDialog.entrypoint","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsUpsellJewelChatTabLayout.react","MWEBConnections4AndroidIcon.react","MWEncryptedBackupsInsertOTCDialog.entrypoint","MWJewelPopoverDialogContext.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXLink.react","MWXText.react","QPLUserFlow","focusScopeQueries","react","useMWChatEncryptedBackupsPinCodeRestore","useMWEBFlowSourceContext","useMWXEntryPointDialog","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext,m={icon:{height:"xt7dq6l",width:"x1602a87",$$css:!0}},n="chat-encrypted-backups-jewel-chattab-restore-step-input";function a(a){var b=a.clientID,e=a.dismissSoftblock,f=a.doesUserHaveOtcEligibleDevices,g=a.inProgressState,i=a.onComplete,o=a.onImpressionQpl,p=a.onSubmit,q=a.onSubmitFailure,r=a.upsellImpressions;a=d("useMWChatEncryptedBackupsPinCodeRestore").useMWChatEncryptedBackupsPinCodeRestore({clientID:b,focusRegionId:n,onSubmitPin:p,onSubmitPinFailure:q,onVestaComplete:i});b=a.inputProps;p=a.isInProgress;q=a.isLabyrinthError;i=a.isPinCodeIncorrect;a=a.isVestaError;var s=c("useVisibilityObserver")({onVisible:function(){d("FocusRegion.react").focusRegionById(n,d("focusScopeQueries").tabbableScopeQuery),o(function(){return c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_ENTRY_JEWEL_PIN_CODE_RESTORE_SCREEN")})}}),t=c("useMWXEntryPointDialog")(c("MWChatEncryptedBackupsForgotPINDialog.entrypoint"),{}),u=t[0];t=c("useMWXEntryPointDialog")(c("MWEncryptedBackupsInsertOTCDialog.entrypoint"),{});var v=t[0];t=c("useMWEBFlowSourceContext")();var w=t(),x=k(function(){v({source:w},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_CLOSE_DIALOG_CLICK")})},[v,w]),y=k(function(){u({onDismiss:e})},[u,e]);t=l(c("MWJewelPopoverDialogContext.react"));var z=t.setIsOpenForDialog;t=g||p;g=h._("__JHASH__3BKxTUYmmOC__JHASH__");return j.jsx(c("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react"),{size:"large",children:j.jsxs(c("MWXColumn.react"),{ref:s,children:[j.jsx(c("MWXColumnItem.react"),{align:"center",paddingVertical:8,children:j.jsx(c("MWEBConnections4AndroidIcon.react"),{xstyle:m.icon})}),j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:20,children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:h._("__JHASH__Vl3kiyD6HdX__JHASH__")})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx("div",{className:"x1chd833 xjv05ge",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:g})})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:i?h._("__JHASH__TG8l6XqQAul__JHASH__"):q||a?h._("__JHASH__oI6Lha5PMTv__JHASH__"):void 0,inputSize:"small",children:j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:n,children:j.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},b,{disabled:t,inputSize:"small",testid:void 0}))})})}),j.jsx(c("MWXColumnItem.react"),{paddingVertical:8,children:t?j.jsx("div",{className:"xs9mwh0",children:j.jsx(c("MWChatEBPinCodeVerifyIndicator.react"),{isMessenger:!1})}):null}),j.jsxs(c("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:0,spacing:8,children:[j.jsx(c("MWXColumnItem.react"),{children:j.jsx("div",{className:"x1xmf6yo",children:f===!0?j.jsx(c("MWXButton.react"),{disabled:t,label:h._("__JHASH__rIytKXj5Yr0__JHASH__"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK"),z(!0),x()},reduceEmphasis:!1,testid:void 0,type:"secondary"}):j.jsx(c("MWXButton.react"),{disabled:t,label:h._("__JHASH__UY_FDJp7Rzt__JHASH__"),onPress:function(){z(!0),y()},reduceEmphasis:!1,testid:void 0,type:"secondary"})})}),j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx("div",{className:"x1xka2u1 x14vqqas",children:j.jsx(c("MWXText.react"),{color:t?"disabled":"blueLink",type:"bodyLink3",children:j.jsx(c("MWXLink.react"),{disabled:t,onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_ENTRY_PIN_CODE_SKIP_FOR_NOW_CLICK"),e(),c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{amount_softblock_deferred:r()}}),d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"SKIP_FOR_NOW",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent})},testid:void 0,children:h._("__JHASH__RSkgoQ-3w23__JHASH__")})})})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatEncryptedBackupsRestoreJewelChatTabContentRCInput.react",["fbt","EBSMGating","JSResourceForInteraction","MWChatEncryptedBackupsAccessCodeInput.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsUpsellJewelChatTabLayout.react","MWEBConnections4AndroidIcon.react","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEncryptedBackupsInsertOTCDialog.entrypoint","MWEncryptedBackupsLocalStorageEntryEnum","MWJewelPopoverDialogContext.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","QPLUserFlow","promiseDone","react","requireDeferred","useLabyrinthLogging","useMAWEncryptedBackupsRestoreToast","useMWChatEncryptedBackupsAddDevice","useMWEBFlowSourceContext","useMWXEntryPointDialog","useMWXLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=b.useState,o=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWChatEncryptedBackupsRestoreJewelChatTabContentRCInput.react"),p=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("MWChatEncryptedBackupsRestoreJewelChatTabContentRCInput.react"),q={icon:{height:"xt7dq6l",width:"x1602a87",$$css:!0}},r=c("JSResourceForInteraction")("MWChatEncryptedbackupsForgotRCWrapper.react").__setRef("MWChatEncryptedBackupsRestoreJewelChatTabContentRCInput.react");function a(a){var b=a.dismissSoftblock,e=a.doesUserHaveOtcEligibleDevices,f=a.inProgressState,g=a.onComplete,j=a.onImpressionQpl,s=a.onSubmit,t=a.onSubmitFailure,u=a.upsellImpressions;a=n("");var v=a[0],w=a[1];a=n(!1);var x=a[0],y=a[1];a=n(!1);var z=a[0],A=a[1],B=(i||(i=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var C=a.startFlow;a=l(function(){t(),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"wrong_recovery_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityKey:c("MWEBODSEntityKey.enum").INCORRECT_RECOVERY_CODE,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH}),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"invalid_recovery_code_input"),y(!0)},[t]);var D=c("useMWEBFlowSourceContext")(),E=c("useMWXLazyDialog")(r),F=E[0];E=c("useMWXEntryPointDialog")(c("MWEncryptedBackupsInsertOTCDialog.entrypoint"),{});var G=E[0],H=l(function(){F({onDismiss:b})},[b,F]);E=m(c("MWJewelPopoverDialogContext.react"));var I=E.setIsOpenForDialog;E=c("useMAWEncryptedBackupsRestoreToast")();var J=E.showErrorToast;E=function(a){(x||z)&&(y(!1),A(!1)),w(a)};a=c("useMWChatEncryptedBackupsAddDevice")({onComplete:l(function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"add_device_success");c("QPLUserFlow").addPoint(a.restoreQplEvent,"restore_auth_finished_and_dismissed");p.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:B,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))});o.onReady(function(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)});d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGating").isBackendSetupSuccessfulForEBSM()}},event:a.restoreQplEvent});d("MWChatEncryptedBackupsLogging").endSuccess({event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH});g()},[B,g]),onFailure:l(function(a){t(),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH}),A(!0),J()},[t,J]),onInvalidRecoveryCode:a});var K=a[0];a=a[1];var L=c("useVisibilityObserver")({onVisible:function(){j(function(){return c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RC_ENTRY_JEWEL_RECOVERY_CODE_RESTORE_SCREEN")})}});f=f||a;return k.jsx(c("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react"),{size:"large",children:k.jsxs(c("MWXColumn.react"),{ref:L,children:[k.jsx(c("MWXColumnItem.react"),{align:"center",paddingVertical:8,children:k.jsx(c("MWEBConnections4AndroidIcon.react"),{xstyle:q.icon})}),k.jsx(c("MWXColumnItem.react"),{paddingHorizontal:20,children:k.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:h._("__JHASH__JfsXR7DLnUT__JHASH__")})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx("div",{className:"x1chd833 xjv05ge",children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:h._("__JHASH__5EqF8X-sE30__JHASH__")})})}),k.jsx(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:12,children:k.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:x?h._("__JHASH__zPXS5-jS-2c__JHASH__"):z?h._("__JHASH__6LAMoj-h7lg__JHASH__"):void 0,inputSize:"small",children:k.jsx(c("MWChatEncryptedBackupsAccessCodeInput.react"),{autoSubmit:!0,disabled:f,onComplete:function(a){var b;s();c("QPLUserFlow").addPoint((b=d("MWChatEncryptedBackupsQPLEvents")).restoreQplEvent,"RECOVERY_CODE_AUTO_SUBMIT");I(!0);var e=D();c("QPLUserFlow").addAnnotations(b.restoreQplEvent,{string:{restore_type:"recovery_code",source:e}});C({additionalAnnotations:{device_type:"OFFLINE"},event:b.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_RC_RESTORE_AUTH,source:e});c("QPLUserFlow").addPoint(b.restoreDeviceAuthQplEvent,"add_device_begin");K(a)},onValueChange:E,smallInput:!0,value:v})})}),k.jsx(c("MWXColumnItem.react"),{children:f?k.jsxs(c("MWXRow.react"),{align:"center",verticalAlign:"center",children:[k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXSpinner.react"),{color:"blue",size:12})}),k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"meta3",children:h._("__JHASH__M1mdHGwWmSl__JHASH__")})})]}):null}),k.jsxs(c("MWXColumn.react"),{paddingHorizontal:16,paddingTop:8,spacing:8,children:[k.jsx(c("MWXColumnItem.react"),{children:k.jsx("div",{className:"x1xmf6yo",children:e===!0?k.jsx(c("MWXButton.react"),{disabled:f,label:h._("__JHASH__rIytKXj5Yr0__JHASH__"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK");var a=D();G({source:a},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_CLOSE_DIALOG_CLICK")})},reduceEmphasis:!1,testid:void 0,type:"secondary"}):k.jsx(c("MWXButton.react"),{label:h._("__JHASH__TJHhepIDy5c__JHASH__"),onPress:function(){I(!0),H()},reduceEmphasis:!1,testid:void 0,type:"secondary"})})}),k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",{className:"x1xka2u1 x14vqqas",children:k.jsx(c("MWXText.react"),{color:f?"disabled":"blueLink",type:"bodyLink3",children:k.jsx(c("MWXLink.react"),{disabled:f,onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RC_SKIP_FOR_NOW_CLICK"),b(),c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{amount_softblock_deferred:u()}}),d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"SKIP_FOR_NOW",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent})},testid:void 0,children:h._("__JHASH__RSkgoQ-3w23__JHASH__")})})})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWEBRestoreMoreOptionsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8739286566101143"}),null);
__d("MWEBRestoreMoreOptionsDialogQuery$Parameters",["MWEBRestoreMoreOptionsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEBRestoreMoreOptionsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEBRestoreMoreOptionsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWEBRestoreMoreOptionsDialog.entrypoint",["JSResourceForInteraction","MWEBRestoreMoreOptionsDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{moreOptionsQueryReference:{parameters:c("MWEBRestoreMoreOptionsDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWEBRestoreMoreOptionsDialog.react").__setRef("MWEBRestoreMoreOptionsDialog.entrypoint")};g["default"]=a}),98);
__d("MWEBRestoreJewelOTCFirst.react",["fbt","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsUpsellJewelChatTabLayout.react","MWEBRestoreMoreOptionsDialog.entrypoint","MWEBSyncIcon.react","MWEncryptedBackupsInsertOTCDialog.entrypoint","MWJewelPopoverDialogContext.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXLink.react","MWXText.react","QPLUserFlow","react","useMWEBFlowSourceContext","useMWXEntryPointDialog","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext;function a(a){var b=a.dismissSoftblock,e=a.onImpressionQpl,f=a.upsellImpressions;a=c("useVisibilityObserver")({onVisible:function(){e(function(){return c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FIRST_RESTORE_JEWEL_SCREEN_IMPRESSION")})}});var g=c("useMWXEntryPointDialog")(c("MWEncryptedBackupsInsertOTCDialog.entrypoint"),{}),i=g[0];g=c("useMWXEntryPointDialog")(c("MWEBRestoreMoreOptionsDialog.entrypoint"),{});var m=g[0];g=c("useMWEBFlowSourceContext")();var n=g(),o=k(function(){i({source:n},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FIRST_RESTORE_CLOSE_OTC_INSERT_DIALOG_CLICK")})},[i,n]),p=k(function(){m({onOptOut:function(){b(),c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{amount_softblock_deferred:f()}}),d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"MORE_OPTIONS_DIALOG_DO_NOT_RESTORE",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent})},source:n})},[b,m,n,f]);g=l(c("MWJewelPopoverDialogContext.react"));var q=g.setIsOpenForDialog;return j.jsx(c("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react"),{size:"large",children:j.jsxs(c("MWXColumn.react"),{paddingHorizontal:16,ref:a,spacing:12,children:[j.jsx(g=c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWEBSyncIcon.react"),{})}),j.jsx(g,{paddingHorizontal:20,paddingTop:0,paddingVertical:8,children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:h._("__JHASH__XjJsWmK0iIY__JHASH__")})}),j.jsx(g,{children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:h._("__JHASH__tNC5yN0XFze__JHASH__")})}),j.jsxs(c("MWXColumn.react"),{paddingTop:4,paddingVertical:0,spacing:8,children:[j.jsx(g,{children:j.jsx(c("MWXButton.react"),{label:h._("__JHASH__95blpFaRbPC__JHASH__"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FIRST_RESTORE_SEND_CODE_CLICK"),q(!0),o()},reduceEmphasis:!1,testid:void 0,type:"primary"})}),j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXButton.react"),{label:h._("__JHASH__OFSirhauIwo__JHASH__"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FIRST_RESTORE_MORE_OPTIONS_CLICK"),q(!0),p()},reduceEmphasis:!1,testid:void 0,type:"secondary"})})]}),j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink3",children:j.jsx(c("MWXLink.react"),{onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FIRST_RESTORE_SKIP_FOR_NOW_CLICK"),b(),c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{amount_softblock_deferred:f()}}),d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"SKIP_FOR_NOW",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent})},testid:void 0,children:h._("__JHASH__RSkgoQ-3w23__JHASH__")})})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatEncryptedBackupsRestoreJewelChatTabInputScreenWrapper.react",["MWChatEncryptedBackupsRestoreJewelChatTabContentPinInput.react","MWChatEncryptedBackupsRestoreJewelChatTabContentRCInput.react","MWEBRestoreJewelOTCFirst.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.dismissSoftblock,d=a.doesUserHaveOtcEligibleDevices,e=a.inProgressState,f=a.isRCSet,g=a.onCloseSoftblock,h=a.onComplete,j=a.onImpressionQpl,k=a.onSubmit,l=a.onSubmitFailure,m=a.upsellImpressions;a=a.vestaClientID;if(a!=null)return i.jsx(c("MWChatEncryptedBackupsRestoreJewelChatTabContentPinInput.react"),{clientID:a,dismissSoftblock:b,doesUserHaveOtcEligibleDevices:d,inProgressState:e,onComplete:h,onImpressionQpl:j,onSubmit:k,onSubmitFailure:l,upsellImpressions:m});else if(d===!0)return i.jsx(c("MWEBRestoreJewelOTCFirst.react"),{dismissSoftblock:b,onImpressionQpl:j,upsellImpressions:m});else if(f)return i.jsx(c("MWChatEncryptedBackupsRestoreJewelChatTabContentRCInput.react"),{dismissSoftblock:b,doesUserHaveOtcEligibleDevices:d,inProgressState:e,onComplete:h,onImpressionQpl:j,onSubmit:k,onSubmitFailure:l,upsellImpressions:m});g();return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsRestoreUpsellLoader_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsRestoreUpsellLoader_viewer",selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"jewel_softblock_state",storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWChatEncryptedBackupsRestoreUpsellLoader.react",["CometRelay","FBLogger","InteractionTracingMetrics","JSResourceForInteraction","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsRestoreJewelChatTabInputScreenWrapper.react","MWChatEncryptedBackupsRestoreUpsellLoader_viewer.graphql","MWChatEncryptedBackupsVirtualDevicesContext.react","MWEBFlowSourceContextProvider.react","MWEBJewelSoftblockState.enum","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","QPLUserFlow","ReQL","ReQLSuspense","hero-tracing-placeholder","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWChatEncryptedBackupsVestaUserInfo","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useRef,p=e.useState,q=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWChatEncryptedBackupsRestoreUpsellLoader.react"),r=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWChatEncryptedBackupsRestoreUpsellLoader.react"),s=c("JSResourceForInteraction")("MWChatEncryptedBackupsPinCodeBlockedDialog.react").__setRef("MWChatEncryptedBackupsRestoreUpsellLoader.react");function a(a){var e=a.onCloseSoftblock,g=a.pushAutoRestoreConsentPage,j=a.source;a=a.viewer;var t=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatEncryptedBackupsRestoreUpsellLoader_viewer.graphql"),a);a=p(t==null?void 0:t.jewel_softblock_state);var u=a[0],v=a[1],w=(i||(i=c("useReStore")))(),x=d("CometRelay").useRelayEnvironment();a=t==null?void 0:(a=t.messenger_default_encrypted_backup)==null?void 0:a.vesta_user_info;var y=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(w.tables.experiences_shared_state)},[w],f.id+":90"),z=m(c("MWChatEncryptedBackupsVirtualDevicesContext.react"));z=z.virtualDeviceInfo;var A=c("useMWChatEncryptedBackupsVestaUserInfo")({vestaGetUserInfoResponse$key:a});a=z.offlineDevicesCount>0;var B=p(!1),C=B[0],D=B[1],E=o(!1),F=o(!1);B=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var G=B.startFlow;B=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:w,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,k=b.hasUserRestoredBefore,l=b.hasUserRestoredBeforeTemp;b=b.impressionsCount;G({additionalAnnotations:{amount_softblock_deferred:b,eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:k,has_user_restored_before_temp:l,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:j});a();F.current===!1&&(F.current=!0,c("promiseDone")(r.load(),function(a){return a(g)}))},upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.SOFTBLOCK_JEWEL_AND_CHAT_TAB})};var H=A.attemptsRemaining===0||A.loginTimeoutRemainingSecs!=null,I=c("useMWXLazyDialog")(s),J=I[0],K=l(function(){return q.onReady(function(a){a=a.mwEBCreateLocalStorageEntry;a(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_SHOULD_NOT_DISPLAY_SOFTBLOCK)})},[]),L=l(function(a){return d("CometRelay").commitLocalUpdate(x,function(b){b=b.getRoot().getLinkedRecord("viewer");if(b==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][jewel_softblock_state] A viewer record does not exist when propagating EB softblock state.");return}b.setValue(a,"jewel_softblock_state")})},[x]),M=l(function(){e(),K()},[K,e]),N=l(function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").getUpsellImpressions({db:w,sharedStateTable:y,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.SOFTBLOCK_JEWEL_AND_CHAT_TAB})},[w,y]);n(function(){switch(t==null?void 0:t.jewel_softblock_state){case c("MWEBJewelSoftblockState.enum").CONSENT_SCREEN:u===c("MWEBJewelSoftblockState.enum").RESTORE_IN_PROGRESS&&g();break}v(t==null?void 0:t.jewel_softblock_state)},[t==null?void 0:t.jewel_softblock_state,u,g]);n(function(){H&&C===!0&&E.current!==!0&&(E.current=!0,J({attemptsRemaining:A.attemptsRemaining,loginTimeoutRemainingSecs:A.loginTimeoutRemainingSecs,onDismiss:M}))},[H,M,J,C,A.attemptsRemaining,A.loginTimeoutRemainingSecs]);I=(I=m(d("hero-tracing-placeholder").HeroCurrentInteractionForLoggingContext).current)==null?void 0:I.interactionUUID;c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"EBRestoreUpsell","VisualCompletion")});if(H===!0){e();return null}I!=null&&c("InteractionTracingMetrics").addAnnotationInt(I,"EBRestoreUpsell",1);return k.jsx(c("MWEBFlowSourceContextProvider.react"),{source:j,children:k.jsx(c("MWChatEncryptedBackupsRestoreJewelChatTabInputScreenWrapper.react"),{dismissSoftblock:M,doesUserHaveOtcEligibleDevices:z.doesUserHaveOtcEligibleDevices,inProgressState:(t==null?void 0:t.jewel_softblock_state)===c("MWEBJewelSoftblockState.enum").RESTORE_IN_PROGRESS,isRCSet:a,onCloseSoftblock:e,onComplete:function(){L(c("MWEBJewelSoftblockState.enum").CONSENT_SCREEN),K(),c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{amount_softblock_deferred:N()}})},onImpressionQpl:B,onSubmit:function(){L(c("MWEBJewelSoftblockState.enum").RESTORE_IN_PROGRESS),D(!0)},onSubmitFailure:function(){L(c("MWEBJewelSoftblockState.enum").INITIAL)},upsellImpressions:N,vestaClientID:z.vestaClientID})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseToastAnimationInternal.react",["react","stylex","useFadeEffect","useMergeRefs","useToasterStateManager","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useState,n=100,o={mount:{opacity:"x1hc1fzr",transform:"x3oybdh",transitionDuration:"xu6gjpd",transitionTimingFunction:"x7lz9yc",$$css:!0},root:{opacity:"xg01cxk",transform:"xswo3hg",transitionDuration:"x16rnrhc",transitionProperty:"xwcsmn1",transitionTimingFunction:"xbxq160",$$css:!0}};function a(a){var b=a.children,d=a.expired;d=d===void 0?!1:d;var e=a.id,f=a.position;a=a.xstyle;var g=m(!1),i=g[0],p=g[1],q=c("useToasterStateManager")(),r=j.Children.only(b);g=k(function(){q.resetTimer(e)},[e,q]);b=k(function(){q.stopTimer(e)},[e,q]);var s=k(function(){q.shown(e)},[e,q]),t=k(function(){q.hidden(e)},[e,q]),u=k(function(a){r.props.onActionPress!=null&&r.props.onActionPress(a),a.defaultPrevented||q.expire(e)},[r.props,e,q]);t=c("useVisibilityObserver")({onHidden:t,onVisible:s,options:{activityMonitorOverride:null}});s=c("useFadeEffect")(!d);d=s[0];var v=s[1];s=s[2];s=c("useMergeRefs")(s,t);l(function(){v===!0&&p(!0)},[v]);return d?j.jsx("li",{className:(h||(h=c("stylex")))(o.root,v&&o.mount,a),onBlur:g,onFocus:b,onMouseEnter:b,onMouseLeave:g,ref:s,style:{bottom:n*f},children:i&&j.cloneElement(r,{onActionPress:u})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CaptionsTextSizeMapping",[],(function(a,b,c,d,e,f){"use strict";a={BIG:"21px",BIGGER:"25px",BIGGEST:"25px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};b={BIG:"20px",BIGGER:"21px",BIGGEST:"21px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};c={BIG:"17px",BIGGER:"17px",BIGGEST:"17px",DEFAULT:"17px",MEDIUM:"17px",SMALL:"17px",SMALLEST:"17px"};d={BIG:"1.7vw",BIGGER:"2.0vw",BIGGEST:"2.2vw",DEFAULT:"1.1vw",MEDIUM:"1.4vw",SMALL:"0.825vw",SMALLEST:"0.55vw"};f.AdjustedCaptionsTextSizeMapFeedUnit=a;f.AdjustedCaptionsTextSizeMapWNS=b;f.FixedCaptionsTextSizeMap=c;f.DynamicCaptionsTextSizeMap=d}),66);
__d("CometTahoeChainingDepthLogging.react",["VideoPlayerHooks","react","useCometTahoeChainingDepth","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useLayoutEffect,k=b.c;function a(){var a=k(6),b=d("useCometTahoeChainingDepth").useChainingDepthContext(),e=b.chainingDepthState,f=b.chainingSessionID,g=(i||(i=d("VideoPlayerHooks"))).useController();b=c("useRoutePassthroughProps")();var h=b==null?void 0:b.chainingSeedVideoId,l;a[0]!==e||a[1]!==f||a[2]!==g||a[3]!==h?(b=function(){e!=null&&f!=null&&(g.setAdditionalLogData("video_chaining_session_id",f),g.setAdditionalLogData("video_chaining_depth_level",e),g.setSNAPLAdditionalLogData({video_chaining_depth_level:String(e),video_chaining_session_id:f})),h!=null&&(g.setAdditionalLogData("video_chaining_parent_video_id",String(h)),g.setSNAPLAdditionalLogData({video_chaining_parent_video_id:String(h)}))},l=[e,f,g,h],a[0]=e,a[1]=f,a[2]=g,a[3]=h,a[4]=b,a[5]=l):(b=a[4],l=a[5]);j(b,l);return null}g["default"]=a}),98);
__d("Duration.react",["ServerTime","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=500,k=1e3,l=60,m=60;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.state={duration:0};return b}var e=b.prototype;e.UNSAFE_componentWillMount=function(){this.$2()};e.componentWillUnmount=function(){c("clearTimeout")(this.$1)};e.$2=function(){var a=this,b;this.props.useLocalTime?b=Date.now():b=d("ServerTime").getMillis();this.setState({duration:Math.max(b-this.props.startTime,0)});this.$1=c("setTimeout")(function(){return a.$2()},j)};e.render=function(){var a=Math.floor(this.state.duration/k),b=a%l;a=Math.floor(a/l);var c=a%m;a=Math.floor(a/m);var d="";a>0&&(d=a+":");a=c+":";a.length<3&&d.length>0&&(a="0"+a);c=""+b;c.length<2&&(c="0"+c);return i.jsxs("span",{children:[d,a,c]})};return b}(i.Component);a.defaultProps={useLocalTime:!1};g["default"]=a}),98);
__d("XCometGamingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("GamingVideoBackLink.react",["fbt","ix","CometImage.react","CometPressable.react","XCometGamingControllerRouteBuilder","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=(k||(k=d("react"))).c,m=k,n={backGlyph:{display:"x3nfvp2",filter:"x1qo4wvw",opacity:"xbyyjgo",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",$$css:!0},backText:{display:"x1s85apg",$$css:!0},hoverBackGlyph:{display:"x3nfvp2",opacity:"x1hc1fzr",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",$$css:!0},hoverBackText:{color:"xe2km65",display:"x1lliihq",paddingEnd:"x1sxyh0",position:"x1n2onr6",textDecoration:"x1bvjpef",top:"xndqk7f",$$css:!0}},o=i("370949"),p=c("XCometGamingControllerRouteBuilder").buildURL({});function a(){var a=l(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__Jw_IPpFO5J9__JHASH__"),a[0]=b):b=a[0];var d=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=m.jsx(c("CometPressable.react"),{linkProps:{url:p},children:function(a){a=a.hovered;return m.jsxs("div",{className:"x78zum5 x1q0g3np",children:[m.jsx("span",{className:(j||(j=c("stylex")))(a?n.hoverBackGlyph:n.backGlyph),children:m.jsx(c("CometImage.react"),{alt:h._("__JHASH__6Dp2qR-D32f__JHASH__"),src:o})}),m.jsx("div",{className:j(a?n.hoverBackText:n.backText),children:d})]})}}),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("StoriesCardHeaderMusicAttributionDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8450680455000569"}),null);
__d("useNavigateToTahoePassthroughProps",["CometProductTagFunnelIDContext","CometTrackingCodeContext","CometTrackingNodesContext","CometWarningScreenContext","VideoPlayerHooks","getAggregatedStoryTrackingNodeIndex","react","useIsVideoHomePlayerOriginFromTracePolicy","usePlayerOriginRouteTracePolicy","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.c;function a(){var a=k(13),b=c("useVideoPlayerPortalingPassthroughProps")(),e=j(c("CometTrackingCodeContext")),f=j(c("CometTrackingNodesContext")),g=j(c("CometProductTagFunnelIDContext")),h=d("CometWarningScreenContext").useIsOverlayShown(),l=d("CometWarningScreenContext").useHasOverlay(),m;a[0]!==f?(m=c("getAggregatedStoryTrackingNodeIndex")(f),a[0]=f,a[1]=m):m=a[1];f=m;m=(i||(i=d("VideoPlayerHooks"))).useVideoPlayerInitialTracePolicy();var n=c("usePlayerOriginRouteTracePolicy")(),o=c("useIsVideoHomePlayerOriginFromTracePolicy")(n);m=(m=m)!=null?m:n;a[2]!==o?(n=o?{caller:"CHANNEL_VIEW_FROM_VIDEO_HOME"}:{},a[2]=o,a[3]=n):n=a[3];a[4]!==b||a[5]!==f||a[6]!==m||a[7]!==h||a[8]!==l||a[9]!==g||a[10]!==e||a[11]!==n?(o=babelHelpers["extends"]({bypassAutoplaySettings:!0},b,{index:f,initialTracePolicy:m,origOverlayShown:h,overlayExists:l,productTagFunnelID:g,trackingCode:e},n),a[4]=b,a[5]=f,a[6]=m,a[7]=h,a[8]=l,a[9]=g,a[10]=e,a[11]=n,a[12]=o):o=a[12];return o}g["default"]=a}),98);
__d("VideoPlayerCometNavigateToTahoeControl.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","useNavigateToTahoePassthroughProps"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j;function a(a){var b=k(12),e=a.onPress,f=a.reactionVideoChannelType,g=a.subOrigin;a=a.videoTahoeUrl;var j=c("useNavigateToTahoePassthroughProps")(),m;b[0]!==j||b[1]!==g||b[2]!==f?(m=babelHelpers["extends"]({},j,{playerSubOrigin:g,reactionVideoChannelType:f}),b[0]=j,b[1]=g,b[2]=f,b[3]=m):m=b[3];j=m;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__59jhDdzs105__JHASH__"),b[4]=g):g=b[4];f=g;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(m=d("fbicon")._(i("517763"),20),b[5]=m):m=b[5];b[6]!==j||b[7]!==a?(g={passthroughProps:j,url:a},b[6]=j,b[7]=a,b[8]=g):g=b[8];b[9]!==g||b[10]!==e?(j=l.jsx(c("VideoPlayerControlIcon.react"),{icon:m,label:f,linkProps:g,onPress:e,tooltip:f}),b[9]=g,b[10]=e,b[11]=j):j=b[11];return j}g["default"]=a}),226);
__d("VideoPlayerCometWatchInjectionControl.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","useCometRouterState","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j;function a(a){var b=k(15),e=a.isARLTW,f=a.onPress,g=a.routeTracePolicy,j=a.subOrigin;a=a.videoWatchUrl;var m=c("useVideoPlayerPortalingPassthroughProps")();m=m.portableVideoID;var n=c("useCometRouterState")();n=n==null?void 0:n.main.route.tabKey;var o;b[0]!==n?(o=n!=="watch"?h._("__JHASH__jqpm3epcsS4__JHASH__"):h._("__JHASH__NFrEQFQldyW__JHASH__"),b[0]=n,b[1]=o):o=b[1];n=o;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(o=d("fbicon")._(i("517763"),20),b[2]=o):o=b[2];var p;b[3]!==e||b[4]!==m||b[5]!==g||b[6]!==j?(p={isARLTW:e,portableVideoID:m,portalingRouteTracePolicy:g,portalingSubOrigin:j,unmute:!0},b[3]=e,b[4]=m,b[5]=g,b[6]=j,b[7]=p):p=b[7];b[8]!==p||b[9]!==a?(e={passthroughProps:p,url:a},b[8]=p,b[9]=a,b[10]=e):e=b[10];b[11]!==n||b[12]!==e||b[13]!==f?(m=l.jsx(c("VideoPlayerControlIcon.react"),{icon:o,label:n,linkProps:e,onPress:f,tooltip:n}),b[11]=n,b[12]=e,b[13]=f,b[14]=m):m=b[14];return m}g["default"]=a}),226);
__d("VideoPlayerNavigateToTahoeOrFullScreenControl.react",["CometTrackingNodeProvider.react","VideoPlayerCometNavigateToTahoeControl.react","VideoPlayerFullscreenControl.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(10),d=a.isAdVideo,e=a.onPressFullscreenControl,f=a.onPressTahoeControl,g=a.onUserInteraction,h=a.reactionVideoChannelType,k=a.shouldUnmute,l=a.subOrigin;a=a.videoTahoeUrl;var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=c("gkx")("24206"),b[0]=m):m=b[0];m=m;b[1]!==d||b[2]!==l||b[3]!==a||b[4]!==f||b[5]!==h||b[6]!==e||b[7]!==g||b[8]!==k?(m=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:144,children:Boolean(d)===!1&&l!=null&&a!=null&&a!==""&&!m?j.jsx(c("VideoPlayerCometNavigateToTahoeControl.react"),{onPress:f,reactionVideoChannelType:h,subOrigin:l,videoTahoeUrl:a}):j.jsx(c("VideoPlayerFullscreenControl.react"),{onPress:e,onUserInteraction:g,shouldUnmute:k})}),b[1]=d,b[2]=l,b[3]=a,b[4]=f,b[5]=h,b[6]=e,b[7]=g,b[8]=k,b[9]=m):m=b[9];return m}g["default"]=a}),98);
__d("VideoPlayerWithAudioBackground_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithAudioBackground_video",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2ZlrYX"}],concreteType:null,kind:"LinkedField",name:"comet_video_player_audio_background_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioBackground_video",fragmentName:"CometVideoPlayerWithHuddleBackgroundRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithHuddleBackgroundRenderer",abstractKey:null}],storageKey:'comet_video_player_audio_background_renderer(supported:"2ZlrYX")'}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithAudioBackground.react",["CometPlaceholder.react","CometRelay","VideoPlayerInteractionOverlay.react","VideoPlayerWithAudioBackground_video.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(12),f=a.playerFormat,g=a.pressInteraction;a=a.video;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("VideoPlayerWithAudioBackground_video.graphql"),e[0]=i):i=e[0];i=d("CometRelay").useFragment(i,a);if(i==null||(i==null?void 0:i.comet_video_player_audio_background_renderer)==null)return null;e[1]!==g?(a=k.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:g}),e[1]=g,e[2]=a):a=e[2];i=i==null?void 0:i.comet_video_player_audio_background_renderer;var l;e[3]!==f||e[4]!==g?(l={playerFormat:f,pressInteraction:g},e[3]=f,e[4]=g,e[5]=l):l=e[5];e[6]!==i||e[7]!==l?(f=k.jsx(d("CometRelay").MatchContainer,{match:i,props:l}),e[6]=i,e[7]=l,e[8]=f):f=e[8];e[9]!==a||e[10]!==f?(g=k.jsxs(c("CometPlaceholder.react"),{fallback:null,children:[a,f]}),e[9]=a,e[10]=f,e[11]=g):g=e[11];return g}g["default"]=a}),98);
__d("VideoPlayerWithAudioOverlay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithAudioOverlay_video",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2sq8zP"}],concreteType:null,kind:"LinkedField",name:"comet_video_player_audio_overlay_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithLiveAudioRoomV2OverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithLiveAudioRoomV2OverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithHuddleOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithHuddleOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithPodcastOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithPodcastOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"VideoPlayerWithMusicSproutOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"VideoPlayerWithMusicSproutOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithSoundbiteOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithSoundbiteOverlayRenderer",abstractKey:null}],storageKey:'comet_video_player_audio_overlay_renderer(supported:"2sq8zP")'}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithAudioOverlay.react",["CometRelay","VideoPlayerWithAudioOverlay_video.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var c=j(8),e=a.playerFormat,f=a.pressInteraction;a=a.video;var g;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("VideoPlayerWithAudioOverlay_video.graphql"),c[0]=g):g=c[0];g=d("CometRelay").useFragment(g,a);a=g==null?void 0:g.comet_video_player_audio_overlay_renderer;if(a==null)return null;c[1]===Symbol["for"]("react.memo_cache_sentinel")?(g="x6s0dn4 x78zum5 x5yr21d xl56j7k",c[1]=g):g=c[1];var i;c[2]!==e||c[3]!==f?(i={playerFormat:e,pressInteraction:f},c[2]=e,c[3]=f,c[4]=i):i=c[4];c[5]!==a||c[6]!==i?(e=k.jsx("div",{className:g,children:k.jsx(d("CometRelay").MatchContainer,{match:a,props:i})}),c[5]=a,c[6]=i,c[7]=e):e=c[7];return e}g["default"]=a}),98);
__d("VideoPlayerWithLiveVideoIndicator_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithLiveVideoIndicator_video",selections:[{alias:"breakingStatus",args:null,kind:"ScalarField",name:"breaking_status",storageKey:null},{alias:"videoId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"isPremiere",args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:"liveViewerCount",args:null,kind:"ScalarField",name:"live_viewer_count_read_only",storageKey:null},{alias:"rehearsalInfo",args:null,concreteType:"LiveVideoRehearsalInfo",kind:"LinkedField",name:"rehearsal_info",plural:!1,selections:[{alias:"typeName",args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_huddle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_audio_room_v2_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"publish_time",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"live_speaker_count_indicator",plural:!1,selections:[{args:null,documentName:"VideoPlayerWithLiveVideoIndicator_video",fragmentName:"HuddlesSpeakerCountIndicatorContainer_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithLiveVideoIndicator.react",["fbt","ix","CometImage.react","CometPlaceholder.react","CometRelay","CometRouteRenderType","Duration.react","FDSText.react","GamingVideoBackLink.react","VideoBroadcastStatus","VideoPlayerHooks","VideoPlayerWithLiveVideoIndicator_video.graphql","clearTimeout","cr:541","deferredLoadComponent","gkx","intlSummarizeNumber","react","requireDeferred","setTimeout","stylex","unrecoverableViolation","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=l||(l=d("react"));e=l;var o=e.useEffect,p=e.useRef,q=e.useState,r=e.c,s=c("deferredLoadComponent")(c("requireDeferred")("LiveVideoCometNuxForCVC.react").__setRef("VideoPlayerWithLiveVideoIndicator.react")),t={liveIndicator:{alignItems:"x6s0dn4",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",boxSizing:"x9f619",display:"x3nfvp2",height:"x5yr21d",paddingTop:"xexx8yu",paddingEnd:"xsyo7zv",paddingBottom:"x18d9i69",paddingStart:"x16hj40l",$$css:!0},liveIndicatorAnimation:{animationDirection:"xpz12be",animationDuration:"xof6966",animationIterationCount:"xa4qsjk",animationName:"x18wbh7p",animationTimingFunction:"xkewf8z",$$css:!0},liveIndicatorBackground:{backgroundColor:"x1ciooss",$$css:!0},liveRewindIndicatorBackground:{backgroundColor:"x1osi62z",$$css:!0},positionTop:{display:"x78zum5",height:"xxk0z11",start:"xoie2o3",position:"x10l6tqk",top:"x1tk7jg1",$$css:!0},positionTopWithCometNavOverlay:{start:"x1i5ckhj",left:null,right:null,top:"xoyzfg9",$$css:!0},positionTopWithCometNavOverlayWorkplace:{start:"x1i5ckhj",left:null,right:null,top:"xoyzfg9",$$css:!0},rehearsalIndicator:{backgroundColor:"x1d2osyd",$$css:!0}};function a(a){var e=r(52),f=a.hasCometNavOverlay,g=a.includeGamingBackLink,h=a.renderedInLiveProducer,i=a.shouldExpand,l=a.shouldShowPrivacyNux;a=a.video;var y=(m||(m=d("VideoPlayerHooks"))).useIsLive(),z=m.useIsLiveRewindActive(),A=m.useIsFullscreen(),B=d("CometRouteRenderType").useIsMain(),C=m.usePlaying(),D=p(null),E;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(E=j!==void 0?j:j=b("VideoPlayerWithLiveVideoIndicator_video.graphql"),e[0]=E):E=e[0];E=d("CometRelay").useFragment(E,a);var F=(a=E==null?void 0:E.videoId)!=null?a:"";if(E==null||typeof F!=="string"||F==="")throw c("unrecoverableViolation")("Null video or bad videoId","comet_live_video");var G=d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCData();a=q((a=E.liveViewerCount)!=null?a:0);var H=a[0],I=a[1];a=q(!1);var J=a[0],K=a[1];a=q(!1);var L=a[0],M=a[1],N;e[1]!==y||e[2]!==G?(a=function(){y&&G!=null&&(u(G.bs)?I(G.c):(I(0),K(!0)))},N=[G,y],e[1]=y,e[2]=G,e[3]=a,e[4]=N):(a=e[3],N=e[4]);o(a,N);e[5]!==C?(a=function(){C?(M(!0),D.current=c("setTimeout")(function(){M(!1)},3e3)):D.current&&(M(!1),c("clearTimeout")(D.current));return function(){return c("clearTimeout")(D.current)}},N=[C],e[5]=C,e[6]=a,e[7]=N):(a=e[6],N=e[7]);o(a,N);e[8]!==y||e[9]!==F?(a=function(){y&&F&&(b("cr:541")==null?void 0:b("cr:541").loadImmediately(function(a){a.LiveProducerLiveActivated(F)}))},N=[y,F],e[8]=y,e[9]=F,e[10]=a,e[11]=N):(a=e[10],N=e[11]);o(a,N);N=((a=E.rehearsalInfo)==null?void 0:a.typeName)==="LiveVideoRehearsalInfo";a=(a=E.is_gaming_video)!=null?a:!1;g=(g=g)!=null?g:!1;g=g&&B&&a;a=!y||J;if(a)return null;J=c("gkx")("22889");a=J?i!==!0&&(f||B)&&!A&&!h===!0&&t.positionTopWithCometNavOverlayWorkplace:f&&!A&&t.positionTopWithCometNavOverlay;e[12]!==a?(J=(k||(k=c("stylex")))(t.positionTop,a),e[12]=a,e[13]=J):J=e[13];e[14]!==g?(B=g?n.jsx(c("GamingVideoBackLink.react"),{}):null,e[14]=g,e[15]=B):B=e[15];h=!z&&t.liveIndicatorAnimation;f=!z&&t.liveIndicatorBackground;A=z&&t.liveRewindIndicatorBackground;a=N&&t.rehearsalIndicator;e[16]!==h||e[17]!==f||e[18]!==A||e[19]!==a?(g=(k||(k=c("stylex")))(t.liveIndicator,h,f,A,a),e[16]=h,e[17]=f,e[18]=A,e[19]=a,e[20]=g):g=e[20];h=N?"primary":"white";e[21]!==E?(f=v(E),e[21]=E,e[22]=f):f=e[22];e[23]!==i||e[24]!==L||e[25]!==E||e[26]!==z?(A=i===!0&&L&&(E==null?void 0:E.publish_time)!=null&&!z&&x(E.publish_time),e[23]=i,e[24]=L,e[25]=E,e[26]=z,e[27]=A):A=e[27];e[28]!==h||e[29]!==f||e[30]!==A?(a=n.jsxs(c("FDSText.react"),{color:h,type:"bodyLink4",children:[f,A]}),e[28]=h,e[29]=f,e[30]=A,e[31]=a):a=e[31];e[32]!==g||e[33]!==a?(N=n.jsx("div",{className:g,"data-testid":void 0,children:a}),e[32]=g,e[33]=a,e[34]=N):N=e[34];e[35]!==E?(i=(E==null?void 0:E.live_speaker_count_indicator)!=null&&n.jsx("span",{className:"x1mnrxsn",children:n.jsx(d("CometRelay").MatchContainer,{match:E==null?void 0:E.live_speaker_count_indicator})}),e[35]=E,e[36]=i):i=e[36];e[37]!==E||e[38]!==H?(L=w(E,H),e[37]=E,e[38]=H,e[39]=L):L=e[39];e[40]!==J||e[41]!==B||e[42]!==N||e[43]!==i||e[44]!==L?(z=n.jsxs("div",{className:J,children:[B,N,i,L]}),e[40]=J,e[41]=B,e[42]=N,e[43]=i,e[44]=L,e[45]=z):z=e[45];e[46]!==l||e[47]!==F?(h=l===!0&&n.jsx(c("CometPlaceholder.react"),{fallback:null,children:n.jsx("div",{className:"xoie2o3 x10l6tqk x1w1tb2m",children:n.jsx(s,{videoID:F})})}),e[46]=l,e[47]=F,e[48]=h):h=e[48];e[49]!==z||e[50]!==h?(f=n.jsxs(n.Fragment,{children:[z,h]}),e[49]=z,e[50]=h,e[51]=f):f=e[51];return f}function u(a){if(a==null)return!1;switch(a){case c("VideoBroadcastStatus").LIVE:case c("VideoBroadcastStatus").LIVE_STOPPED:case c("VideoBroadcastStatus").SEAL_STARTED:return!0;default:return!1}}function v(a){if((a==null?void 0:a.isPremiere)===!0)return h._("__JHASH__hpA6hHx0tjZ__JHASH__");return(a==null?void 0:a.breakingStatus)===!0?h._("__JHASH__fNJWjBjInjk__JHASH__"):h._("__JHASH__f7VcajZGvwh__JHASH__")}v.displayName=v.name+" [from "+f.id+"]";function w(a,b){if(a===null||b==null||b===0)return null;a=n.jsx(c("CometImage.react"),{alt:"",src:a.is_huddle===!0||(a==null?void 0:a.is_live_audio_room_v2_broadcast)===!0?i("1214050"):i("411339")});a=n.jsx("span",{className:"x3nfvp2 xw3qccf x1n2onr6",children:a});return n.jsxs("div",{"aria-label":h._("__JHASH__Z2JObqjSDhL__JHASH__",[h._plural(b,"number",c("intlSummarizeNumber")(b))]),className:"x6s0dn4 xrmyhay x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d x1mnrxsn xexx8yu xsyo7zv x18d9i69 x16hj40l","data-testid":void 0,role:"img",children:[a,n.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:c("intlSummarizeNumber")(b)})]})}w.displayName=w.name+" [from "+f.id+"]";function x(a){return n.jsx("div",{className:"x3nfvp2 xsgj6o6",children:n.jsx(c("Duration.react"),{startTime:a*1e3,useLocalTime:!0})})}x.displayName=x.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerWithVideoHomeLogging.react",["VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.c;function a(a){var b=k(5),c=a.feedAggregationType,e=a.reactionVideoChannelType,f=(i||(i=d("VideoPlayerHooks"))).useController(),g;b[0]!==e||b[1]!==f||b[2]!==c?(a=function(){e!=null&&f.setAdditionalLogData("reaction_video_channel_type",e),c!=null&&f.setAdditionalLogData("feed_aggregation_type",c)},g=[f,c,e],b[0]=e,b[1]=f,b[2]=c,b[3]=a,b[4]=g):(a=b[3],g=b[4]);j(a,g);return null}g["default"]=a}),98);
__d("XPlatReactToasterView.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={visibleToasts:[]},b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromProps=function(a,b){b=b!=null?b.visibleToasts.slice(0,a.maxVisible):[];var c=0,d=a.filterToasts,e=a.toasterState,f={},g=d!=null?Object.keys(e).filter(function(b){var c,g=e[b];f[b]=g;var h=g==null?void 0:g.shown;c=g==null?void 0:(c=g.value)==null?void 0:(c=c.type)==null?void 0:c.name;if(g==null||c==null)return!0;if(d.has(c)&&!h){a.onExpireToast(b);return!1}}):Object.keys(e),h=b.reduce(function(a,b){b!=null&&a.add(b.id);return a},new Set()),i=0;while(c<a.maxVisible){var j=b[c],k=Object.keys(f).length>0?f:a.toasterState;if(j!=null){k=Object.prototype.hasOwnProperty.call(k,j.id);if(k){k=e[j.id];b[c]={expired:k.expired,id:k.id,toast:k.value};c++;continue}else b[c]=null}j=null;while(j==null&&i<g.length){k=g[i++];var l=h.has(k);l||(j=a.toasterState[k])}j!=null&&(b[c]={expired:j.expired,id:j.id,toast:j.value});c++}return{visibleToasts:b}};var c=b.prototype;c.render=function(){var a=this;return i.jsx(i.Fragment,{children:this.state.visibleToasts.map(function(b,c){return b!=null?a.props.children(b.toast,b.id,b.expired,c):null})})};return b}(i.PureComponent);a.defaultProps={maxVisible:1};g["default"]=a}),98);
__d("useVideoOriginalDimensionsRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoOriginalDimensionsRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_rotation",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoOriginalDimensionsRelay",["CometRelay","computeAspectRatio","react","useVideoOriginalDimensionsRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a){var e=j(8),f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("useVideoOriginalDimensionsRelay_video.graphql"),e[0]=f):f=e[0];f=d("CometRelay").useFragment(f,a);a=f==null?void 0:f.original_rotation;a=a==="ROTATE_LEFT"||a==="ROTATE_RIGHT";var g=a?f==null?void 0:f.original_height:f==null?void 0:f.original_width;a=a?f==null?void 0:f.original_width:f==null?void 0:f.original_height;e[1]!==g||e[2]!==a?(f=c("computeAspectRatio")(g,a),e[1]=g,e[2]=a,e[3]=f):f=e[3];f=f;var i;e[4]!==f||e[5]!==a||e[6]!==g?(i={originalAspectRatio:f,originalHeight:a,originalWidth:g},e[4]=f,e[5]=a,e[6]=g,e[7]=i):i=e[7];return i}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSBeginHandlingSyncForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=void 0:(d=a.item,c[9]=new b.Map(),c[9].set("group_id",d.groupId),c[9].set("current_cursor",d.currentCursor),c[9].set("sync_status",d.syncStatus),c[9].set("sync_params",d.syncParams),c[9].set("send_sync_params",d.sendSyncParams),c[9].set("min_time_to_sync_timestamp_ms",d.minTimeToSyncTimestampMs),c[9].set("can_ignore_timestamp",d.canIgnoreTimestamp),c[9].set("sync_channel",d.syncChannel),c[9].set("last_sync_request_timestamp_ms",d.lastSyncRequestTimestampMs),c[0]=c[9])})},function(d){return c[0]?c[2]=!1:c[2]=!0,c[2]?b.resolve((d=[a[0],void 0,b.i64.cast([0,4]),void 0,!1],c[3]=d[0],c[4]=d[1],c[5]=d[2],c[6]=d[3],c[7]=d[4],d)):b.sequence([function(a){return c[9]=c[0].get("group_id"),c[0],b.filter(b.db.table(3).fetch(),function(a){return b.i64.neq(a.epochId,void 0)&&b.i64.eq(a.syncDatabaseId,c[9])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[10]=!1:(a.item,c[10]=!0)})},function(d){return c[10]?b.resolve((c[17]=c[0].get("group_id"),c[0],d=[c[17],void 0,b.i64.cast([0,4]),void 0,!1],c[12]=d[0],c[13]=d[1],c[14]=d[2],c[15]=d[3],c[16]=d[4],d)):b.sequence([function(d){return c[17]=b.i64.of_float(Date.now()),c[18]=c[0].get("min_time_to_sync_timestamp_ms"),c[0],c[19]=c[0].get("last_sync_request_timestamp_ms"),c[0],c[20]=c[0].get("can_ignore_timestamp"),c[0],c[20]&&a[1]||b.i64.ge(c[17],c[18])?b.sequence([function(d){return a[1]?b.resolve(c[28]=b.i64.cast([0,0])):b.sequence([function(a){return c[29]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[29]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[30]=b.i64.cast([0,0]):(d=a.item,c[30]=d.failureCount)})},function(a){return c[32]=b.i64.mul(b.i64.sub(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.lt(b.i64.cast([0,15]),c[30])?b.i64.cast([0,15]):c[30])),b.i64.cast([0,1])),b.i64.cast([0,500])),c[33]=b.i64.sub(b.i64.add(c[19]==null?b.i64.cast([0,0]):c[19],b.i64.lt(c[32],b.i64.cast([0,3e4]))?c[32]:b.i64.cast([0,3e4])),c[17]),c[28]=b.i64.gt(c[33],b.i64.cast([0,0]))?c[33]:b.i64.cast([0,0])}])},function(a){return c[21]=c[28]}]):b.resolve(c[21]=b.i64.sub(c[18],c[17]))},function(a){return c[22]=c[0].get("group_id"),c[0],b.i64.gt(c[21],b.i64.cast([0,0]))?b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastDelayedRequestTimestampMs:c[28]})})},function(a){return a=[c[22],c[21],b.i64.cast([0,3]),void 0,!1],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}]):b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[c[22]]]]),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[28]})})},function(a){return c[29]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[29]})})},function(a){return c[30]=c[0].get("group_id"),c[0],c[31]=b.i64.of_float(Date.now()),c[32]=b.i64.random(),c[45]=b.i64.and_(b.i64.or_(b.i64.lsl_(c[31],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[32],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.db.table(3).fetch([[["",c[30]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({syncDatabaseId:c[30],taskQueueName:"",failureCount:b.i64.cast([0,0]),lastSentTimestampMs:b.i64.cast([0,0]),lastSyncRequestTimestampMs:b.i64.cast([0,0]),epochId:c[45]}):(a.item,b.forEach(b.db.table(3).fetch([[["",c[30]]]]),function(a){var b=a.update;a.item;return b({epochId:c[45]})}))})},function(a){return c[34]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[34]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[35]=b.i64.cast([0,0]):(d=a.item,c[35]=d.failureCount)})},function(a){return c[37]=c[0].get("send_sync_params"),c[0],c[38]=c[0].get("sync_params"),c[0],c[39]=c[0].get("current_cursor"),c[0],c[40]=new b.Map(),c[40].set("database",c[34]),c[40].set("version",b.i64.cast([-1,4294967295])),c[40].set("epoch_id",c[45]),c[40].set("last_applied_cursor",c[39]),c[40].set("sync_params",c[37]?c[38]:void 0),c[40].set("failure_count",b.i64.gt(c[35],b.i64.cast([0,0]))?c[35]:void 0),c[41]=c[0].get("current_cursor"),c[0],void 0===c[41]?c[42]=b.i64.cast([0,1]):c[42]=b.i64.cast([0,2]),c[43]=new b.Map(),c[43].set("type",c[42]),c[43].set("request_payload",c[40]),c[44]=c[0].get("sync_channel"),c[0],a=[c[30],void 0,b.i64.cast([0,1]),c[43],b.i64.eq(c[44],b.i64.cast([0,2]))],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}])},function(a){return a=[c[23],c[24],c[25],c[26],c[27]],c[12]=a[0],c[13]=a[1],c[14]=a[2],c[15]=a[3],c[16]=a[4],a}])},function(a){return a=[c[12],c[13],c[14],c[15],c[16]],c[3]=a[0],c[4]=a[1],c[5]=a[2],c[6]=a[3],c[7]=a[4],a}])},function(a){return c[8]=new b.Map(),c[8].set("sync_group_id",c[3]),c[8].set("next_sync_ms",c[4]),c[8].set("work_item_type",c[5]),c[8].set("network_payload",c[6]),c[8].set("skip_realtime_gateway",c[7]),d[0]=c[8]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreBeginHandlingSyncForSyncGroupStoredProcedure";e.exports=a}),null);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.createArray(),c.forEach(c.db.table(1).fetch(),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSBeginHandlingSyncForSyncGroup"),f.groupId,a[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=(d[0].push(d[1]),d[0])}])})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreBeginHandlingSyncStoredProcedure";e.exports=a}),null);
__d("LSBeginHandlingSyncForSyncGroupStoredProcedure",["LSBeginHandlingSyncForSyncGroup","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.syncGroupId;d[1]=b.ignoreSoftDelay;return c("LSBeginHandlingSyncForSyncGroup").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSBeginHandlingSyncStoredProcedure",["LSBeginHandlingSync","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.ignoreSoftDelay;return c("LSBeginHandlingSync").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.runInTransaction(function(a){var c;return(c=d("ReQL")).toArrayAsync(c.mergeJoin(c.fromTableAscending(a.sync_groups),c.fromTableAscending(a.network_requests).getKeyRange(""))).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){b=b[1];return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))}).then(function(){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).filter(function(a){return a.taskQueueName!==""})).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))})})},"readwrite","ui",void 0,f.id+":17").then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("LSCometSSRDatabase",["LSJSInMemoryStorage","LSMetadata"],(function(a,b,c,d,e,f,g){"use strict";a=c("LSJSInMemoryStorage")(d("LSMetadata").schema);g["default"]=a}),98);
__d("LSPlatformGraphQLTransport",["FBLogger","I64","LSDynamicDependencies","LSProgramTarget","MessengerLogHistory","Promise","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="LSPlatformGraphQLTransport.ServerError";function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k){var l=d("MessengerLogHistory").getInstance("client_sync"),m=null;try{m=(yield k(a,e,g,(i||(i=d("I64"))).to_int32(f)))}catch(a){k=c("FBLogger")("messenger_web_product");a instanceof Error&&(l.error("Error sending Graphql Request. Type: "+(i||(i=d("I64"))).to_string(f)+" Message: "+(a.message!=null?a.message:"None")),k=k.catching(a),k.debug("Relay or Graphql Server error in LSPlatformGraphqlTransport"));throw k.mustfixThrow(j)}a=c("nullthrows")(m);e=a.dependencies;g=a.experiments;l=a.payload;var n=a.target;f=c("nullthrows")(l);k=e==null?(h||(h=b("Promise"))).resolve():d("LSDynamicDependencies").downloadRelayDependencies(e);m=Array.from(c("LSProgramTarget").members()).find(function(a){return c("LSProgramTarget").getName(a)===n});return[k,f,g,m]});return k.apply(this,arguments)}g.ServerError=j;g.publish=a}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","InteractionTracing.xplat","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","MWPBumpEntityKey","MetaConfig","Promise","QuickPerformanceLogger","ReQL","asyncToGeneratorRuntime","getErrorSafe","gkx","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")()&&!c("isInstamadillo")(),m=!d("CurrentMessengerUser").isWorkUser()&&!c("gkx")("307");function n(a){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(k||(k=b("Promise"))).all([a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(1),taskQueueName:""}),m?a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:(i||(i=d("I64"))).zero,lastSyncRequestTimestampMs:(i||(i=d("I64"))).zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(2),taskQueueName:""}):(k||(k=b("Promise"))).resolve(),l?a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:(i||(i=d("I64"))).zero,lastSyncRequestTimestampMs:(i||(i=d("I64"))).zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(95),taskQueueName:""}):(k||(k=b("Promise"))).resolve()])});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":56").then(function(){return(k||(k=b("Promise"))).resolve()})}function o(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",(j||(j=d("LSIntEnum"))).ofNumber(b)))}function p(a){return a.runInTransaction(function(a){return(k||(k=b("Promise"))).all([o(a,1),m?o(a,2):(k||(k=b("Promise"))).resolve(),l?o(a,95):(k||(k=b("Promise"))).resolve()]).then(function(c){var e=c[0],f=c[1];c=c[2];e=e!=null?a.network_requests.put({epochId:(i||(i=d("I64"))).zero,failureCount:e.failureCount,lastDelayedRequestTimestampMs:e.lastDelayedRequestTimestampMs,lastSentTimestampMs:e.lastSentTimestampMs,lastSyncRequestTimestampMs:e.lastSyncRequestTimestampMs,networkTaskIdentifier:e.networkTaskIdentifier,syncDatabaseId:e.syncDatabaseId,taskQueueName:e.taskQueueName}):(k||(k=b("Promise"))).resolve();f=m&&f!=null?a.network_requests.put({epochId:(i||(i=d("I64"))).zero,failureCount:f.failureCount,lastDelayedRequestTimestampMs:f.lastDelayedRequestTimestampMs,lastSentTimestampMs:f.lastSentTimestampMs,lastSyncRequestTimestampMs:f.lastSyncRequestTimestampMs,networkTaskIdentifier:f.networkTaskIdentifier,syncDatabaseId:f.syncDatabaseId,taskQueueName:f.taskQueueName}):(k||(k=b("Promise"))).resolve();c=l&&c!=null?a.network_requests.put({epochId:(i||(i=d("I64"))).zero,failureCount:c.failureCount,lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs,lastSentTimestampMs:c.lastSentTimestampMs,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,networkTaskIdentifier:c.networkTaskIdentifier,syncDatabaseId:c.syncDatabaseId,taskQueueName:c.taskQueueName}):(k||(k=b("Promise"))).resolve();return(k||(k=b("Promise"))).all([e,f,c]).then(function(){})})},"readwrite","ui",void 0,f.id+":115")}function q(a){if(d("LSDatabaseProviderType").isProviderPersisted(a)&&c("MetaConfig")._("76"))return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield o(a,1));b!=null&&(yield a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName}))});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":189");else return(k||(k=b("Promise"))).resolve()}function r(a){d("CurrentMessengerUser").isWorkUser()&&(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(1036588047,"310"),a)}function a(a,b,c,d){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){try{var o,s=d("CurrentMessengerUser").isWorkUser();yield p(f);var u=(yield (k||(k=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(1))),m?d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(2))):(k||(k=b("Promise"))).resolve(),l?d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(95))):(k||(k=b("Promise"))).resolve()])),v=u[0],w=u[1];u=u[2];v=v==null?void 0:v.currentCursor;w=w==null?void 0:w.currentCursor;u=u==null?void 0:u.currentCursor;var x=new(c("LSDict"))().set("database",j.ofNumber(1)).set("epoch_id",(i||(i=d("I64"))).zero).set("last_applied_cursor",v).set("sync_params",a.syncParams.mailbox).set("version",i.of_string(a.schemaVersion)),y=new(c("LSDict"))().set("database",j.ofNumber(2)).set("epoch_id",i.zero).set("last_applied_cursor",w).set("sync_params",a.syncParams.contact).set("version",i.of_string(a.schemaVersion));o=new(c("LSDict"))().set("database",j.ofNumber(95)).set("epoch_id",i.zero).set("last_applied_cursor",u).set("sync_params",(o=a.syncParams.e2ee)!=null?o:"{}").set("version",i.of_string(a.schemaVersion));var z={string:{contactsSync:m?w!=null?"resume":"init":"disabled",mailboxSync:v!=null?"resume":"init"}};s&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(1036588047,"310"),z);d("LSPlatformLsInitLog").addPoint("ls_sync_start",z);t("ls_sync_start");d("LSPlatformLsInitLog").addPoint("gql_fetch_start");t("gql_fetch_start");r("start_contact");r("start_mailbox");var A=function(){return[(k||(k=b("Promise"))).resolve(),"",void 0,void 0]};s=d("LSPlatformGraphQLTransport").publish(g,0,v!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(x),a.executeGraphQLLightSpeedRequest).then(function(a){r("mailbox_synced");d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_end");t("gql_mailbox_fetch_end");return a})["catch"](function(a){var b;d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_failed",{string:{gql_mailbox_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});t("gql_mailbox_fetch_failed");c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to sync mailbox");return A()});z=m?d("LSPlatformGraphQLTransport").publish(g,1,w!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(y),a.executeGraphQLLightSpeedRequest).then(function(a){r("contact_synced");d("LSPlatformLsInitLog").addPoint("gql_contact_fetch_end");t("gql_contact_fetch_end");return a})["catch"](function(a){var b;d("LSPlatformLsInitLog").addPoint("gql_contact_fetch_failed",{string:{gql_contact_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});t("gql_contact_fetch_failed");c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to sync contacts");return A()}):(k||(k=b("Promise"))).resolve(A());x=l?d("LSPlatformGraphQLTransport").publish(g,2,u!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(o),a.executeGraphQLLightSpeedRequest).then(function(a){d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_end");t("gql_e2ee_fetch_end");return a})["catch"](function(a){var b;d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_failed",{string:{gql_e2ee_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});t("gql_e2ee_fetch_failed");c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to sync e2ee mailbox");return A()}):(k||(k=b("Promise"))).resolve(A());w=(yield k.all([s,z,x]));y=w[0];g=w[1];u=w[2];o=u[0];a=u[1];s=u[2];z=u[3];x=g[0];w=g[1];u=g[2];g=g[3];var B=y[0],C=y[1],D=y[2];y=y[3];d("LSPlatformLsInitLog").addPoint("gql_fetch_end");t("gql_fetch_end");d("LSPlatformLsInitLog").addPoint("gql_deps_start");t("gql_deps_start");yield k.all([o,x,B]);d("LSPlatformLsInitLog").addPoint("gql_deps_end");t("gql_deps_end");d("LSPlatformLsInitLog").addPoint("ls_sync_execute_start");t("ls_sync_execute_start");yield e({experiments:D,priority:"ui",syncScript:C,target:y});m&&(yield e({experiments:u,priority:"ui",syncScript:w,target:g}));l&&(yield e({experiments:s,priority:"ui",syncScript:a,target:z}));v!=null&&(yield q(f));r("sync_completed");d("LSPlatformArmadilloUtils").reportInitEnd();d("LSPlatformLsInitLog").addPoint("ls_sync_execute_end");t("ls_sync_execute_end");d("LSPlatformLsInitLog").addPoint("ls_sync_end");t("ls_sync_end");d("LSPlatformLsInitLog").endSuccess();l&&d("LSPlatformArmadilloUtils").occamadilloInitEnd();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success");d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success")}catch(a){o=c("getErrorSafe")(a);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail");r("sync_failed");d("LSPlatformLsInitLog").fail("init_sync_failure");try{d("LSPlatformArmadilloUtils").reportInitSyncFailure(o)}catch(a){}c("FBLogger")("messenger_web_product").catching(o).mustfix("Encountered an error while performining preloaded init sync request via graphql");return n(f)}});return s.apply(this,arguments)}function t(a){c("InteractionTracing.xplat").getPendingInteractions().forEach(function(b){b.addMarkerPoint(a,"AppTiming")})}g.sendHardcodedInitSync=a}),98);
__d("LSPlatformSyncSystemMaybeDeferred",["cr:6963"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6963")}),98);
__d("LSPlatformClientInit",["LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformRealtimeTransport","LSPlatformSyncSystemMaybeDeferred","LSPlatformTaskSystemTransport","MWPlatformTaskSystem","MessengerLogHistory","asyncToGeneratorRuntime","cr:3411","cr:7705","emptyFunction","gkx","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init");function j(a){var d=c("emptyFunction");b("cr:7705")!=null&&c("gkx")("23914")&&(d=b("cr:7705").listenForChangesToBackupState(a));return function(){d&&d()}}function k(a,b){var e=b==="Connected"?(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED):(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").NOT_CONNECTED);i.debug("Platform client sync connection status: ",b);c("promiseDone")(a.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(c("LSFactory")(a),{internetConnectionState:e})},"readwrite",void 0,void 0,f.id+":72"),function(){i.debug("Platform client sync connection status set successfully")},function(a){i.error("Platform client sync connection status set failed: "+(a==null?void 0:a.message));throw a})}function a(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h){var l;i.debug("Platform client sync starting...");(l=d("LSPlatformLsInitLog")).addPoint("onstart_callback");g();l.addPoint("onstart_callback_end");i.debug("Getting datascript evaluator...");l.addPoint("ds_eval_registration");g=(yield e.getEval());i.debug("Getting datascript evaluator success");var m;try{m=b("cr:3411")!=null?b("cr:3411").registerEval(g)()(a):g()(a)}catch(b){c("recoverableViolation")("fail to register datascriptEvaluator","ls_web_init",{error:b}),m=g()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");i.debug("Clearing epoch before resume sync...");yield d("LSClearEpochBeforeResumeSync").call(a);i.debug("Clearing epoch before resume sync success");d("LSPlatformLsInitLog").addPoint("create_client_end");e.sendHardcodedInitSync&&(i.debug("Starting hard-coded init sync..."),yield d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(e,m,a,f),i.debug("Starting hard-coded init sync success"));i.debug("Starting realtime transport");var n=d("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport(e.realtimeUnderylingTransport,e.appId,f);i.debug("Starting task system");var o=new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,n,m,e.schemaVersion));i.debug("Starting sync system");var p=null;c("promiseDone")(c("LSPlatformSyncSystemMaybeDeferred")(),function(b){p=b(a,n,m,e.schemaVersion,f,e.executeGraphQLLightSpeedRequest)});i.debug("Starting backup state listeners");var q=j(a),r;i.debug("Watching for expired traces");c("promiseDone")(d("LSDataTraceFlushDeferred").watchForExpiredTraces(a).then(function(a){r=a}));i.debug("Subscribing to mqtt sync status change events");n.onConnectionStatusChange(function(b){k(a,b)});i.debug("Platform client sync starting sucess");return{cleanup:function(){var b;i.debug("Platform client sync cleaning up");h(a);o==null?void 0:o.cleanup();(b=p)==null?void 0:b.cleanup();n.cleanup();q();r==null?void 0:r()}}});return l.apply(this,arguments)}g.init=a}),98);
__d("LSPlatformClient",["ExecutionEnvironment","FBLogger","LSCometSSRDatabase","LSDatabaseProviderType","LSPlatformClientInit","LSPlatformDeviceId","LSPlatformLsInitLog","MAWMICSafe","Promise","asyncToGeneratorRuntime","cr:7473","emptyFunction","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("emptyFunction").thatReturns((i||(i=b("Promise"))).resolve());function k(a,e){var f,g=function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");f=(yield d("LSPlatformClientInit").init(a,e,b,c("emptyFunction"),c("emptyFunction")))});return function(){return g.apply(this,arguments)}}();return{cleanup:function(){var a;(a=f)==null?void 0:a.cleanup()},db:a,start:g}}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(b("cr:7473")==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("LSPlatformClientWithLock is null for PDB enabled");e=(yield b("cr:7473").make(a,e));e.isTabWithoutClient()===!0&&(d("MAWMICSafe").markEvent("ls_init_end"),d("MAWMICSafe").markEvent("occamadillo_thread_mapping_end"),d("MAWMICSafe").addBoolAnnotation("LsInitSkipped",!0),d("LSPlatformLsInitLog").addPoint("no_ls_sync"),d("LSPlatformLsInitLog").endSuccess());return{cleanup:c("emptyFunction"),db:a,start:j}});return m.apply(this,arguments)}function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if((h||(h=c("ExecutionEnvironment"))).canUseDOM){var e=(yield a.getDb());d("LSPlatformLsInitLog").addPoint("create_client_start");if(d("LSDatabaseProviderType").isProviderPersisted(e)&&b("cr:7473")!==null)try{return l(e,a)}catch(a){d("LSPlatformLsInitLog").addAnnotations({string:{client_for_pdb_error:c("getErrorSafe")(a).message}});d("LSPlatformLsInitLog").fail("client_for_pdb_error");throw a}return k(e,a)}return{cleanup:c("emptyFunction"),db:c("LSCometSSRDatabase"),start:j}});return n.apply(this,arguments)}g.make=a}),98);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSyncForSyncGroupStoredProcedure","LSBeginHandlingSyncStoredProcedure","LSDatabaseProviderType","LSFactory","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","Promise","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","qex","recoverableViolation","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,g,k,l,m){var n=d("MessengerLogHistory").getInstance("client_sync"),o=new(c("LSPlatformServerResponseHandler"))(g),p=d("LSDatabaseProviderType").isProviderPersisted(a),q=function(c){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",c)));b!=null&&(yield a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).add(b.failureCount,i.one),lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":76")},r=new(c("LSPlatformRequestScheduler"))(),s=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f,n){n=d("LSShape").toRecord(n);var q=d("LSShape").toRecord(n.request_payload);n=n.type;var r=c("LSPlatformRequestId").generate();q=d("LSJson").stringify(d("LSShape").ofRecord({database:q.database,epoch_id:q.epoch_id,failure_count:q.failure_count,last_applied_cursor:q.last_applied_cursor,sync_params:q.sync_params,version:(i||(i=d("I64"))).of_string(k)}));var s=(i||(i=d("I64"))).equal(f.sync_group_id,(j||(j=d("LSIntEnum"))).ofNumber(1))&&c("gkx")("26386")===!0;if(!s&&f.skip_realtime_gateway){s=(yield d("LSPlatformGraphQLTransport").publish(l,r,n,q,m));var t=s[0],u=s[1],v=s[2];s=s[3];v={experiments:v,syncScript:u,target:s};return p?o.evalInOrderReceived(t,v):g(v)}else{u=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(f.sync_group_id)));s=u!=null?u.syncChannel:d("LSMailboxInitialSyncCursor").syncChannel;t=c("qex")._("789");if(u!=null&&t!=null&&t!=="default"){v=(j||(j=d("LSIntEnum"))).unwrapIntEnum(n);if(1===v||2===v||5===v){f=t+"."+(j||(j=d("LSIntEnum"))).toNumber(s)+"."+j.toNumber(n)+"."+j.toNumber(u.groupId);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",f)}}return e.publish({payload:q,queueName:void 0,requestId:r,syncChannel:s,type_:n}).then(function(){return(h||(h=b("Promise"))).resolve()})}});return function(a,b){return f.apply(this,arguments)}}(),t=function e(g){var k=function(b){return a.runInTransaction(function(a){return c("LSBeginHandlingSyncForSyncGroupStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1,syncGroupId:b})},"readwrite",void 0,void 0,f.id+":195").then(function(a){return e(a[0])})},l=function(a,b){r.schedule(function(){c("promiseDone")(k(a))},(i||(i=d("I64"))).to_string(a),i.to_float(b))},m=d("LSShape").toRecord(g);g=m.work_item_type;if((i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(1))||(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(5))){var o=m.network_payload;if(o!=null)return s(m,o)["catch"](function(a){if(a.message===d("LSPlatformGraphQLTransport").ServerError)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout||a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),n.debug("Publish timed out");else{d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error");if(a instanceof Error)c("FBLogger")("messenger_web_product").catching(a).mustfix("Encountered an JS error while publishing a LS sync request");else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web_product").mustfix("Encountered an JS error while publishing a LS sync request %s",b)}}d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handleSyncFailure."+(j||(j=d("LSIntEnum"))).toNumber(d("LSShape").toRecord(o).type)+"."+j.toNumber(m.sync_group_id));return q(m.sync_group_id).then(function(){return k(m.sync_group_id)})});else{c("recoverableViolation")("Expected networkpayload for sync request but didn't get any","ls_web_init");return(h||(h=b("Promise"))).resolve()}}if(!(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(3)))if((i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(4))||!(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(2)))return(h||(h=b("Promise"))).resolve();else{c("recoverableViolation")("Native handling for sync group not implemented yet","ls_web_init");return(h||(h=b("Promise"))).resolve()}g=m.next_sync_ms;if(g!=null){l(m.sync_group_id,g);return(h||(h=b("Promise"))).resolve()}else{c("recoverableViolation")("Expected delay for delayed sync request but didn't get any","ls_web_init");return(h||(h=b("Promise"))).resolve()}},u=function(a){return(h||(h=b("Promise"))).all(c("LSVec").toArray(a[0]).map(function(a){return t(a)}))},v=function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":345").then(u))},w=c("throttle")(v,500);v=function(){return d("ReQL").fromTableAscending(a.tables.sync_groups).subscribe(function(){return w()})};var x=function(){return e.subscribeToNonTaskResponses(function(a,b){var e=b.ex,f=b.payload;e={experiments:e,sp:b.sp,syncScript:f,target:b.target};c("promiseDone")(p?o.evalInOrderReceived(a,e):g(e),function(){return w()},function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure");if(a instanceof Error)c("FBLogger")("messenger_web_product").catching(a).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",p,a.message);else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web_product").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",p,b)}})})},y=function(){return e.onReconnect(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect"),n.debug("Sync System reconnecting"),c("promiseDone")(a.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f;f=(yield (f=d("ReQL")).toArrayAsync(f.mergeJoin(f.fromTableAscending(a.tables.sync_groups),f.fromTableAscending(a.tables.network_requests).getKeyRange(""))));yield (h||(h=b("Promise"))).all(f.map(function(a){a=a[1];return e.network_requests.put({epochId:void 0,failureCount:a.failureCount,lastDelayedRequestTimestampMs:a.lastDelayedRequestTimestampMs,lastSentTimestampMs:a.lastSentTimestampMs,lastSyncRequestTimestampMs:a.lastSyncRequestTimestampMs,networkTaskIdentifier:a.networkTaskIdentifier,syncDatabaseId:a.syncDatabaseId,taskQueueName:a.taskQueueName})}));return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(e),{ignoreSoftDelay:!1})});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":433").then(u))})},z=v(),A=x(),B=y();w();return{cleanup:function(){z(),B(),A()}}}g["default"]=a}),98);
__d("LSPlatformSyncSystemDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("RTWebCometCallMessageLayout.react",["CometImageIcon_DEPRECATED.react","FDSEntityHeaderFacepile.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="/images/chat/webrtc/no_profile_pic.png";function a(a){var b=a.caller,d=a.mainMessage,e=a.participants;a=a.subMessage;var f=k(e);e=e.length>1;return i.jsxs("div",{className:"x78zum5 x1q0g3np x1nhvcw1",children:[i.jsx(c("CometImageIcon_DEPRECATED.react"),{size:60,src:l(b),style:"circle"}),i.jsxs("div",{className:"x78zum5 xdt5ytf xl56j7k x17adc0v",children:[i.jsx("div",{className:"xzsf02u x1lkfr7t x117nqv4 xu06os2",children:d}),i.jsxs("div",{className:"xi81zsa x1nxh6w3 xyqdw3p",children:[e?i.jsx(c("FDSEntityHeaderFacepile.react"),{profiles:f}):null,i.jsx("div",{children:a})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";function k(a){return a.length>0?a.map(function(a){return{name:a.name,pictureURI:l(a),profileURL:"#",size:32}}):[]}function l(a){return(a=a.profilePictureUrl)!=null?a:j}g["default"]=a}),98);
__d("useMWChatOpenTabCount",["MWChatStateContext","MWChatStateV2TabGroups","useMWChatStateV2MaxTabCount","useMWIsTopLevelRouteMediaViewerExperiment"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWChatStateContext").useChatState(function(a){return[a.tabs,a.focusedTabId,a.mediaViewerOpenWatermark]}),b=a[0],e=a[1];a=a[2];var f=c("useMWIsTopLevelRouteMediaViewerExperiment")(),g=c("useMWChatStateV2MaxTabCount")(f);f=f?a:void 0;a=d("MWChatStateV2TabGroups").getTabGroups(f,b,e,g);f=a.openTabs;return f.length}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadLocalStorageDataProviderStorageKey",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a="_SearchBootstrapCache_";c=b("$InternalEnum").Mirrored(["FeedComposerMentionsIntentfulMentionsBootstrap","FeedComposerMentionsNonIntentfulMentionsBootstrap","FeedComposerMentionsWithTagBootstrap","GlobalTypeaheadBootstrapEntities","GlobalTypeaheadBootstrapKeywords"]);f.StorageKeyPrefix=a;f.StorageKey=c}),66);
__d("BaseTypeaheadLocalStorageDataProvider",["BaseTypeaheadDataProvider","BaseTypeaheadLocalStorageDataProviderStorageKey","Promise","WebStorage","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=1e3*60*60*24;a=function(){function a(a){var b=a.storageKey,e=a.storageTimespan;e=e===void 0?j:e;a=babelHelpers.objectWithoutPropertiesLoose(a,["storageKey","storageTimespan"]);this.$1=new(c("BaseTypeaheadDataProvider"))(a);this.$3=b!=null?d("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKeyPrefix+b:null;this.$4=e;b=a.queryVariablesBuilder;this.$2=b}var e=a.prototype;e.fetch=function(a){var c=this,d=this.$3!=null?this.$5(a):null;if(d!=null){var e=this.$2.build();e=e(a);return(i||(i=b("Promise"))).resolve({requestQueryVariables:e,response:d})}return this.$1.fetch(a).then(function(b){var d=b.response;d!=null&&c.$3!=null&&c.$6(a,d);return b})};e.clearLocalStorage=function(){var a=this.$3,b=(h||(h=c("WebStorage"))).getLocalStorage();if(b==null||a==null)return;b.removeItem(a)};e.$5=function(a){var b=this.$3,d=(h||(h=c("WebStorage"))).getLocalStorage();if(d==null||b==null)return null;var e=d.getItem(b);if(e==null)return null;var f;try{f=JSON.parse(e)}catch(a){c("recoverableViolation")("Cannot deserialize bootstrap response from local storage due to error: "+a,"search")}if(f==null)return null;e=f;var g=e.queryVariables,i=e.response;e=e.timestamp;var j=this.$2.build();j=j(a);if(JSON.stringify(g)!==JSON.stringify(j)){d.removeItem(b);return null}a=Date.now();if(e+Number(this.$4)>=a)return i;d.removeItem(b);return null};e.$6=function(a,b){var d=this.$3,e=(h||(h=c("WebStorage"))).getLocalStorage();if(e==null||d==null)return;var f=this.$2.build();f=f(a);try{a=Date.now();f=JSON.stringify({queryVariables:f,response:b,timestamp:a});e.setItem(d,f)}catch(a){c("recoverableViolation")("Cannot save bootstrap response to local storage due to error: "+a,"search")}};return a}();g["default"]=a}),98);
__d("FeedComposerCometMentionsMentionTypeResetViewItem.react",["ix","CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FDSText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l={addOnIconVertical:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function a(a){var b=j(7),e=a.entry;e=e.label;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={icon:d("fbicon")._(h("492485"),16),type:"icon"},b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g="x15huedd",b[1]=g):g=b[1];b[2]!==e?(f=k.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnStart:f,addOnStartOverrideVerticalStyle:l.addOnIconVertical,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:k.jsx("div",{className:g,children:k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:e})}),level:4,paddingHorizontal:0}),b[2]=e,b[3]=f):f=b[3];b[4]!==a||b[5]!==f?(g=k.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:f})),b[4]=a,b[5]=f,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("FeedComposerCometMentionsMentionTypeSelectionViewItem.react",["ix","CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FDSText.react","fbicon","react","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l={addOnIcon:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function a(a){var b=j(14),e=a.entry,f=e.label;e=e.rawData;e=e.type==="MENTION_TYPE_SELECTION"?e.iconName:null;if(e==null){c("recoverableViolation")("No icon name found for mention type selection entry","comet_composer");return null}var g=null;bb0:switch(e){case"shops":b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("fbicon")._(h("1664042"),20),b[0]=e):e=b[0];g=e;break bb0;default:}b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={color:"secondary",icon:d("fbicon")._(h("492533"),16),type:"icon"},b[1]=e):e=b[1];var i;b[2]!==g?(i=g!=null?{icon:g,size:40,type:"contained-icon"}:null,b[2]=g,b[3]=i):i=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g="xcqhk00",b[4]=g):g=b[4];b[5]!==f?(g=k.jsx("div",{className:g,children:k.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:f})}),b[5]=f,b[6]=g):g=b[6];b[7]!==e||b[8]!==i||b[9]!==g?(f=k.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnEnd:e,addOnEndVerticalAlign:"center",addOnStart:i,addOnStartOverrideVerticalStyle:l.addOnIcon,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:g,level:4,paddingHorizontal:0}),b[7]=e,b[8]=i,b[9]=g,b[10]=f):f=b[10];b[11]!==a||b[12]!==f?(e=k.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:f})),b[11]=a,b[12]=f,b[13]=e):e=b[13];return e}g["default"]=a}),98);
__d("FeedComposerCometMentionsViewItemResolver.react",["FeedComposerCometMentionsMentionTypeResetViewItem.react","FeedComposerCometMentionsMentionTypeSelectionViewItem.react","FeedComposerCometMentionsViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(12),d,e;b[0]!==a?(d=a.entry,e=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);a=d;a=a.rawData;switch(a.type){case"MENTION_TYPE_SELECTION":b[3]!==d||b[4]!==e?(a=j.jsx(c("FeedComposerCometMentionsMentionTypeSelectionViewItem.react"),babelHelpers["extends"]({entry:d},e)),b[3]=d,b[4]=e,b[5]=a):a=b[5];return a;case"MENTION_TYPE_RESET":b[6]!==d||b[7]!==e?(a=j.jsx(c("FeedComposerCometMentionsMentionTypeResetViewItem.react"),babelHelpers["extends"]({entry:d},e)),b[6]=d,b[7]=e,b[8]=a):a=b[8];return a;default:b[9]!==d||b[10]!==e?(a=j.jsx(c("FeedComposerCometMentionsViewItem.react"),babelHelpers["extends"]({entry:d},e)),b[9]=d,b[10]=e,b[11]=a):a=b[11];return a}}g["default"]=a}),98);
__d("StarsViewerFunnelEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6440");b=d("FalcoLoggerInternal").create("stars_viewer_funnel_event",a);e=b;g["default"]=e}),98);
__d("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries,c=b.filter(function(a){return g(a)});b=b.filter(function(a){return!g(a)});return babelHelpers["extends"]({},a,{entries:c.concat(b)})}function g(a){return a.type==="entry"&&(a.rawData.type==="MENTION_TYPE_SELECTION"||a.rawData.type==="MENTION_TYPE_RESET")}f["default"]=a}),66);
__d("cometMentionsLexicalCreateNodeStrategy",["CometLexicalGenericEntityNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:a.key,text:c("cometMentionsDataEntryText")(a),type:"Actor"})});b=a;g["default"]=b}),98);
__d("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTagSuggestion_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"SuggestedWithTagsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntryWithTag_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTag_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"FriendsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},d={kind:"Variable",name:"scale",variableName:"scale"},e={alias:"photo",args:[{kind:"Literal",name:"height",value:40},d,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},f={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},g=[a,b,e];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[a,b,c,e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[f],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[a,b,{alias:"thumbnail_link",args:[d],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[a,b,c,e],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[a,e],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:g,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:g,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:g,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null}}();e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("createFeedCometMentionsDataEntry",["createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql","createFeedCometMentionsDataEntryWithTag_data.graphql","createFeedCometMentionsDataEntry_data.graphql","createFeedCometMentionsDataEntry_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;h!==void 0?h:h=b("createFeedCometMentionsDataEntry_data.graphql");i!==void 0?i:i=b("createFeedCometMentionsDataEntryWithTag_data.graphql");j!==void 0?j:j=b("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql");k!==void 0?k:k=b("createFeedCometMentionsDataEntry_profile.graphql");function a(a){var b;b=a.data.node;if(b==null)return null;b=b;var c=b.id,d=b.name;b=b.photo;b=b==null?void 0:b.uri;var e;switch(a.data.icon_shape){case"square":e="square";break;case"roundedRect":e="roundedRect";break;default:e="circle";break}if(b==null&&a.type==="MENTION_SEARCH_RESULT"){var f;b=(f=a.data.node)==null?void 0:f.thumbnail_link;e="roundedRect"}if(d==null||c==null||b==null)return null;if(a.type==="MENTION_SEARCH_RESULT"){var g,h;f=a.data.score;if(f==null)return null;g=Boolean((g=a.data.node)==null?void 0:g.is_verified);return{key:c,label:d,rawData:{docTitle:(h=a.data.node)==null?void 0:h.doc_title,docUrl:(h=a.data.node)==null?void 0:h.doc_url,iconShape:e,isExternal:!1,isVerified:g,photoURI:b,resultType:(h=a.data.node)==null?void 0:h.__typename,score:f,subtext:(g=a.data.node)==null?void 0:g.mentions_subtext,type:"MENTION_SEARCH_RESULT"},type:"entry"}}return{key:c,label:d,rawData:{photoURI:b,type:a.type},type:"entry"}}g["default"]=a}),98);
__d("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","FeedComposerCometMentionsViewItemResolver.react","cometMentionsLexicalCreateNodeStrategy","cr:5410","gkx","react","useCometMentionsViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");e=c("gkx")("23229");var j=c("gkx")("25978");f=["USER","EVENT","GROUP","PAGE"];var k=e?[].concat(f,["WORKROOMS_USER"]):f;d=["user","event","group","page"];f=e?[].concat(d,["workrooms_user"]):d;var l=j?[].concat(f,["knowledge_hub_document"]):f;function a(){return function(a){var d=a.config,e=d.contextID;d=d.postID;a=a.pluginProps.editor;e=b("cr:5410")({canUseSections:j,contextID:e,firstDegreeTypesForBootstrap:k,mentionTypesForNetwork:l,postID:d,shouldBootstrapOnLayoutEffect:!1});d=c("useCometMentionsViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return i.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:e,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),viewStrategyRenderer:d})}}g["default"]=a}),98);
__d("createUpgradedUFI2MentionsComposerPluginForLexical",["upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical"],(function(a,b,c,d,e,f,g){"use strict";a=c("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical")();g["default"]=a}),98);
__d("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource",["BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadLocalStorageDataProvider","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,h=a.normalize,j=a.queryVariables,k=a.storageKey,l=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),m=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var n=i(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadLocalStorageDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:m,storageKey:k});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:h})},[a,m]);return i(function(){return{bootstrap:function(){return n.bootstrap()},fetchCache:function(a){return l(n.fetchCache(a))}}},[n,l])}g["default"]=a}),98);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6573211379407909"}),null);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql",["useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"canUseSections"},c={defaultValue:null,kind:"LocalArgument",name:"include_viewer"},d={defaultValue:null,kind:"LocalArgument",name:"options"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"typeaheadFirstDegreeFilters"},g={defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},h=[{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"typeaheadFirstDegreeFilters"},{kind:"Variable",name:"use_sections",variableName:"canUseSections"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale"},n={alias:"photo",args:[{kind:"Literal",name:"height",value:40},m,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},o={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},p=[j,k,n];o={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i,{kind:"InlineFragment",selections:[j,k,l,n,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[o],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:p,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[j,k,{alias:"thumbnail_link",args:[m],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[j,k,l,n],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[j,n],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:p,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:p,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:p,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};m={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[m,k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[o],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,e,g,f,a],kind:"Operation",name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[m,k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[i,o],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsBootloadDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsBootloadDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","react","useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource","useFeedComposerCometMentionsBootloadDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c,k=h!==void 0?h:h=b("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql");function a(a){var b=j(12),e=a.canUseSections,f=a.firstDegreeFinderOptions,g=a.includeViewer,h=a.limit,i=a.matchStrategy,m=a.storageKey,n=a.typeaheadContext;a=a.typeaheadFirstDegreeFilters;i=i===void 0?"prefix":i;var o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=d("WebPixelRatio").get(),b[0]=o):o=b[0];b[1]!==e||b[2]!==g||b[3]!==f||b[4]!==n||b[5]!==a?(o={canUseSections:e,include_viewer:g,options:f,scale:o,typeahead_context:n,typeaheadFirstDegreeFilters:a},b[1]=e,b[2]=g,b[3]=f,b[4]=n,b[5]=a,b[6]=o):o=b[6];b[7]!==h||b[8]!==i||b[9]!==o||b[10]!==m?(e={gqlQuery:k,limit:h,matchStrategy:i,normalize:l,queryVariables:o,storageKey:m},b[7]=h,b[8]=i,b[9]=o,b[10]=m,b[11]=e):e=b[11];return c("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource")(e)}function l(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_bootload)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){var b=a.cache_id,d=a.label;return b==null||d==null?null:{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);
__d("useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6215601155216592"}),null);
__d("useFeedComposerCometMentionsNetworkDataSourceQuery.graphql",["useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"canUseSections"},c={defaultValue:null,kind:"LocalArgument",name:"context_id"},d={defaultValue:null,kind:"LocalArgument",name:"count"},e={defaultValue:null,kind:"LocalArgument",name:"enable_type_selection"},f={defaultValue:null,kind:"LocalArgument",name:"include_viewer"},g={defaultValue:null,kind:"LocalArgument",name:"mentionTypes"},h={defaultValue:null,kind:"LocalArgument",name:"post_fbid"},i={defaultValue:null,kind:"LocalArgument",name:"query"},j={defaultValue:null,kind:"LocalArgument",name:"scale"},k={defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},l=[{kind:"Variable",name:"context_id",variableName:"context_id"},{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"enable_type_selection",variableName:"enable_type_selection"},{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"post_fbid",variableName:"post_fbid"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"mentionTypes"},{kind:"Variable",name:"use_sections",variableName:"canUseSections"}],m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},q={kind:"Variable",name:"scale",variableName:"scale"},r={alias:"photo",args:[{kind:"Literal",name:"height",value:40},q,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},s={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},t=[n,o,r];s={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m,{kind:"InlineFragment",selections:[n,o,p,r,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[s],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:t,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[n,o,{alias:"thumbnail_link",args:[q],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[n,o,p,r],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[n,r],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:t,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:t,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};q={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};o={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};p={kind:"InlineFragment",selections:[q,{alias:null,args:null,kind:"ScalarField",name:"types_to_show",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null}],type:"XFBMentionsTypeSelectionEntry",abstractKey:null};n={kind:"InlineFragment",selections:[q,o],type:"XFBMentionsTypeResetEntry",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i,j,k],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsNetworkDataSourceQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[m,s,p,n,{kind:"InlineFragment",selections:[q,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[s],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,d,f,i,j,k,g,a,h,c],kind:"Operation",name:"useFeedComposerCometMentionsNetworkDataSourceQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[m,s,p,n,{kind:"InlineFragment",selections:[q,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[m,s],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsNetworkDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsNetworkDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","react","useCometTypeaheadGraphQLDataSource","useFeedComposerCometMentionsNetworkDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c,k=h!==void 0?h:h=b("useFeedComposerCometMentionsNetworkDataSourceQuery.graphql");function a(a){var b=j(12),e=a.canUseSections,f=a.contextID,g=a.enableTypeSelection,h=a.includeViewer,i=a.limit,m=a.mentionTypes,n=a.postID,o=a.typeaheadContext,p=g===void 0?!1:g;b[0]!==e||b[1]!==f||b[2]!==i||b[3]!==p||b[4]!==h||b[5]!==m||b[6]!==n||b[7]!==o?(a=function(a){a=a.query;return{canUseSections:e,context_id:f,count:i,enable_type_selection:p,include_viewer:h,mentionTypes:m,post_fbid:n,query:a,scale:d("WebPixelRatio").get(),typeahead_context:o}},b[0]=e,b[1]=f,b[2]=i,b[3]=p,b[4]=h,b[5]=m,b[6]=n,b[7]=o,b[8]=a):a=b[8];b[9]!==i||b[10]!==a?(g={gqlQuery:k,limit:i,normalize:l,queryVariablesBuilderFunction:a},b[9]=i,b[10]=a,b[11]=g):g=b[11];return c("useCometTypeaheadGraphQLDataSource")(g)}function l(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_search)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});if((a==null?void 0:a.__typename)==="XFBMentionsTypeSelectionEntry"||(a==null?void 0:a.__typename)==="XFBMentionsTypeResetEntry"||(a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){a.__typename;var b=a.cache_id,d=a.label;if(b==null||d==null)return null;if((a==null?void 0:a.__typename)==="XFBMentionsTypeSelectionEntry"){var e;return{key:b,label:d,rawData:{iconName:(e=a.icon_name)!=null?e:"",type:"MENTION_TYPE_SELECTION",typesToShow:a.types_to_show.map(function(a){return a})},type:"entry"}}else if((a==null?void 0:a.__typename)==="XFBMentionsTypeResetEntry")return{key:b,label:d,rawData:{type:"MENTION_TYPE_RESET"},type:"entry"};else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry")return{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);
__d("useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10084341624939331"}),null);
__d("useFeedComposerCometMentionsNullstateDataSourceQuery.graphql",["useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"mentionTypes"},d={defaultValue:null,kind:"LocalArgument",name:"post_fbid"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"useSections"},g=[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"post_fbid",variableName:"post_fbid"},{kind:"Literal",name:"query",value:""},{kind:"Literal",name:"typeahead_context",value:"mentions"},{kind:"Variable",name:"types",variableName:"mentionTypes"},{kind:"Variable",name:"use_sections",variableName:"useSections"}],h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},l={kind:"Variable",name:"scale",variableName:"scale"},m={alias:"photo",args:[{kind:"Literal",name:"height",value:40},l,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},n={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},o=[i,j,m];n={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h,{kind:"InlineFragment",selections:[i,j,k,m,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[n],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:o,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[i,j,{alias:"thumbnail_link",args:[l],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[i,j,k,m],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[i,m],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:o,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:o,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:o,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};l={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};j={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsNullstateDataSourceQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[h,n,{kind:"InlineFragment",selections:[l,j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[n],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e,c,f,d],kind:"Operation",name:"useFeedComposerCometMentionsNullstateDataSourceQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[h,n,{kind:"InlineFragment",selections:[l,j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[h,n],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsNullstateDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsNullstateDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","react","useCometTypeaheadGraphQLDataSource","useFeedComposerCometMentionsNullstateDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c,k=h!==void 0?h:h=b("useFeedComposerCometMentionsNullstateDataSourceQuery.graphql");function a(a){var b=j(8),e=a.limit,f=a.mentionTypes,g=a.postID,h=a.useSections;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h?(a=function(){return{count:e,mentionTypes:f,post_fbid:g,scale:d("WebPixelRatio").get(),useSections:h}},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=a):a=b[4];var i;b[5]!==e||b[6]!==a?(i={gqlQuery:k,limit:e,normalize:l,queryVariablesBuilderFunction:a},b[5]=e,b[6]=a,b[7]=i):i=b[7];return c("useCometTypeaheadGraphQLDataSource")(i)}function l(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_search)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){var b=a.cache_id,d=a.label;return b==null||d==null?null:{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);
__d("useBaseFeedMentionsDataSourceResolverConfig",["MentionsCommonWordsBlocklist","createCometAtSignComposerMentionsMatchStrategy","createCometMentionsNameMatchStrategy","gkx","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadCompositeDataSource","useFeedComposerCometMentionsBootloadDataSource","useFeedComposerCometMentionsNetworkDataSource","useFeedComposerCometMentionsNullstateDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(a){var b=i(53),d=a.canUseSections,e=a.contextID,f=a.enableTypeSelection,g=a.firstDegreeTypesForBootstrap,h=a.limit,j=a.matchStrategy,k=a.mentionTypesForNetwork,l=a.payloadDecorators,m=a.postID;a=a.shouldBootstrapOnLayoutEffect;f=f===void 0?!1:f;j=j===void 0?"token":j;var n=Math.floor(h.intentful/2),o;b[0]!==d||b[1]!==n||b[2]!==j||b[3]!==g?(o={canUseSections:d,includeViewer:!0,limit:n,matchStrategy:j,storageKey:null,typeaheadContext:"mentions",typeaheadFirstDegreeFilters:g},b[0]=d,b[1]=n,b[2]=j,b[3]=g,b[4]=o):o=b[4];n=c("useFeedComposerCometMentionsBootloadDataSource")(o);if(b[5]!==k){o=(g=k)!=null?g:[];b[5]=k;b[6]=o}else o=b[6];b[7]!==f||b[8]!==o?(g={enableTypeSelection:f,mentionTypes:o,type:"feed_mentions_intentful_datasource_cache_key"},b[7]=f,b[8]=o,b[9]=g):g=b[9];o=h.intentful;var p;b[10]!==d||b[11]!==e||b[12]!==f||b[13]!==h.intentful||b[14]!==k||b[15]!==m?(p={canUseSections:d,contextID:e,enableTypeSelection:f,includeViewer:!0,limit:h.intentful,mentionTypes:k,postID:m,typeaheadContext:"mentions"},b[10]=d,b[11]=e,b[12]=f,b[13]=h.intentful,b[14]=k,b[15]=m,b[16]=p):p=b[16];e=c("useFeedComposerCometMentionsNetworkDataSource")(p);b[17]!==h.nullstate||b[18]!==k||b[19]!==m||b[20]!==d?(f={limit:h.nullstate,mentionTypes:k,postID:m,useSections:d},b[17]=h.nullstate,b[18]=k,b[19]=m,b[20]=d,b[21]=f):f=b[21];p=c("useFeedComposerCometMentionsNullstateDataSource")(f);b[22]!==n||b[23]!==g||b[24]!==h.intentful||b[25]!==e||b[26]!==p||b[27]!==l?(k={bootstrapDataSource:n,cacheKey_SEARCH_ONLY:g,limit:o,networkDataSource:e,nullstateDataSource:p,payloadDecorators:l},b[22]=n,b[23]=g,b[24]=h.intentful,b[25]=e,b[26]=p,b[27]=l,b[28]=k):k=b[28];m=c("useCometTypeaheadCompositeDataSource")(k);b[29]===Symbol["for"]("react.memo_cache_sentinel")?(f=["FRIENDS_ONLY"],b[29]=f):f=b[29];b[30]===Symbol["for"]("react.memo_cache_sentinel")?(o=["USER","WORKROOMS_USER"],b[30]=o):o=b[30];b[31]!==d||b[32]!==h.nonIntentful||b[33]!==j?(n={canUseSections:d,firstDegreeFinderOptions:f,includeViewer:!0,limit:h.nonIntentful,matchStrategy:j,storageKey:null,typeaheadContext:"mentions",typeaheadFirstDegreeFilters:o},b[31]=d,b[32]=h.nonIntentful,b[33]=j,b[34]=n):n=b[34];g=c("useFeedComposerCometMentionsBootloadDataSource")(n);b[35]===Symbol["for"]("react.memo_cache_sentinel")?(e={type:"feed_mentions_non_intentful_datasource_cache_key"},b[35]=e):e=b[35];b[36]!==g||b[37]!==h.nonIntentful||b[38]!==l?(p={bootstrapDataSource:g,cacheKey_SEARCH_ONLY:e,limit:h.nonIntentful,payloadDecorators:l},b[36]=g,b[37]=h.nonIntentful,b[38]=l,b[39]=p):p=b[39];k=c("useCometTypeaheadCompositeDataSource")(p);var q;bb0:{b[40]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("createCometAtSignComposerMentionsMatchStrategy")({minMatchLength:0}),b[40]=f):f=b[40];b[41]!==m?(o={dataSource:m,matchStrategy:f},b[41]=m,b[42]=o):o=b[42];if(b[43]!==o||b[44]!==k){d=[o];if(c("gkx")("23231")){q=d;break bb0}b[47]===Symbol["for"]("react.memo_cache_sentinel")?(j=c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:3,nameCase:"capitalized"}),b[47]=j):j=b[47];b[48]!==k?(n={dataSource:k,matchStrategy:j},b[48]=k,b[49]=n):n=b[49];d.push(n);b[50]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:4,nameCase:"lower-case"}),b[50]=e):e=b[50];b[51]!==k?(g={dataSource:k,matchStrategy:e},b[51]=k,b[52]=g):g=b[52];d.push(g);b[43]=o;b[44]=k;b[45]=d;b[46]=q}else d=b[45],q=b[46];q=d}h=q;return c("useCometMentionsDataSourceResolverConfig")(h,a)}g["default"]=a}),98);
__d("useFeedComposerCometMentionsDataSourceResolverConfig",["cometFeedComposerCometMentionsTypeSelectionPayloadDecorator","qex","react","useBaseFeedMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j=["user","workrooms_user","group","event","page"],k=["USER","WORKROOMS_USER","GROUP","EVENT","PAGE"],l=5;function a(a){var b=i(12),d=a.enableTypeSelection,e=a.firstDegreeTypesForBootstrap,f=a.mentionTypesForNetwork,g=a.shouldBootstrapOnLayoutEffect,h=a.canUseSections,m=a.contextID;a=a.postID;d=d===void 0?!1:d;e=e===void 0?k:e;f=f===void 0?j:f;var n;b[0]!==d?(n=d?[c("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator")]:[],b[0]=d,b[1]=n):n=b[1];n=n;if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){var o;o={intentful:(o=c("qex")._("1777"))!=null?o:l,nonIntentful:(o=c("qex")._("576"))!=null?o:l,nullstate:(o=c("qex")._("617"))!=null?o:l};b[2]=o}else o=b[2];b[3]!==h||b[4]!==m||b[5]!==d||b[6]!==e||b[7]!==f||b[8]!==n||b[9]!==a||b[10]!==g?(o={canUseSections:h,contextID:m,enableTypeSelection:d,firstDegreeTypesForBootstrap:e,limit:o,mentionTypesForNetwork:f,payloadDecorators:n,postID:a,shouldBootstrapOnLayoutEffect:g},b[3]=h,b[4]=m,b[5]=d,b[6]=e,b[7]=f,b[8]=n,b[9]=a,b[10]=g,b[11]=o):o=b[11];return c("useBaseFeedMentionsDataSourceResolverConfig")(o)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWChatEBPinCodeVerifyIndicator.react",["fbt","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.isMessenger;return j.jsxs(c("MWXRow.react"),{align:"center",paddingTop:8,spacing:8,children:[j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXSpinner.react"),{color:a?"disabled":"blue",size:12})}),j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"meta3",children:h._("__JHASH__sqvt0agiqDI__JHASH__")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatEncrypedBackupsNumericCodeValidation",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){var b=/^[0-9]*$/;return b.test(a)};a=function(a,b){return a.length>b?!1:g(a)};b=function(a,b){return a.length!==b?!1:g(a)};f.numericCodeIsValid=a;f.numericCodeIsCompleted=b}),66);
__d("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6355637124548827"}),null);
__d("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters",["MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsForgotPINDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatEncryptedBackupsForgotPINDialog.entrypoint",["JSResourceForInteraction","MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPINDialog.react").__setRef("MWChatEncryptedBackupsForgotPINDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeErrorWrapper.react",["MWXColumn.react","MWXColumnItem.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={inputWrapperErrorOnly:{paddingBottom:"x18d9i69",$$css:!0},outterWrapper:{minHeight:"x10sr9ya",$$css:!0},outterWrapperSmall:{minHeight:"x1h7t28c",$$css:!0}};function a(a){var b=a.children,d=a.error;a=a.inputSize;a=a===void 0?"large":a;var e=a==="large"?k.outterWrapper:k.outterWrapperSmall;return j.jsx(c("MWXColumn.react"),{xstyle:e,children:j.jsxs(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:a==="large"?20:0,paddingTop:0,children:[j.jsx("div",{className:(h||(h=c("stylex")))(d!=null&&[k.inputWrapperErrorOnly]),children:b}),d!=null?j.jsx("div",{className:"x1o1nzlu x1y1aw1k x2b8uid",children:j.jsx(c("MWXText.react"),{color:"negative",testid:void 0,type:"body4",children:d})}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputInner.react",["BaseTextInput.react","FocusRegion.react","MWChatEncrypedBackupsNumericCodeValidation","focusScopeQueries","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState,n=c("gkx")("24058"),o={input:{height:"x5yr21d",start:"x17qophe",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},testOpacity:{opacity:"x1ptxcow",$$css:!0}};function a(a){var b=a.extraProps.setFocus;a=a.props;var e=a["aria-label"],f=a.disabled,g=f===void 0?!1:f;a.enableMasking;var h=a.focusRegionId;f=a.inputMode;var p=a.onChange,q=a.onCompletionChange,r=a.size,s=a.testid;a=a.value;var t=m(a.length===r),u=t[0],v=t[1],w=l(null),x=l(g);t="mw-numeric-code-input-prevent-composer-focus-steal";var y=j(function(a){var b=d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,r);p(a);q!=null&&b!==u&&(v(b),q(b))},[u,p,q,r]);k(function(){var a=function(a){a.preventDefault()},b=w.current;b==null?void 0:b.addEventListener("selectstart",a);return function(){b==null?void 0:b.removeEventListener("selectstart",a)}},[]);k(function(){g&&b(!1)},[g,b]);k(function(){x.current!==g&&(x.current=g,g||d("FocusRegion.react").focusRegionById(h,d("focusScopeQueries").tabbableScopeQuery))},[g,h]);return i.jsx(c("BaseTextInput.react"),{"aria-label":e,autoComplete:"one-time-code",disabled:g,id:s!=null?s+"-"+t:t,inputMode:f,maxLength:r,onBlur:function(){b(!1)},onFocus:function(){b(!0)},onKeyDown:function(a){var b=a.keyCode;(b===37||b===38||b===39||b===40)&&(a.preventDefault(),a.stopPropagation())},onValueChange:function(a){a=a.toString();d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,r)&&y(a)},ref:w,testid:void 0,value:a,xstyle:[o.input,n&&o.testOpacity]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputRenderer.react",["CometRow.react","CometRowItem.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState,m={focusRing:{boxShadow:"x18bame2",outline:"xvetz19 x1a2a7pz",$$css:!0},input:{alignItems:"x6s0dn4",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",boxSizing:"x9f619",display:"x78zum5",height:"xng8ra",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1o817pb",$$css:!0},inputBox:{marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",$$css:!0},inputColorPrimary:{backgroundColor:"xljulmy",$$css:!0},inputColorSecondary:{backgroundColor:"xwcfey6",$$css:!0},inputSmall:{height:"xaymia4",width:"x1bgwkul",$$css:!0},inputTiny:{height:"x1vqgdyp",width:"x10faclu",$$css:!0}};function a(a){var b=a.color,d=b===void 0?"primary":b;b=a.disabled;var e=b===void 0?!1:b;b=a.enableMasking;var f=b===void 0?!1:b,g=a.hasFocus;b=a.inputSize;var i=b===void 0?"large":b,n=a.size;b=a.testid;b=b===void 0?"numeric-renderer":b;var o=a.value,p=function(a){return(o.length===a||o.length>a&&a===n-1)&&g};b=l(Array(n).fill(""));a=b[0];var q=b[1];k(function(){q(Array(n).fill().map(function(a,b){return o[b]!=null?f?"\u25cf":o[b]:""}))},[f,n,o]);return j.jsx(c("CometRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,role:"group",spacing:0,children:a.map(function(a,b){return j.jsx(c("CometRowItem.react"),{xstyle:m.inputBox,children:j.jsx("div",{className:(h||(h=c("stylex")))(m.input,i==="small"&&m.inputSmall,i==="tiny"&&m.inputTiny,d==="primary"&&m.inputColorPrimary,d==="secondary"&&m.inputColorSecondary,p(b)&&m.focusRing),"data-testid":void 0,children:f?j.jsx(c("MWXText.react"),{color:e?"disabled":"primary",type:"headlineEmphasized4",children:e?"\u25cf":a}):j.jsx(c("MWXText.react"),{color:e?"disabled":"primary",type:"headlineEmphasized1",children:a})})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g.MWChatEncryptedBackupsNumericCodeInputRenderer=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInput.react",["MWChatEncryptedBackupsNumericCodeInputInner.react","MWChatEncryptedBackupsNumericCodeInputRenderer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=a.enableMasking,e=a.inputSize,f=a.size,g=a.testid;g=a.value;var h=j(!1),k=h[0];h=h[1];return i.jsxs("div",{className:"x1n2onr6",children:[i.jsx(d("MWChatEncryptedBackupsNumericCodeInputRenderer.react").MWChatEncryptedBackupsNumericCodeInputRenderer,{color:a.color,disabled:a.disabled,enableMasking:b,hasFocus:k,inputSize:e,size:f,testid:void 0,value:g}),i.jsx(c("MWChatEncryptedBackupsNumericCodeInputInner.react"),{extraProps:{setFocus:h},props:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBFlowSourceContextProvider.react",["MWEBFlowSourceContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.children,d=a.source;a=j(function(){return{source:d}},[d]);return i.jsx(c("MWEBFlowSourceContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBPinCodeSize",[],(function(a,b,c,d,e,f){"use strict";a=6;f.EB_PIN_CODE_SIZE=a}),66);
__d("MWEBQPWithPinState.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INITIAL:0,RESTORE_IN_PROGRESS:1});c=a;f["default"]=c}),66);
__d("MWEBRestoreQPWithPin_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBRestoreQPWithPin_viewer",selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_with_pin_state",storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsInsertOTCDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEncryptedBackupsInsertOTCDialog.react").__setRef("MWEncryptedBackupsInsertOTCDialog.entrypoint")};g["default"]=a}),98);
__d("useMWChatEncryptedBackupsNumericCode",["FocusRegion.react","MWChatEncrypedBackupsNumericCodeValidation","asyncToGeneratorRuntime","focusScopeQueries","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useState;function a(a){var e=a.checkPreviouslyInsertedCode,f=a.clearInputOnComplete,g=f===void 0?!1:f;f=a.enableMasking;var h=a.focusRegionId,j=a.inputSize,k=a.onChange,l=a.onComplete;a=i(!1);var m=a[0],n=a[1];a=i(!0);var o=a[0],p=a[1];a=i("");var q=a[0],r=a[1];a=function(a){p(!a)};var s=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,j)){if(e!=null){var b=e.onCodeMismatch,c=e.previouslyInsertedCode;c=c===a;if(!c){b();return}}p(!0);n(!0);try{yield l(a),g&&r("")}catch(a){r("")}finally{n(!1)}}});return function(b){return a.apply(this,arguments)}}();return[{disabled:m,enableMasking:f,focusRegionId:h,onChange:function(a){var b=function(){d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,j)&&(r(a),k==null?void 0:k(a),c("promiseDone")(s(a)))};b()},onCompletionChange:a,size:j,value:q},{clearNumericInput:function(){return r("")},disabled:o,focusOnInput:function(){d("FocusRegion.react").focusRegionById(h,d("focusScopeQueries").tabbableScopeQuery)},isLoading:m,onPress:function(){c("promiseDone")(s(q))}}]}g.useMWChatEncryptedBackupsNumericCode=a}),98);
__d("useMWChatEncryptedBackupsPinCodeRestore",["CometRelay","EBSMGating","JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBODSEntityName.enum","MWEBPinCodeSize","MWEBUpsellDismissedEnum.facebook","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","asyncToGeneratorRuntime","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWChatEncryptedBackupsAddDevice","useMWChatEncryptedBackupsNumericCode","useMWEBFlowSourceContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useRef,n=e.useState,o=c("requireDeferred")("MWEBUseLocalStorage").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),p=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),q=c("requireDeferred")("mwEBGetPINSecretFromVesta").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),r=c("requireDeferred")("updateUpsellsStateInRelayStore").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),s=c("JSResourceForInteraction")("MWEncryptedBackupsHsmFleetMigrationGated").__setRef("useMWChatEncryptedBackupsPinCodeRestore");function a(a){var e=a.clientID,f=a.focusRegionId,g=a.onSubmitPin,i=a.onSubmitPinFailure,t=a.onVestaComplete,u=d("CometRelay").useRelayEnvironment();a=n(!1);var v=a[0],w=a[1];a=n(!1);var x=a[0],y=a[1];a=n(!1);var z=a[0],A=a[1],B=m(!1);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var C=a.startFlow,D=(h||(h=c("useReStore")))(),E=c("useMWEBFlowSourceContext")();a=n(!1);var F=a[0],G=a[1],H=k(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted;a=c("useMWChatEncryptedBackupsAddDevice")({hsmFleetMigrationResetPIN:j(function(a){c("promiseDone")(s.load().then(function(b){b({db:D,environment:u,pinCode:a,startFlow:C})}))},[D,u,C]),onComplete:j(function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"add_device_success");c("QPLUserFlow").addPoint(a.restoreQplEvent,"restore_auth_finished_and_dismissed");p.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:D,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))});o.onReady(function(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)});d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGating").isBackendSetupSuccessfulForEBSM()}},event:a.restoreQplEvent});d("MWChatEncryptedBackupsLogging").endSuccess({event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH});t();G(!1)},[D,t]),onFailure:j(function(a){i==null?void 0:i(),B.current=!0,y(!0),G(!1),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("promiseDone")(r.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null?void 0:H(!1)},[u,i,H]),onInvalidRecoveryCode:j(function(){i==null?void 0:i(),B.current=!0,y(!0),G(!1),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"pin_code_restore_wrong_recovery_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_restore_wrong_recovery_code"),c("promiseDone")(r.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null?void 0:H(!1)},[u,i,H])});var I=a[0];a=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode({enableMasking:!0,focusRegionId:f,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onChange:function(){y(!1),A(!1),w(!1)},onComplete:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield q.load());yield b({addDevice:I,clientID:e,environment:u,getSourceFromContext:E,onSubmitPin:g,onSubmitPinFailure:i,onVestaSecretFetch:function(){c("promiseDone")(r.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.UPSELLS_DISMISSED})}),H==null?void 0:H(!0)},pinCode:a,productUseCase:"MSGR_ENC_BACKUP",setIsInProgress:G,setIsPinCodeIncorrect:w,setIsVestaError:A,startFlow:C})});function f(b){return a.apply(this,arguments)}return f}()});f=a[0];a=a[1];var J=a.clearNumericInput,K=a.disabled;a=a.focusOnInput;l(function(){B.current&&(J(),B.current=!1)},[J]);return{focusOnInput:a,inputProps:f,isDisabled:(a=K)!=null?a:!1,isInProgress:F,isLabyrinthError:x,isPinCodeIncorrect:v,isVestaError:z}}g.useMWChatEncryptedBackupsPinCodeRestore=a}),98);
__d("useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse",selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],type:"VestaGetUserInfoResponse",abstractKey:null};e.exports=a}),null);
__d("useMWChatEncryptedBackupsVestaUserInfo",["CometRelay","useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c;a=a.vestaGetUserInfoResponse$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql"),a);return{attemptsRemaining:(c=a==null?void 0:a.attempts_remaining)!=null?c:null,isRegistered:(c=a==null?void 0:a.is_registered)!=null?c:null,loginTimeoutRemainingSecs:(c=a==null?void 0:a.login_timeout_remaining_secs)!=null?c:null}}g["default"]=a}),98);
__d("MWEBRestoreQPWithPin.react",["fbt","CometRelay","EncryptedBackupsSupportedPlatformUtils","FBLogger","FocusRegion.react","JSResourceForInteraction","MWChatEBPinCodeVerifyIndicator.react","MWChatEncryptedBackupsForgotPINDialog.entrypoint","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContextProvider.react","MWEBQPWithPinState.enum","MWEBRestoreQPWithPin_viewer.graphql","MWEncryptedBackupsInsertOTCDialog.entrypoint","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconCross","MWXImage.react","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","cr:10043","cr:10045","focusScopeQueries","getMWEBRestoreQPCautionCircleProperties","gkx","promiseDone","react","stylex","useAsyncReStore","useLabyrinthLogging","useMWChatEncryptedBackupsPinCodeRestore","useMWChatEncryptedBackupsVestaUserInfo","useMWEBFlowSourceContext","useMWXEntryPointDialog","useMWXLazyDialog","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useContext,o=e.useEffect,p=e.useRef,q=e.useState,r=c("JSResourceForInteraction")("MWChatEncryptedBackupsPinCodeBlockedDialog.react").__setRef("MWEBRestoreQPWithPin.react"),s="chat-encrypted-backups-jewel-qp-with-pin-input",t={card:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xe4pinz",marginTop:"x14vqqas",marginEnd:"xktsk01",marginBottom:"xod5an3",marginStart:"x1d52u69",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},ctaWithError:{marginBottom:"x12nagc",paddingTop:"x1iorvi4",$$css:!0},ctaWithoutError:{marginBottom:"xod5an3",$$css:!0},icon:{paddingTop:"x889kno",$$css:!0},mdsCard:{backgroundColor:"x1jx94hy",$$css:!0}};function u(a){var e=a.clientID,f=a.currentSupportedPlatform,g=a.doesUserHaveOtcEligibleDevices,k=a.setClosed,u=a.setDismissed;a=a.viewer;var v=d("CometRelay").useFragment(i!==void 0?i:i=b("MWEBRestoreQPWithPin_viewer.graphql"),a),w=d("CometRelay").useRelayEnvironment(),x=m(function(a){return d("CometRelay").commitLocalUpdate(w,function(b){b=b.getRoot().getLinkedRecord("viewer");if(b==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][jewel_softblock_state] A viewer record does not exist when propagating EB restore qp with pin state");return}b.setValue(a,"qp_with_pin_state")})},[w]);a=v==null?void 0:(a=v.messenger_default_encrypted_backup)==null?void 0:a.vesta_user_info;var y=c("useMWChatEncryptedBackupsVestaUserInfo")({vestaGetUserInfoResponse$key:a}),z=y.attemptsRemaining===0||y.loginTimeoutRemainingSecs!=null;a=q(!1);var A=a[0],B=a[1],C=p(!1);a=c("useMWXLazyDialog")(r);var D=a[0];o(function(){z&&A===!0&&C.current!==!0&&(C.current=!0,D({attemptsRemaining:y.attemptsRemaining,loginTimeoutRemainingSecs:y.loginTimeoutRemainingSecs,onDismiss:function(){}}))},[z,D,A,y.attemptsRemaining,y.loginTimeoutRemainingSecs]);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var E=a.startFlow,F=c("useAsyncReStore")(),G=f!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM,H=G?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP_WITH_PIN:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP_WITH_PIN,I=m(function(a){c("promiseDone")(F.then(function(b){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:b,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,h=b.hasEbKeysLocally,i=b.hasEBSM,j=b.hasPDB,k=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;E({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:h,has_ebsm:i,has_pdb:j,has_user_restored_before:k,has_user_restored_before_temp:b,is_otc_eligible:g.toString(),is_pin_set:"true",restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:H});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a)}})}))},[F,E,g,H]);a=m(function(){var a=G?"RESTORE_QP_WITH_PIN_INBOX_DISMISSED":"RESTORE_QP_WITH_PIN_JEWEL_DISMISSED";I(a);d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"thread_list_qp_with_pin",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent});k();u()},[G,k,u,I]);f=n(c("MWJewelPopoverDialogContext.react"));var J=f.setIsOpenForDialog,K=b("cr:10043")==null?void 0:b("cr:10043")(),L=b("cr:10045")==null?void 0:b("cr:10045")();f=m(function(){k();if(K!=null)K(H);else if(L!=null){var a;L({hasSeenNotice:(a=v==null?void 0:(a=v.encrypted_backup)==null?void 0:a.has_seen_eb_auto_restore_notice)!=null?a:!1,source:H})}J(!0);x(c("MWEBQPWithPinState.enum").INITIAL)},[k,K,L,x,H,J,v==null?void 0:(f=v.encrypted_backup)==null?void 0:f.has_seen_eb_auto_restore_notice]);e=d("useMWChatEncryptedBackupsPinCodeRestore").useMWChatEncryptedBackupsPinCodeRestore({clientID:e,focusRegionId:s,onSubmitPin:function(){B(!0),x(c("MWEBQPWithPinState.enum").RESTORE_IN_PROGRESS)},onSubmitPinFailure:function(){x(c("MWEBQPWithPinState.enum").INITIAL)},onVestaComplete:f});f=e.inputProps;var M=e.isInProgress,N=e.isLabyrinthError,O=e.isPinCodeIncorrect;e=e.isVestaError;M=(v==null?void 0:v.qp_with_pin_state)===c("MWEBQPWithPinState.enum").RESTORE_IN_PROGRESS||M;var P=c("useVisibilityObserver")({onVisible:function(){d("FocusRegion.react").focusRegionById(s,d("focusScopeQueries").tabbableScopeQuery);var a=G?"RESTORE_QP_WITH_PIN_INBOX_IMPRESSION":"RESTORE_QP_WITH_PIN_JEWEL_IMPRESSION";I(a)}}),Q=c("useMWXEntryPointDialog")(c("MWChatEncryptedBackupsForgotPINDialog.entrypoint"),{}),R=Q[0];Q=c("useMWXEntryPointDialog")(c("MWEncryptedBackupsInsertOTCDialog.entrypoint"),{});var S=Q[0],T=c("useMWEBFlowSourceContext")(),U=m(function(){var a=T();S({source:a},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_CLOSE_DIALOG_CLICK")})},[T,S]),V=m(function(){R({onDismiss:function(){}})},[R]);Q=O?h._("__JHASH__TG8l6XqQAul__JHASH__"):N||e?h._("__JHASH__oI6Lha5PMTv__JHASH__"):void 0;if(z===!0){k();return null}O=c("gkx")("23219");return l.jsx("div",{className:(j||(j=c("stylex")))([t.card,O&&t.mdsCard]),children:l.jsxs(c("MWXColumn.react"),{ref:P,testid:void 0,children:[l.jsx(c("MWXColumnItem.react"),{children:l.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:12,children:[l.jsx(c("MWXRowItem.react"),{xstyle:t.icon,children:l.jsx(c("MWXImage.react"),{src:c("getMWEBRestoreQPCautionCircleProperties")()})}),l.jsx(c("MWXRowItem.react"),{expanding:!0,children:l.jsxs(c("MWXColumn.react"),{paddingTop:8,spacing:12,children:[l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{align:"start",numberOfLines:2,type:"headlineEmphasized4",children:h._("__JHASH__q7gZd-Mj8BZ__JHASH__")})}),l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXText.react"),{align:"start",color:O?"secondary":"primary",numberOfLines:2,type:"body4",children:h._("__JHASH__vEuhoLIq_xI__JHASH__")})})]})}),l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconCross"),label:h._("__JHASH__4xGkXp7jS2s__JHASH__"),onPress:a,size:O?24:32,testid:void 0})})]})}),l.jsx(c("MWXColumnItem.react"),{paddingTop:16,children:l.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:Q,inputSize:"small",children:l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:s,children:l.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},f,{color:O?"primary":"secondary",disabled:M,inputSize:"small",testid:void 0}))})})}),M&&l.jsx(c("MWXColumnItem.react"),{align:"center",children:l.jsx("div",{className:"xfitlp5 x9otpla",children:l.jsx(c("MWChatEBPinCodeVerifyIndicator.react"),{isMessenger:O})})}),!M&&l.jsx(c("MWXColumnItem.react"),{align:"center",children:l.jsx("div",{className:(j||(j=c("stylex")))(Q==null&&t.ctaWithoutError,Q!=null&&t.ctaWithError),children:l.jsx(c("MWXText.react"),{type:"bodyLink4",children:g===!0?l.jsx(c("MWXLink.react"),{color_DEPRECATED:O?"primary":"blueLink",onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK"),J(!0),U()},children:h._("__JHASH__FFwEA7rGUbF__JHASH__")}):l.jsx(c("MWXLink.react"),{color_DEPRECATED:O?"primary":"blueLink",onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_FORGOT_PIN_CLICK"),J(!0),V()},children:h._("__JHASH__UY_FDJp7Rzt__JHASH__")})})})})]})})}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.clientID,d=a.currentSupportedPlatform,e=a.doesUserHaveOtcEligibleDevices,f=a.setClosed,g=a.setDismissed;a=a.viewer;return l.jsx(c("MWEBFlowSourceContextProvider.react"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:l.jsx(u,{clientID:b,currentSupportedPlatform:d,doesUserHaveOtcEligibleDevices:e,setClosed:f,setDismissed:g,viewer:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWEBAutoRestoreConsentDialog",["JSResourceForInteraction","MWChatEncryptedBackupsQPLEvents","react","useLabyrinthLogging","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("MWEBAutoRestoreConsentDialog.react").__setRef("useMWEBAutoRestoreConsentDialog");function a(){var a=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),b=a.startFlow;a=c("useMWXLazyDialog")(j);var e=a[0];return i(function(a){b({additionalAnnotations:{origin_surface:"qp_with_pin"},event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,source:a}),e({})},[e,b])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArmadilloReceiveWriteDbSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5721");b=d("FalcoLoggerInternal").create("armadillo_receive_write_db_success",a);e=b;g["default"]=e}),98);
__d("BootloaderEventsPerf",["invariant","Bootloader","BootloaderEvents","ResourceTimingStore","objectEntries","objectValues"],(function(a,b,c,d,e,f,g,h){var i={total_count:0,total_bytes:0,downloaded_count:0,downloaded_bytes:0,cached_count:0,cached_bytes:0,inlined_count:0,inlined_bytes:0,duration:0,missing_count:0};function j(a,b,c){return Math.max(0,((c=c)!=null?c:0)-Math.max(a,(c=b)!=null?c:0))}function k(){return{blocking:babelHelpers["extends"]({},i),nonblocking:babelHelpers["extends"]({},i),"default":babelHelpers["extends"]({},i)}}function l(a,b,c){var e,f;if(c==null)e=0,f="downloaded";else if(c[1])e=c[0].length,f="inlined";else{c=d("ResourceTimingStore").getEntryForURL(c[0]);c?(e=c.encodedBodySize,f=c.transferSize===0?"cached":"downloaded"):(e=0,f="downloaded",a.missing_count++)}a.total_count++;a.total_bytes+=e;if(!b)return;a.duration=Math.max(a.duration,b);switch(f){case"downloaded":a.downloaded_count++;a.downloaded_bytes+=e;break;case"inlined":a.inlined_count++;a.inlined_bytes+=e;break;case"cached":a.cached_count++;a.cached_bytes+=e;break}}function m(a,b,d,e,f){var g=c("Bootloader").getResourceState(b);l(a,j(d,g.loadStart,g.loadEnd),e);g.loadError!=null&&f.add(b)}function n(a,b,d,e){var f=k();for(var a=c("objectEntries")(a),g=Array.isArray(a),i=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var l=j[0];j=j[1];for(var j=j,n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;var q=p[0];p=p[1];var r=void 0,s=void 0;switch(p.type){case"async":s=null;r=d;break;case"js":case"css":s=[p.src,p.d===1];r=f;break;default:p,h(0,3721)}m(r[l],q,b,s,e)}}return f}function o(a,b){var e={unpredicted:d("BootloaderEvents").newResourceMapSet(),ef:d("BootloaderEvents").newResourceMapSet(),overpredicted:d("BootloaderEvents").newResourceMapSet()};for(var f=c("objectEntries")(b),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];for(var i=i.entries(),k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m=m;var n=m[0];m=m[1];a[j].has(n)?e.ef[j].set(n,m):e.overpredicted[j].set(n,m)}}for(n=c("objectEntries")(a),m=Array.isArray(n),l=0,n=m?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(l>=n.length)break;k=n[l++]}else{l=n.next();if(l.done)break;k=l.value}i=k;j=i[0];h=i[1];for(g=h.entries(),f=Array.isArray(g),a=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=g.length)break;k=g[a++]}else{a=g.next();if(a.done)break;k=a.value}i=k;h=i[0];k=i[1];b[j].has(h)||e.unpredicted[j].set(h,k)}}return e}function a(a){var b=a.efData,c=a.rsrcs,d=a.startTime,e=new Set(),f;if(b){var g=o(c,b.tierOne);f=g.unpredicted;g={ef:n(g.ef,b.fetchRsrcsStart,k(),e),overpredicted:n(g.overpredicted,b.fetchRsrcsStart,k(),e)};b={ef_fetch_predictions:b.fetchPredictionsEnd-b.fetchPredictionsStart,ef_fetch_start_wait:b.fetchPredictionsEnd-b.fetchRsrcsStart,ef_head_start:d-b.fetchRsrcsStart}}else f=c,g={},b={};c=babelHelpers["extends"]({unpredicted:n(f,d,k(),e)},g);return{source:a.source,source_detail:a.sourceDetail,is_first_identical:a.isFirstIdentical,timeslice_context:(f=a.timesliceContext)==null?void 0:f.name,start_time:d,err_count:e.size,resources:c,durations:babelHelpers["extends"]({jsmods_wait:a.jsmodsStart-d,jsmods:a.jsmodsEnd-a.jsmodsStart,jsmods_done_wait:a.jsmodsEnd-d,download_done_wait:a.logTime-d},b),payloadStats:a.payloadStats}}function b(a){var b=a.startTime,e=0,f=0,g=0,h=0;for(var i=a.components,m=Array.isArray(i),o=0,i=m?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(m){if(o>=i.length)break;p=i[o++]}else{o=i.next();if(o.done)break;p=o.value}p=p;p=c("Bootloader").getComponentTiming(p);var q=p.tierTwoStart,r=p.tierTwoEnd,s=p.tierThreeStart;p=p.tierThreeEnd;e=Math.max(e,j(b,q,r));f=Math.max(f,j(b,b,r));g=Math.max(g,j(b,s,p));h=Math.max(h,j(b,b,p))}q=new Set();r=k();s=n(a.tierOne,b,r,q);p=n(a.tierTwo,b,r,q);o=n(a.tierThree,b,r,q);m=r.blocking.downloaded_count!=0;i=k();var t=d("BootloaderEvents").newResourceMapSet(),u=new Set(),v=[a.tierOne,a.tierTwo,a.tierThree];for(var w=0;w<v.length;w++){var x=v[w];for(var x=c("objectValues")(x),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}A=A;for(var A=A.keys(),B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}D=D;u.add(D)}}}D=0;C=0;B=0;for(A=a.beRequests.values(),z=Array.isArray(A),y=0,A=z?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(z){if(y>=A.length)break;x=A[y++]}else{y=A.next();if(y.done)break;x=y.value}v=x;D+=j(b,b,v.requestStart);C+=v.serverGenTime;B+=v.jsmodsEnd-v.jsmodsStart;l(i[m?"blocking":"nonblocking"],v.responseStart-v.requestStart,[v.uri,!1]);for(w=c("objectEntries")(v.rsrcs),x=Array.isArray(w),v=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var E;if(x){if(v>=w.length)break;E=w[v++]}else{v=w.next();if(v.done)break;E=v.value}E=E;var F=E[0];E=E[1];for(var E=E,G=Array.isArray(E),H=0,E=G?E:E[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var I;if(G){if(H>=E.length)break;I=E[H++]}else{H=E.next();if(H.done)break;I=H.value}I=I;var J=I[0];I=I[1];u.has(J)||t[F].set(J,I)}}}J=n(t,b,r,q);return{ref:a.ref,components:a.components,timeslice_context:(I=a.timesliceContext)==null?void 0:I.name,start_time:b,err_count:q.size,resources:{t1:s,t2:p,t3:o,be:i,unpredicted:J,async:r},durations:{fetch_start_wait:a.fetchStartTime-b,be_start_wait:D,be_server_gen:C,be_jsmods:B,callback_wait:a.callbackStart-b,callback:a.callbackEnd-a.callbackStart,bootload_done_wait:a.callbackEnd-b,rdfd_requirelazy:e,rdfd_done_wait:f,rd_requirelazy:g,rd_done_wait:h}}}function e(a){a.start_time;var b=a.resources,d=a.durations;a=babelHelpers.objectWithoutPropertiesLoose(a,["start_time","resources","durations"]);for(var b=c("objectEntries")(b),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];for(var g=c("objectEntries")(g),i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;var l=k[0];k=k[1];for(var k=c("objectEntries")(k),m=Array.isArray(k),n=0,k=m?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=k.length)break;o=k[n++]}else{n=k.next();if(n.done)break;o=n.value}o=o;var p=o[0];o=o[1];a[h+"_"+l+"_resources_"+p]=Math.round(Number(o))}}}for(p=c("objectEntries")(d),o=Array.isArray(p),n=0,p=o?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(o){if(n>=p.length)break;m=p[n++]}else{n=p.next();if(n.done)break;m=n.value}k=m;l=k[0];j=k[1];a[l+"_duration"]=Math.round(Number(j))}if(a.payloadStats){for(i=c("objectEntries")(a.payloadStats),g=Array.isArray(i),h=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(h>=i.length)break;f=i[h++]}else{h=i.next();if(h.done)break;f=h.value}e=f;b=e[0];d=e[1];for(m=c("objectEntries")(d),k=Array.isArray(m),l=0,m=k?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(l>=m.length)break;j=m[l++]}else{l=m.next();if(l.done)break;j=l.value}n=j;o=n[0];p=n[1];a[b+"_"+o+"_count"]=Math.round(Number(p))}}delete a.payloadStats}return a}g.computeHRData=a;g.computeBLData=b;g.flattenData=e}),98);
__d("BootloaderLoggingStatusEnum",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["SUCCESS","TIMEOUT"]);c=a;f["default"]=c}),66);
__d("CometBootloaderEventsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometBootloaderEventsLoggerConfig")}),null);
__d("HasteResponseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1823926");b=d("FalcoLoggerInternal").create("haste_response",a);e=b;g["default"]=e}),98);
__d("CometBootloaderLoggerUtil",["BootloaderEvents","BootloaderEventsPerf","CometBootloaderEventsTypedLoggerLite","CometTimeSpentNavigation","HasteResponseFalcoEvent","ResourceTimingStore","SiteData","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h=!1;function a(a){var b=a.bl_sample_rate,e=a.hr_sample_rate,f=a.parent_lid;if(h||!(b||e))return;h=!0;d("ResourceTimingStore").init();var g=function(a){return{ms_since_navstart:Math.round(a-c("performanceNavigationStart")()),parent_lid:f,pkg_cohort:c("SiteData").pkg_cohort,request_path:(a=c("CometTimeSpentNavigation").getPathInfo())==null?void 0:a.name,svn_rev:c("SiteData").client_revision}};e&&d("BootloaderEvents").onHasteResponse(function(a){return c("HasteResponseFalcoEvent").log(function(){var b=d("BootloaderEventsPerf").computeHRData(a),c=d("BootloaderEventsPerf").flattenData(b);return babelHelpers["extends"]({},c,g(b.start_time))})});var i=function(a,b,e){a=d("BootloaderEventsPerf").computeBLData(a);var f=d("BootloaderEventsPerf").flattenData(a);c("CometBootloaderEventsTypedLoggerLite").log(babelHelpers["extends"]({},f,g(a.start_time),{status:b}),{weight:e})};b&&d("BootloaderEvents").onBootload(function(a){return i(a,"SUCCESS",b)});var j=1;d("BootloaderEvents").onBootloaderCallbackTimeout(function(a){return i(a,"TIMEOUT",j)})}g.initLogging=a}),98);
__d("EncryptedBackupTaskSkippedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5727");b=d("FalcoLoggerInternal").create("encrypted_backup_task_skipped",a);e=b;g["default"]=e}),98);
__d("MAWHandleEBRestoreWithHIM",["EchoMessage","FBLogger","MAWAckLevel","MAWHandleEchoMsgsRestoreApiUtils","MAWHandleEchoReactionsRestore","MAWJids","MAWMsgType","MAWProtocolQueueMsg","MAWProtocolQueueUtils","MAWSharedCOPLogger","MAWUnsafeCoerce","Promise","WAJids","WAPREList","WAProtocolQueue","WAStanzaUtils","WATimeUtils","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Messages consumer: ",""]);i=function(){return a};return a}var j=new Set([d("EchoMessage").EchoMessageContentType.TEXT,d("EchoMessage").EchoMessageContentType.PLACEHOLDER]);function k(a){return c("gkx")("1645")&&j.has(a)}function l(a,b){if(a==="@me"||a==="@system")return b;else return a}function m(a,b,c,e,f){var g=[];if(a.reactionXOfflineThreadingIds!=null)for(var h=0;h<a.reactionXOfflineThreadingIds.length;++h){var i=d("MAWHandleEchoReactionsRestore").getReactionsForReactionStore(b,c,e,null,f,a);i=i.map(function(a){return{decodedMsg:{unstoredDbMedia:void 0,unstoredDbMsg:void 0,unstoredDbReaction:a,unstoredDbReceiverFetchInfo:void 0},stanza:q(a.externalId,a.ts,l(a.author,c),b,"reaction")}});g.push.apply(g,i)}return g}function n(a,b,c,e){return e?e.map(function(e){var f=e.messageId;return f!=null?{decodedMsg:{unstoredDbEditActionMsg:{ack:d("MAWAckLevel").ACK.sent,author:c,editMsgContent:{content:e.text},externalId:d("WAStanzaUtils").toStanzaId(f),originalMsgExternalId:a,serverTs:d("WATimeUtils").castToUnixTime(e.timestamp),ts:d("WATimeUtils").castToUnixTime(e.timestamp),type:d("MAWMsgType").MSG_TYPE.EDIT_ACTION},unstoredDbMedia:void 0,unstoredDbMsg:void 0,unstoredDbReaction:void 0},stanza:q(d("WAStanzaUtils").toStanzaId(f),d("WATimeUtils").castToUnixTime(e.timestamp),c,b,"text")}:null}).filter(Boolean):[]}function o(a,b,c){return a.map(function(a){return p(a,b,c)}).filter(Boolean).flat()}function p(a,b,e){var f,g=a.from,h=d("MAWHandleEchoMsgsRestoreApiUtils").getDbMsgTypeFromEchoMessage(a);if(g==null||h==null)return null;h=a.xOfflineThreadingId;if(h==null){c("FBLogger")("labyrinth_web").warn("xOfflineThreadingId is null for Echo message");return null}h=d("WAStanzaUtils").toStanzaId(h);f=d("WATimeUtils").castToUnixTime(((f=a.authoritativeTimestampMs)!=null?f:a.sortOrderMs)/1e3);g=d("MAWJids").toUserJid(g.localKey);var i=s(a,b,e,h);if(i==null)return null;e=m(a,b,e,h,g);var j=a.contentType===d("EchoMessage").EchoMessageContentType.TEXT||a.contentType===d("EchoMessage").EchoMessageContentType.PLACEHOLDER?"text":"media";a=n(h,b,g,a.editHistory);return[{decodedMsg:i,stanza:q(h,f,g,b,j)}].concat(e,a)}function q(a,b,c,e,f){var g={icdc:null,metadata:null,protobuf:new Uint8Array(0),subprotocol:new Uint8Array(0),subprotocolType:"consumerMessage",type:"subprotocol",version:"v3"};g={device:{id:d("WAJids").DEFAULT_DEVICE_ID,identity:null},folder:null,id:{author:c,chat:e,externalId:a},msg:g,recipientsCount:null,reportingMeta:null,ts:b,type:"IncomingMsg"};return{incomingType:"ebrestore",jid:e,message:{decrypted:g,details:{count:0,externalId:a,folder:void 0,from:d("WAJids").switchOnMsgrChatJidType(e,{group:function(a){return{author:d("WAJids").defaultDeviceJidForUser(c),chat:a,groupJid:a,type:"group"}},user:function(a){return{author:d("WAJids").defaultDeviceJidForUser(c),chat:a,deviceJid:d("WAJids").defaultDeviceJidForUser(c),type:"device"}}}),hideDecryptionFailure:!0,isInstamadillo:!1,offline:null,recipient:null,reportingMeta:null,retryCount:0,ts:b,type:f}},priority:d("WAProtocolQueue").WAProtocolQueuePriorityLow,stanzaId:a,stanzaQueueId:d("MAWUnsafeCoerce").unsafeCoerce(-1),type:"message"}}function r(a,b){return null}function s(a,b,c,e){c=d("MAWHandleEchoMsgsRestoreApiUtils").getUnstoredDbMessageFromEchoMessage(a,b,c,e);if(c==null)return null;c.originalTs;c.threadJid;c.unsendMsgContentDeleteTs;e=babelHelpers.objectWithoutPropertiesLoose(c,["originalTs","threadJid","unsendMsgContentDeleteTs"]);c=a.contentType===d("EchoMessage").EchoMessageContentType.MEDIA||a.contentType===d("EchoMessage").EchoMessageContentType.XMA;return{unstoredDbMedia:c?r(a,b):void 0,unstoredDbMsg:e,unstoredDbReaction:void 0,unstoredDbReceiverFetchInfo:void 0}}function a(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=[],j=[];a.forEach(function(a){k(a.contentType)?j.push(a):g.push(a)});if(j.length!==0){a=o(j,e,f).filter(Boolean);var l=a.map(function(a){return d("MAWProtocolQueueUtils").addMetricToMessage(a,d("WAPREList").PRE_METRIC.EB_RESTORE_WITH_HIM)}),m=(yield d("MAWProtocolQueueMsg").handleIncomingMessagesStanzas(l)["catch"](function(a){c("MAWSharedCOPLogger").TAGS(["EB_RESTORE_WITH_HIM"]).ERROR(i(),a);l.forEach(function(a){a=a.receiveFlow;a.endFail("consumer_handle_message_db_error")});return(h||(h=b("Promise"))).resolve()}));m!=null&&m.followUpParams.incomingMsgs.forEach(function(a){var b=m.followUpParams.incomingMsgResults.get(a.stanza.message.decrypted.id);(b==null?void 0:b.success)===!0?a.receiveFlow.endSuccess():a.receiveFlow.endFail((b=b==null?void 0:(a=b.error)==null?void 0:a.type)!=null?b:"unknown handle incoming msg error")})}return g});return t.apply(this,arguments)}g.isHandleEbRestoreWithHIM=k;g.convertEchoMessages=o;g.convertEchoMessage=p;g.restoreWithHIM=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseRequestError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysRequestErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysRequestErrors").parseRequestErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRequestErrors:b.value}))}g.parseRotateSignedResponseRequestError=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseServerError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysServerErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysServerErrors").parseServerErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorServerErrors:b.value}))}g.parseRotateSignedResponseServerError=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseSuccess",["WASmaxInPreKeysIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInPreKeysIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseRotateSignedResponseSuccess=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseValidationError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysIdentityKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;var e=d("WASmaxParseUtils").attrString(c.value,"text");if(!e.success)return e;var f=d("WASmaxParseUtils").attrIntRange(c.value,"code",400,499);if(!f.success)return f;c=d("WASmaxInPreKeysIdentityKeyMixin").parseIdentityKeyMixin(c.value);if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorText:e.value,errorCode:f.value,errorIdentityKeyMixin:c.value},a.value))}g.parseRotateSignedResponseValidationError=a}),98);
__d("WASmaxOutPreKeysRotateSignedRequest",["WASmaxJsx","WASmaxOutPreKeysClientRequestMixin","WASmaxOutPreKeysSignedPreKeyMixin"],(function(a,b,c,d,e,f,g){function a(a){a=a.signedPreKeyMixinArgs;a=d("WASmaxOutPreKeysClientRequestMixin").mergeClientRequestMixin(d("WASmaxJsx").smax("iq",{type:"set"},d("WASmaxOutPreKeysSignedPreKeyMixin").mergeSignedPreKeyMixin(d("WASmaxJsx").smax("rotate",null),a)));return a}g.makeRotateSignedRequest=a}),98);
__d("WASmaxPreKeysRotateSignedRPC",["WAComms","WASmaxInPreKeysRotateSignedResponseRequestError","WASmaxInPreKeysRotateSignedResponseServerError","WASmaxInPreKeysRotateSignedResponseSuccess","WASmaxInPreKeysRotateSignedResponseValidationError","WASmaxOutPreKeysRotateSignedRequest","WASmaxParsingFailure","WASmaxRpcUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a,c){var e,f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:e=d("WASmaxOutPreKeysRotateSignedRequest").makeRotateSignedRequest(a);k.next=3;return b("regeneratorRuntime").awrap(d("WAComms").sendSmaxStanza(e,c));case 3:f=k.sent;g=d("WASmaxInPreKeysRotateSignedResponseSuccess").parseRotateSignedResponseSuccess(f,e);if(!g.success){k.next=7;break}return k.abrupt("return",{name:"RotateSignedResponseSuccess",value:g.value});case 7:h=d("WASmaxInPreKeysRotateSignedResponseValidationError").parseRotateSignedResponseValidationError(f,e);if(!h.success){k.next=10;break}return k.abrupt("return",{name:"RotateSignedResponseValidationError",value:h.value});case 10:i=d("WASmaxInPreKeysRotateSignedResponseRequestError").parseRotateSignedResponseRequestError(f,e);if(!i.success){k.next=13;break}return k.abrupt("return",{name:"RotateSignedResponseRequestError",value:i.value});case 13:j=d("WASmaxInPreKeysRotateSignedResponseServerError").parseRotateSignedResponseServerError(f,e);if(!j.success){k.next=16;break}return k.abrupt("return",{name:"RotateSignedResponseServerError",value:j.value});case 16:throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("RotateSigned",{Success:g,ValidationError:h,RequestError:i,ServerError:j}));case 17:case"end":return k.stop()}},null,this)}g.sendRotateSignedRPC=a}),98);
__d("WARotateSignedPreKeyProtocol",["WACryptoManager","WAErrorMessage","WAGlobals","WAHandleFailureUtils","WAMakeSignedPreKeyMixin","WAResultOrError","WASmaxPreKeysRotateSignedRPC","WATagsLogger","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["successfully rotated new skey"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["ServerError: "," ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["RequestError: "," ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["ValidationError: "," ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["generated skey. Start rotating skey..."]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["start generating skey..."]);m=function(){return a};return a}var n=d("WATagsLogger").TAGS(["rotateSignedPreKeyProtocol"]);function a(){var a,c,e,f,g,o,p,q,r,s,t;return b("regeneratorRuntime").async(function(u){while(1)switch(u.prev=u.next){case 0:n.LOG(m());u.prev=1;u.next=4;return b("regeneratorRuntime").awrap(d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WACryptoManager").generateSignedPreKey(a)},{operationType:"generate_signed_prekey",flush:!0,afterInit:!0}));case 4:a=u.sent;n.LOG(l());u.next=8;return b("regeneratorRuntime").awrap(d("WASmaxPreKeysRotateSignedRPC").sendRotateSignedRPC({signedPreKeyMixinArgs:d("WAMakeSignedPreKeyMixin").makeSignedPreKeyMixin(a)}));case 8:c=u.sent;u.t0=c.name;u.next=u.t0==="RotateSignedResponseValidationError"?12:u.t0==="RotateSignedResponseRequestError"?15:u.t0==="RotateSignedResponseServerError"?19:23;break;case 12:e=c.value,f=e.errorCode,g=e.errorText,o=e.errorIdentityKeyMixin;n.ERROR(k(),f,g);return u.abrupt("return",d("WAResultOrError").makeError({type:"validation-error",identity:o.elementValue}));case 15:p=c.value.errorRequestErrors.value.code;q=c.value.errorRequestErrors.name;n.ERROR(j(),p,q);return u.abrupt("return",d("WAResultOrError").makeError({type:"request-error"}));case 19:r=c.value.errorServerErrors.value.code;s=c.value.errorServerErrors.name;n.ERROR(i(),r,s);return u.abrupt("return",d("WAResultOrError").makeError({type:"server-error"}));case 23:c.name;n.LOG(h());return u.abrupt("return",d("WAResultOrError").makeResult());case 26:u.next=36;break;case 28:u.prev=28;u.t1=u["catch"](1);t=d("WAErrorMessage").maybeGetMessageFromError(u.t1);if(!t.includes("No lastSignedPrekeyId and registration")){u.next=35;break}u.next=34;return b("regeneratorRuntime").awrap(d("WAHandleFailureUtils").reregisterPhone());case 34:return u.abrupt("return",d("WAResultOrError").makeError({type:"no-prekey-reregistered"}));case 35:throw u.t1;case 36:case"end":return u.stop()}},null,this,[[1,28]])}g.rotateSignedPreKeyProtocol=a}),98);
__d("WARotateSignedPreKey",["Promise","WAErr","WAGenerateAndUploadPreKeys","WALoggerTag","WARotateSignedPreKeyProtocol","WATagsLogger","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["rotateSignedPreKey failed."]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while generating and uploading prekeys: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Signed prekey failed server validation. need to upload all keys."]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS([c("WALoggerTag").SignedPrekeyRotation,c("WALoggerTag").SignedPrekey]);function a(a){var e;return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(d("WARotateSignedPreKeyProtocol").rotateSignedPreKeyProtocol());case 2:e=a.sent;if(!(e.success||e.error.type==="no-prekey-reregistered")){a.next=5;break}return a.abrupt("return");case 5:if(!(e.error.type==="validation-error")){a.next=9;break}l.ERROR(k());d("WAGenerateAndUploadPreKeys").generateAndUploadPreKeys(null,{reason:"signed prekey failed server validation"})["catch"](function(a){l.ERROR(j(),a)});return a.abrupt("return",(h||(h=b("Promise"))).resolve());case 9:l.ERROR(i());throw c("WAErr")("rotateSignedPreKey RPC failed: "+e.error.type);case 11:case"end":return a.stop()}},null,this)}g.rotateSignedPreKey=a}),98);
__d("WebWorkerInitDeferred",["cr:7429"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.blLoggingCavalryFields&&b("cr:7429").initLogging(a.blLoggingCavalryFields)}g.initDeferred=a}),98);/*FB_PKG_DELIM*/
__d("TrustedTypesChromecastScriptURLPolicy",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"];function i(a){var b=h.join("|");b=new RegExp("^chrome-extension://(?:null|"+b+")/cast_sender\\.js$");return b.test(a)}a={createScriptURL:function(a){if(i(a))return a;throw c("err")("Violated policy TrustedTypesChromecastScriptURLPolicy: "+a+" is not a Chromecast extension URI.")}};b=c("TrustedTypes").createPolicy("chromecast-extension-uri",a);d=b;g["default"]=d}),98);
__d("CastingChromecastAPI",["Promise","TrustedTypesChromecastScriptURLPolicy","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=3*60*1e3,j=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],k=null;d=function(a){var c=a.appID,d=a.receiverListener,e=a.sessionListener;return n().then(function(a){var f=new a.ApiConfig(new a.SessionRequest(c),e,d,a.AutoJoinPolicy.ORIGIN_SCOPED,a.DefaultActionPolicy.CAST_THIS_TAB);return new(h||(h=b("Promise")))(function(b,c){a.initialize(f,b,c)})})};e=function(a){return n().then(function(b){b.addReceiverActionListener(function(c,d){switch(d){case b.ReceiverAction.CAST:a.onCast(c);break;case b.ReceiverAction.STOP:a.onStop();break}})})};f=function(a){return n().then(function(c){var d=new c.SessionRequest(a,[c.Capability.VIDEO_OUT,c.Capability.AUDIO_OUT],i);return new(h||(h=b("Promise")))(function(a,b){c.requestSession(a,b,d)})})};var l=function(a){return n().then(function(b){return a===b.ReceiverAvailability.AVAILABLE})},m=function(){return n().then(function(a){return a.media.DEFAULT_MEDIA_RECEIVER_APP_ID})},n=function(){if(k)return k;if(!a.chrome){k=(h||(h=b("Promise"))).reject({code:"not_supported",description:null,details:null});return k}if(a.chrome.cast&&a.chrome.cast.isAvailable){k=(h||(h=b("Promise"))).resolve(a.chrome.cast);return k}k=(h||(h=b("Promise"))).resolve().then(function(){return o()}).then(function(d){return new(h||(h=b("Promise")))(function(b,e){a.chrome.cast=a.chrome.cast||{};a.chrome.cast.extensionId=d;a.__onGCastApiAvailable=function(c,d){d?e(d):b(a.chrome.cast)};var f=document.createElement("script");f.onerror=e;if(d==null){e({code:"extension_not_available",description:null,details:null});return}else f.src=c("TrustedTypesChromecastScriptURLPolicy").createScriptURL(r(d));var g=document.head||document.documentElement;if(g==null){e({code:"extension_no_casting_script",description:null,details:null});return}g.appendChild(f)})});return k};function o(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){for(var a=0;a<j.length;a++){var b=j[a],c=(yield q(b));if(c)return b}return null});return p.apply(this,arguments)}function q(a){return new(h||(h=b("Promise")))(function(b,c){c=r(a);var d=new XMLHttpRequest();d.onreadystatechange=function(){d.readyState===4&&b(d.status===200)};d.onerror=function(){b(!1)};d.open("GET",c,!0);d.send()})}function r(a){return"chrome-extension://"+a+"/cast_sender.js"}e={addReceiverListener:e,getDefaultAppID:m,getIsAvailable:l,getSession:f,initialize:d};m=e;g["default"]=m}),98);
__d("CometVideoHomePositionInUnitContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(0);g["default"]=b}),98);
__d("CometVideoHomeSectionPositionContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometWatchAndScrollControlNUXContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={isVideoPlayerWatchAndScrollControlNUXVisible:!1,setIsVideoPlayerWatchAndScrollControlNUXVisible:null};c=a.createContext(b);g["default"]=c}),98);
__d("VideoHomeLoggingReactionVideoChannelTypeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("VideoHomeLoggingUpstreamPlayerSourceContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("VideoHomeTypedLiteLogger",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:VideoHomeLoggerConfig")}),null);
__d("VideoPlayerControlsHiddenContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlIcon.react",["BaseFocusRing.react","BaseTooltip.react","CometPressable.react","CometTooltipImpl.react","TetraIcon.react","VideoPlayerControlsHiddenContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.c,l={"default":{backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",cursor:"x1ypdohk",display:"x1rg5ohu",height:"x1qx5ct2",marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",opacity:"x1iy03kw",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",":hover_opacity":"x1o7uuvo",$$css:!0},disabled:{cursor:"xt0e3qv",opacity:"xbyyjgo",":hover_opacity":"xj34u2y",$$css:!0},dropShadow:{filter:"x1qo4wvw",$$css:!0}};function m(a){var b=k(19),d,e,f;b[0]!==a?(d=a.tooltipOffsetY,e=a.children,f=babelHelpers.objectWithoutPropertiesLoose(a,["tooltipOffsetY","children"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f):(d=b[1],e=b[2],f=b[3]);d=Math.min(0,(a=d)!=null?a:0);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a="xuk3077 x78zum5 x14atkfc",b[4]=a):a=b[4];var g;b[5]!==d?(g={marginTop:d},b[5]=d,b[6]=g):g=b[6];var h;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(h="xuk3077 x78zum5 x14atkfc",b[7]=h):h=b[7];d=-d;var j;b[8]!==d?(j={paddingTop:d},b[8]=d,b[9]=j):j=b[9];b[10]!==j||b[11]!==e?(d=i.jsx("span",{className:h,style:j,children:e}),b[10]=j,b[11]=e,b[12]=d):d=b[12];b[13]!==f||b[14]!==d?(h=i.jsx(c("BaseTooltip.react"),babelHelpers["extends"]({},f,{children:d})),b[13]=f,b[14]=d,b[15]=h):h=b[15];b[16]!==g||b[17]!==h?(j=i.jsx("span",{className:a,style:g,children:h}),b[16]=g,b[17]=h,b[18]=j):j=b[18];return j}function a(a){var b=k(23),d,e,f,g,h,n,o,p,q;b[0]!==a?(d=a.color,n=a.disabled,p=a.icon,o=a.label,e=a.tooltip,f=a.tooltipAlign,g=a.tooltipImpl,q=a.tooltipOffsetY,h=babelHelpers.objectWithoutPropertiesLoose(a,["color","disabled","icon","label","tooltip","tooltipAlign","tooltipImpl","tooltipOffsetY"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=n,b[7]=o,b[8]=p,b[9]=q):(d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],n=b[6],o=b[7],p=b[8],q=b[9]);var r=d===void 0?"white":d;a=e===void 0?null:e;d=f===void 0?"start":f;var s=j(c("VideoPlayerControlsHiddenContext"));f=(e=g)!=null?e:c("CometTooltipImpl.react");b[10]!==h||b[11]!==n||b[12]!==o||b[13]!==s||b[14]!==r||b[15]!==p?(g=i.jsx(c("BaseFocusRing.react"),{children:function(a){return i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},h,{disabled:n,display:"inline",label:o,overlayDisabled:!0,testid:void 0,xstyle:[l["default"],n===!0&&l.disabled,a,s===!0&&l.dropShadow],children:i.jsx(c("TetraIcon.react"),{color:r,icon:p})}))}}),b[10]=h,b[11]=n,b[12]=o,b[13]=s,b[14]=r,b[15]=p,b[16]=g):g=b[16];b[17]!==d||b[18]!==a||b[19]!==f||b[20]!==q||b[21]!==g?(e=i.jsx(m,{align:d,position:"above",tooltip:a,tooltipImpl:f,tooltipOffsetY:q,children:g}),b[17]=d,b[18]=a,b[19]=f,b[20]=q,b[21]=g,b[22]=e):e=b[22];return e}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsProperties",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SAME_AS_OTHER_CONTROLS","SEPARATE_FROM_OTHER_CONTROLS"]);c=b("$InternalEnum")({VIDEO_CAPTIONS_MENU:"video_captions_menu",VIDEO_SETTINGS_MENU:"video_settings_menu"});f.MutedButtonVisibility=a;f.VideoMenuType=c}),66);
__d("VideoPlayerInstreamAdsStateHooks",["createVideoStateHook"],(function(a,b,c,d,e,f,g){"use strict";var h=(d=d("createVideoStateHook")).createVideoStateHook(),i=h.stateHook,j=h.valueHook,k=[];function a(){return i(k)}function b(){return j(k)}h=d.createVideoStateHook();var l=h.stateHook,m=h.valueHook,n=null;function c(){return l(n)}function e(){return m(n)}h=d.createVideoStateHook();var o=h.setterHook,p=h.valueHook,q=!0;function f(){return o(q)}function r(){return p(q)}h=d.createVideoStateHook();var s=h.stateHook,t=h.valueHook,u="INIT";function v(){return s(u)}function w(){return t(u)}h=d.createVideoStateHook();var x=h.stateHook,y=h.valueHook,z=!0;function A(){return x(z)}function B(){return y(z)}h=d.createVideoStateHook();var C=h.stateHook,D=h.valueHook,E=null;function F(){return C(E)}function G(){return D(E)}h=d.createVideoStateHook();var H=h.stateHook,I=h.valueHook,J=null;function K(){return H(J)}function L(){return I(J)}h=d.createVideoStateHook();var M=h.stateHook,N=h.valueHook,O=null;function P(){return M(O)}function Q(){return N(O)}h=d.createVideoStateHook();var R=h.stateHook,S=h.valueHook,T=null;function U(){return R(T)}function aa(){return S(T)}h=d.createVideoStateHook();var ba=h.stateHook,ca=h.valueHook,V=null;function da(){return ba(V)}function ea(){return ca(V)}h=d.createVideoStateHook();var fa=h.stateHook,ga=h.valueHook,W=0;function ha(){return fa(W)}function ia(){return ga(W)}h=d.createVideoStateHook();var ja=h.stateHook,ka=h.valueHook,X=!1;function la(){return ja(X)}function ma(){return ka(X)}h=d.createVideoStateHook();var na=h.stateHook,oa=h.valueHook,Y=!1;function pa(){return na(Y)}function qa(){return oa(Y)}h=d.createVideoStateHook();var ra=h.stateHook,sa=h.valueHook,Z=null;function ta(){return ra(Z)}function ua(){return sa(Z)}h=d.createVideoStateHook();var va=h.stateHook,wa=h.valueHook,$=null;function xa(){return va($)}function ya(){return wa($)}function za(){var a=w();return a==="STARTING_INDICATOR"||a==="START"||a==="START_AD"||a==="PLAY_NI_VIDEO"}g.useInstreamAdsMidRollsState=a;g.useInstreamAdsMidRollsValue=b;g.useInstreamAdsPostRollState=c;g.useInstreamAdsPostRollValue=e;g.useInstreamAdsPostRollEndedOrSkippedStateSetter=f;g.useInstreamAdsPostRollEndedOrSkippedStateValue=r;g.useInstreamAdsState=v;g.useInstreamAdsStateValue=w;g.useInstreamAdsIsEmptyState=A;g.useInstreamAdsIsEmptyStateValue=B;g.useInstreamAdsCurrentInsertionState=F;g.useInstreamAdsCurrentInsertionStateValue=G;g.useStartIndicatorBeginningTimeState=K;g.useStartIndicatorBeginningTimeStateValue=L;g.useAdBreaksTimeOffsetBeginningState=P;g.useAdBreaksTimeOffsetBeginningStateValue=Q;g.useInstreamAdsExtraFieldsState=U;g.useInstreamAdsExtraFieldsStateValue=aa;g.useInstreamAdsHideAdBehaviorState=da;g.useInstreamAdsHideAdBehaviorStateValue=ea;g.useUnifiedSchedulerLastFetchTimeState=ha;g.useUnifiedSchedulerLastFetchTimeStateValue=ia;g.useWaitingForAdFetchState=la;g.useWaitingForAdFetchStateValue=ma;g.useInstreamAdsHasCTAState=pa;g.useInstreamAdsHasCTAStateValue=qa;g.useInstreamAdsFeedContextCardState=ta;g.useInstreamAdsFeedContextCardStateValue=ua;g.useInstreamAdsFullScreenContextCardState=xa;g.useInstreamAdsFullScreenContextCardStateValue=ya;g.useInstreamAdsIsStart=za}),98);
__d("VideoPlayerLoggingSuboriginContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("VideoPlayerPlayButton.react",["fbt","ix","CometImage.react","CometPressable.react","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=(k||(k=d("react"))).c,m=k,n={playIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",start:"xtzzx4i",left:null,right:null,opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",$$css:!0},playIconHidden:{opacity:"xg01cxk",visibility:"xlshs6z",$$css:!0},playIconLarge:{height:"xy75621",marginTop:"xafmxuu",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x4mskuk",width:"xni59qk",$$css:!0},playIconMedium:{height:"xsdox4t",marginTop:"xs9mwh0",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x10ndw75",width:"x1useyqa",$$css:!0},playIconSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x16hk5td",width:"xvy4d1p",$$css:!0}};function o(a){switch(a){case"LARGE":return i("352839");case"MEDIUM":return i("101640");case"SMALL":return i("354763")}}function a(a){var b=l(15),d=a.iconSize,e=a.isVisible;a=a.onClick;d=d===void 0?"LARGE":d;var f;b[0]!==d?(f=o(d),b[0]=d,b[1]=f):f=b[1];var g;b[2]!==f?(g=m.jsx(c("CometImage.react"),{src:f}),b[2]=f,b[3]=g):g=b[3];f=g;b[4]!==a||b[5]!==f?(g=a!=null?m.jsx(c("CometPressable.react"),{display:"inline",label:h._("__JHASH__pymzrO9zrya__JHASH__"),onPress:a,overlayDisabled:!0,children:f}):f,b[4]=a,b[5]=f,b[6]=g):g=b[6];a=g;f=d==="LARGE"&&n.playIconLarge;g=d==="MEDIUM"&&n.playIconMedium;d=d==="SMALL"&&n.playIconSmall;e=!e&&n.playIconHidden;var i;b[7]!==f||b[8]!==g||b[9]!==d||b[10]!==e?(i=(j||(j=c("stylex")))(f,g,d,n.playIcon,e),b[7]=f,b[8]=g,b[9]=d,b[10]=e,b[11]=i):i=b[11];b[12]!==i||b[13]!==a?(f=m.jsx("i",{className:i,children:a}),b[12]=i,b[13]=a,b[14]=f):f=b[14];return f}g["default"]=a}),226);
__d("VideoPlayerSmallPlayButton.react",["fbt","CometImage.react","CometPressable.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={playIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",height:"xsdox4t",start:"xtzzx4i",marginTop:"xs9mwh0",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x10ndw75",opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",width:"x1useyqa",$$css:!0},playIconHidden:{opacity:"xg01cxk",visibility:"xlshs6z",$$css:!0}};function a(a){var b=k(8),d=a.isVisible;a=a.onClick;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("CometImage.react"),{src:"/images/video/play_48dp.png"}),b[0]=e):e=b[0];e=e;b[1]!==a?(e=a!=null?l.jsx(c("CometPressable.react"),{display:"inline",label:h._("__JHASH__pymzrO9zrya__JHASH__"),onPress:a,overlayDisabled:!0,children:e}):e,b[1]=a,b[2]=e):e=b[2];a=e;e=!d&&m.playIconHidden;b[3]!==e?(d=(i||(i=c("stylex")))(m.playIcon,e),b[3]=e,b[4]=d):d=b[4];b[5]!==d||b[6]!==a?(e=l.jsx("i",{className:d,children:a}),b[5]=d,b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),226);
__d("formatDurationSeconds",["fbt","padNumber"],(function(a,b,c,d,e,f,g,h){function a(a){var b=Math.floor(a/3600),d=Math.floor(a/60%60);a=Math.floor(a%60);if(b)return h._("__JHASH__FQybzYZtMhO__JHASH__",[h._param("hours",b),h._param("minutes",c("padNumber")(d,2)),h._param("seconds",c("padNumber")(a,2))]);else return h._("__JHASH__dB1Hg5AxmjF__JHASH__",[h._param("minutes",d),h._param("seconds",c("padNumber")(a,2))])}g["default"]=a}),226);
__d("VideoPlayerTimeIndicator.react",["FDSText.react","formatDurationSeconds","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(13),d=a.shouldCenterSelf;a=a.timestampSec;var e=d===!0?"var(--always-black)":"var(--always-dark-overlay)",f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x18l40ae x1lcm9me x1yr5g0i xrt01vj x10y3i5r x1wa3icf x123j3cw x1mpkggp xs9asl8 x1t2a60a x10l6tqk xuxw1ft",b[0]=f):f=b[0];var g;b[1]!==e?(g={backgroundColor:e},b[1]=e,b[2]=g):g=b[2];b[3]!==a?(e=c("formatDurationSeconds")(Math.round(a)),b[3]=a,b[4]=e):e=b[4];b[5]!==e?(a=j.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:e}),b[5]=e,b[6]=a):a=b[6];b[7]!==g||b[8]!==a?(e=j.jsx("div",{className:f,style:g,children:a}),b[7]=g,b[8]=a,b[9]=e):e=b[9];f=e;b[10]!==d||b[11]!==f?(g=d===!0?j.jsx("div",{className:"x78zum5 xl56j7k x1n2onr6",children:f}):f,b[10]=d,b[11]=f,b[12]=g):g=b[12];return g}g["default"]=a}),98);
__d("VideoPlayerUserInteractionCounter",["react","unrecoverableViolation","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useRef,l=e.useState,m=e.c;function a(a,b,d){var e=m(12),f=k(a),g,h;e[0]!==a?(g=function(){if(a!==f.current)throw c("unrecoverableViolation")("User interaction name should not change between renders ('"+f.current+"' -> '"+a+"').","comet_video_player")},h=[a],e[0]=a,e[1]=g,e[2]=h):(g=e[1],h=e[2]);j(g,h);var i=k(d);e[3]!==d?(g=function(){i.current=d},h=[d],e[3]=d,e[4]=g,e[5]=h):(g=e[4],h=e[5]);j(g,h);var l=c("usePrevious")(b),n=k(!1);e[6]!==l||e[7]!==b?(g=function(){var a=f.current,c=i.current;c&&((l===null||b!==l)&&(b?(n.current=!0,c({name:a,type:"started"})):l!==null&&(n.current=!1,c({name:a,type:"ended"}))))},h=[b,l],e[6]=l,e[7]=b,e[8]=g,e[9]=h):(g=e[8],h=e[9]);j(g,h);e[10]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){var a=f.current,b=i.current;return function(){b&&n.current&&b({name:a,type:"ended"})}},h=[],e[10]=g,e[11]=h):(g=e[10],h=e[11]);j(g,h)}function b(){var a=k(new Set()),b=l(0),c=b[0],d=b[1];b=i(function(b){var c=a.current;b.type==="started"||b.type==="happening"?(c.add(b.name),d(c.size)):b.type==="ended"&&(c["delete"](b.name),d(c.size))},[]);return{ongoingInteractionsCount:c,onUserInteraction:b}}g.useVideoPlayerUserInteraction=a;g.useVideoPlayerUserInteractionCounter=b}),98);
__d("useVideoPlayerControllerSubscription",["VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=b.useState,n=b.c;function a(a){var b=n(9),c=(i||(i=d("VideoPlayerHooks"))).useController(),e;b[0]!==a||b[1]!==c?(e=function(){return a(c,null)},b[0]=a,b[1]=c,b[2]=e):e=b[2];e=m(e);var f=e[0],g=e[1],h=l(a),o;b[3]!==a?(e=function(){h.current=a},o=[a],b[3]=a,b[4]=e,b[5]=o):(e=b[4],o=b[5]);k(e,o);b[6]!==c?(e=function(){g(function(a){return h.current(c,a)});var a=c.subscribe(function(){g(function(a){return h.current(c,a)})});return function(){a.remove()}},o=[c],b[6]=c,b[7]=e,b[8]=o):(e=b[7],o=b[8]);j(e,o);return f}g["default"]=a}),98);
__d("useAudioAvailabilityAtPlayhead",["VideoPlayerAudioAvailabilityInfo","VideoPlayerHooks","react","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(){var a=j(2),b=(i||(i=d("VideoPlayerHooks"))).useAudioAvailabilityInfo(),e;a[0]!==b?(e=function(a,c){a=a.getPlayheadPosition();a=d("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityAtPlayheadInfo(b,{playheadPosition:a});return c!=null&&c.isPlayheadWithinMutedSegment===a.isPlayheadWithinMutedSegment&&c.isSilentAtPlayhead===a.isSilentAtPlayhead&&c.volumeControlState===a.volumeControlState?c:a},a[0]=b,a[1]=e):e=a[1];a=e;return c("useVideoPlayerControllerSubscription")(a)}g["default"]=a}),98);
__d("useInnerMostTrackingCode",["CometTrackingCodeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("CometTrackingCodeContext")),b={click_tracking_linkshim_cb:[],encrypted_click_tracking:[],encrypted_tracking:[]};for(var d in a){var e=a[d],f=e.length;b[d]=f>0?[e[f-1]]:[]}return b}g["default"]=a}),98);
__d("useIsVideoHomePlayerOriginFromTracePolicy",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(1),c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=["comet.watch.catalog","comet.watch.explore","comet.watch.feed","comet.watch.injection","comet.watch.latest","comet.watch.notifications","comet.watch.playlist","comet.watch.saved","comet.watch.search","comet.watch.sports","comet.watch.live.injection","comet.watch.live","comet.watch.music","comet.watch.lancelet"],b[0]=c):c=b[0];b=c;return b.includes(a)}g["default"]=a}),98);
__d("useVideoPlayerHasStartedPlayingAtLeastOnce",["VideoPlayerHooks","createVideoStateHook","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.c;c=d("createVideoStateHook").createVideoStateHook(null);var l=c.stateHook;function a(){var a=k(4),b=l(!1),c=b[0],e=b[1],f=(i||(i=d("VideoPlayerHooks"))).usePlaying(),g;a[0]!==f||a[1]!==e?(b=function(){f&&e(!0)},g=[f,e],a[0]=f,a[1]=e,a[2]=b,a[3]=g):(b=a[2],g=a[3]);j(b,g);return c}g["default"]=a}),98);
__d("useVideoPlayerBigPlayButtonOverlay",["VideoPlayerHooks","VideoPlayerPlayButton.react","VideoPlayerSmallPlayButton.react","react","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.c;function a(a){var b=k(13),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.buttonSize;var f=a.forceVisible,g=a.overrideInteraction,h=a.shouldUnmute;a=e===void 0?"large":e;e=c("useVideoPlayerHasStartedPlayingAtLeastOnce")();var l=(i||(i=d("VideoPlayerHooks"))).usePaused(),m=i.useLastMuteReason(),n=i.useController(),o;b[2]!==n||b[3]!==h||b[4]!==m?(o=function(){n.play("user_initiated"),h===!0&&m!=="user_initiated"&&n.setMuted(!1,"product_initiated")},b[2]=n,b[3]=h,b[4]=m,b[5]=o):o=b[5];o=o;g=g!=null?g.handler:o;o=f===!0||f===!1?f:!e&&l;b[6]!==a||b[7]!==o||b[8]!==g?(f=a==="small"?j.jsx(c("VideoPlayerSmallPlayButton.react"),{isVisible:o,onClick:g}):j.jsx(c("VideoPlayerPlayButton.react"),{isVisible:o,onClick:g}),b[6]=a,b[7]=o,b[8]=g,b[9]=f):f=b[9];e=f;b[10]!==e||b[11]!==o?(l={bigPlayButtonElement:e,bigPlayButtonIsVisible:o},b[10]=e,b[11]=o,b[12]=l):l=b[12];return l}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ActnSellerTagProductPillClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1306");b=d("FalcoLoggerInternal").create("actn_seller_tag_product_pill_click",a);e=b;g["default"]=e}),98);
__d("CometFeedStoryOptimisticWithStory.react",["OptimisticLoadingTypeEnum","cometComposerLogger","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.c,n={bounce:{animationDuration:"x1ykxiw6",animationName:"xu6u0q5",$$css:!0},preview:{opacity:"x1ks1olk",transform:"x1jec706",$$css:!0}};function a(a){var b=m(11),d=a.children,e=a.creationSessionID,f=a.optimisticLoadingType,g=l(!1),i=l(!1),o;b[0]!==e||b[1]!==f?(a=function(){e!=null&&!g.current&&f===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&(g.current=!0,c("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_OPTIMISTIC_POST",typeOfOptimisticPost:"OPTIMISTIC_POST_WITH_STORY"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},e)),e!=null&&!i.current&&f===c("OptimisticLoadingTypeEnum").SHOW_ANIMATION&&(i.current=!0,c("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_REAL_POST"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},e))},o=[e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=o):(a=b[2],o=b[3]);k(a,o);a=f===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW?"FeedCometOptimisticPostPreview":null;o=f===c("OptimisticLoadingTypeEnum").SHOW_ANIMATION&&n.bounce;var p=f===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&n.preview,q;b[4]!==o||b[5]!==p?(q=(h||(h=c("stylex")))(o,p),b[4]=o,b[5]=p,b[6]=q):q=b[6];b[7]!==q||b[8]!==a||b[9]!==d?(o=j.jsx("div",{className:q,"data-testid":void 0,children:d}),b[7]=q,b[8]=a,b[9]=d,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("groupsCometFetchStoryFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"groupsCometFetchStoryFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnitStoryStrategy_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitContainerSection_feedUnit"},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null}],type:"Cacheable",abstractKey:"__isCacheable"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"GroupsCometSectionHeader_groupsSectionHeaderUnit"}],type:"GroupsSectionHeaderUnit",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_feedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"}],type:"Node",abstractKey:"__isNode"};e.exports=a}),null);
__d("groupsCometFetchStoryQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="26385746784404935"}),null);
__d("groupsCometFetchStoryQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","groupsCometFetchStoryQuery_facebookRelayOperation","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","IsWorkUser.relayprovider","IsMergQAPolls.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","IncludeCommentWithAttachment.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","EventCometCardImage_prefetchEventImage.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},c={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},d={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},e={defaultValue:null,kind:"LocalArgument",name:"id"},f={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},g={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},h={defaultValue:null,kind:"LocalArgument",name:"scale"},i={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},j=[{kind:"Variable",name:"id",variableName:"id"}],k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m=[l],n=[{kind:"Variable",name:"location",variableName:"renderLocation"}],o={alias:null,args:n,kind:"ScalarField",name:"should_host_actor_link_in_watch",storageKey:null},p={alias:null,args:[{kind:"Literal",name:"supported",value:"1Fy9p8"}],concreteType:null,kind:"LinkedField",name:"context_layout",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupConflictAlertContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryServicesLocalBusinessUpdatesContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryServicesLocalBusinessUpdatesContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryCoronavirusHubHelpContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryCoronavirusHubHelpContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupPendingPostContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupPendingPostContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryThreadedStoryContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryThreadedStoryContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryAggregatedContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryAggregatedContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryPluginContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryPluginContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStorySocialLearningModuleContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy",abstractKey:null}],storageKey:'context_layout(supported:"1Fy9p8")'},q={alias:null,args:[{kind:"Literal",name:"supported",value:"4t0C1l"}],concreteType:null,kind:"LinkedField",name:"footer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInformTreatmentFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInformTreatmentFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsDistributionScoreFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithDistributionScoreFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsRetentionCurveFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithRetentionCurveFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersV2FooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersV2FooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStorySuggestedVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStorySuggestedVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryTopicsFooterStrategy_storySection",fragmentPropName:"storySection",kind:"ModuleImport"}],type:"CometFeedStoryTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupTopicsFooterStrategy_topics",fragmentPropName:"topics",kind:"ModuleImport"}],type:"CometFeedStoryGroupTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryProfilePlusPostFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometProfilePlusStoryFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryAutoAttachedUserFundingCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryAutoAttachedUserFundingCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryFubsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryFubsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningModuleFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningMallCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningMallCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupInsightsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryCoronavirusCrisisMessageFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryCoronavirusCrisisMessageFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryContentManagerFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryContentManagerFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryVideoCreatorTeamFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryVideoCreatorTeamFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventAlbumFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryEventAlbumFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryImportantPostFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantPostFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiStoryPromotedPostMarkAsReadFooterStrategy_markAsRead",fragmentPropName:"markAsRead",kind:"ModuleImport"}],type:"GeminiStoryPromotedPostMarkAsReadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventConversationFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventConversationFooterStrategy",abstractKey:null}],storageKey:'footer(supported:"4t0C1l")'},r={alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},s={kind:"TypeDiscriminator",abstractKey:"__isNFXAction"},t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],u={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:t,storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},x=[{kind:"Literal",name:"site",value:"www"}],y={args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},z=[y],A={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};y=[A,y];s={alias:null,args:null,concreteType:"TombstoneFeedUnit",kind:"LinkedField",name:"tombstone_feedunit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_from_client",storageKey:null},{alias:null,args:null,concreteType:"Tombstone",kind:"LinkedField",name:"tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"author_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"executed_action",plural:!1,selections:[k,s,u,v,w,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUndo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_loading",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"negativeFeedbackActionID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"DeletedPostTombstoneContent",kind:"LinkedField",name:"deleted_post_tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"member_stats_text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tombstone_actions",plural:!0,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followup_actions",plural:!0,selections:[k,s,l,w,v,{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:x,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:x,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tooltip",storageKey:null}],type:"NFXActionWhichRedirects",abstractKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:z,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:z,storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:z,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:z,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:y,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:z,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:z,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:y,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null}],storageKey:null}],storageKey:null};v={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:m,storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i],kind:"Fragment",metadata:null,name:"groupsCometFetchStoryQuery",selections:[{alias:null,args:j,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"groupsCometFetchStoryFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,c,d,h,f,g,i,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IncludeCommentWithAttachmentrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider"}],kind:"Operation",name:"groupsCometFetchStoryQuery",selections:[{alias:null,args:j,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k,{kind:"TypeDiscriminator",abstractKey:"__isNode"},l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"matched_terms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"unknown"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:m,type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"unknown")'},{alias:null,args:null,concreteType:"FutureOfFeedInfo",kind:"LinkedField",name:"future_of_feed_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_reverse_message_and_attachment_position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_overlay_header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio_update",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_reshare_variant",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[l,o,{alias:null,args:n,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[p,q],storageKey:null},r,{kind:"ClientExtension",selections:[s]}],storageKey:null},{alias:null,args:null,concreteType:"StoryBumperData",kind:"LinkedField",name:"bumpers",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggered_bumpers",plural:!0,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggers",plural:!0,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"trigger_event",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:n,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[k,{alias:null,args:[{kind:"Literal",name:"supported",value:"20GvtT"}],concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryInitiallyCollapsedContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryInitiallyCollapsedContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryAttachmentOnlyContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryAttachmentOnlyContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy",abstractKey:null}],storageKey:'content(supported:"20GvtT")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3vatP7"}],concreteType:null,kind:"LinkedField",name:"layout",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStorySideUFILayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStorySideUFILayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"GeminiFeedStoryLongReadPostContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"GeminiFeedStoryLongReadPostContentLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryDefaultLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryDefaultLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryPendingParticipationPostLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryPendingParticipationPostLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryFullbleedContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryFullbleedContentLayoutStrategy",abstractKey:null}],storageKey:'layout(supported:"3vatP7")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"2lQ7jN"}],concreteType:null,kind:"LinkedField",name:"copyright_violation_header",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCopyrightViolationHeaderSection_story",fragmentName:"CometFeedStoryCopyrightViolationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCopyrightViolationHeaderStrategy",abstractKey:null}],storageKey:'copyright_violation_header(supported:"2lQ7jN")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"p5A6p"}],concreteType:null,kind:"LinkedField",name:"header",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupAdminAutonomyHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupAdminAutonomyAlertedHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyAlertedHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GroupsCometViewerContentFlaggedHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryViewerContentFlaggedHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupConflictAlertHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometGroupsAlertedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometGroupsAlertedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryCrisisCloseListingHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryCrisisCloseListingHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAlbumHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAlbumHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPostUpsellHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPostUpsellHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryFallbackHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryFallbackHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStorySimpleStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStorySimpleStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryCommerceHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCommerceHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStorySocialLearningModuleHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStorySocialLearningModuleHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedEmailLandingStoryStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedEmailLandingStoryStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedStoryImportantHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPhotoReviewCTAHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPhotoReviewCTAHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryLookingForPlayersUpgradePromptHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryLookingForPlayersUpgradePromptHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryBusinessMemoriesHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryBusinessMemoriesHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupMemberWarningHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupMemberWarningHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryProductRecommendationsPostDowngradePromptHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryProductRecommendationsPostDowngradePromptHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryTopicAnnotationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryTopicAnnotationHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryBasicAdsHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryBasicAdsHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsSocialContextHeaderStrategy",abstractKey:null}],storageKey:'header(supported:"p5A6p")'},p,{alias:null,args:[{kind:"Literal",name:"supported",value:"40M411"}],concreteType:null,kind:"LinkedField",name:"aymt_footer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTBizWebPostFooterStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTBizWebPostFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTPagePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTPagePostFooterChannelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTNewsFeedPostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTNewsFeedPostFooterChannelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy",abstractKey:null}],storageKey:'aymt_footer(supported:"40M411")'},q,{alias:null,args:[{kind:"Literal",name:"supported",value:"4p2cbn"}],concreteType:null,kind:"LinkedField",name:"feedback",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentFlaggedStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentFlaggedStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupConflictAlertUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupConflictAlertUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackMemoriesStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackMemoriesStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContentModerationQueueStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContentModerationQueueStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentDeletedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentDeletedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupDraftPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupDraftPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDelegationPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDelegationPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackPluginStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackPluginStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackIntegrationStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackIntegrationStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDraftedForOthersStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDraftedForOthersStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPublishedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPublishedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContextualProfileUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContextualProfileUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAutonomyQueueAlertedStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAutonomyQueueAlertedStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometStoriesSingleBucketFeedUnitFeedbackStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoriesSingleBucketFeedUnitUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAutonomyQueueStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAutonomyQueueStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAssistPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAssistPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackWorkLiveAMAStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryWorkLiveAMAStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupModminReviewFolderPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackEventModminReviewFolderPostStrategy",abstractKey:null}],storageKey:'feedback(supported:"4p2cbn")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"5fIuY"}],concreteType:null,kind:"LinkedField",name:"outer_footer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryMisinformationRelatedArticleStrategy_misinfoRelatedArticles",fragmentPropName:"misinfoRelatedArticles",kind:"ModuleImport"}],type:"CometStoryMisinformationRelatedArticleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"GeminiFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupConflictAlertOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingParticipationPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingParticipationPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryViewThreadFooter_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryViewThreadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryInlineSurveyOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInlineSurveyOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryJoinInVrOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryJoinInVrOuterFooterStrategy",abstractKey:null}],storageKey:'outer_footer(supported:"5fIuY")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"dyiij"}],concreteType:null,kind:"LinkedField",name:"call_to_action",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryTaggedProductsBumperCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometTaggedProductsBumperCallToActionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryAnonymousPostUpsellActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryGroupAnonymousPostUpsellActionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryDefaultCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryDefaultCallToActionStrategy",abstractKey:null}],storageKey:'call_to_action(supported:"dyiij")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3t3kTK"}],concreteType:null,kind:"LinkedField",name:"post_inform_treatment",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPostInformTreatmentSection_story",fragmentName:"CometFeedStoryPostCoverInformTreatmentStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryInformTreatmentPostCoverStrategy",abstractKey:null}],storageKey:'post_inform_treatment(supported:"3t3kTK")'}],storageKey:null},r,o,{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:m,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"WhatsAppStoryAdContext",kind:"LinkedField",name:"whatsapp_ad_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"schema_context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"tombstone_is_loading",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"optimistic_loading_type",storageKey:null},{alias:null,args:null,concreteType:"OptimisticMediaAttachmentData",kind:"LinkedField",name:"optimistic_media_attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"entID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectURL",storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"useCDNPreview",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_session_id",storageKey:null}]}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null},k],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[v,{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CoronavirusCommunityHelpFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CoronavirusCommunityHelpFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null}],type:"Cacheable",abstractKey:"__isCacheable"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[A],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_sorting_switcher",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_canSeeExpandedColor",fragmentName:"GroupsCometColorExpandedWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},l],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_cannotSeeExpandedColor",fragmentName:"GroupsCometColorDefaultWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeader",kind:"LinkedField",name:"story_header",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"style_infos",plural:!0,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"GroupFeedSortingSwitcher",kind:"LinkedField",name:"viewer_available_sorting_switchers",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"option_description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"option_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sorting_setting",storageKey:null},k],storageKey:null}],type:"GroupsSectionHeaderStyleInfo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"GroupsSectionHeaderUnit",abstractKey:null},{kind:"InlineFragment",selections:[v],type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:m,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"}],storageKey:null}]},params:{id:b("groupsCometFetchStoryQuery_facebookRelayOperation"),metadata:{},name:"groupsCometFetchStoryQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__IncludeCommentWithAttachmentrelayprovider:b("IncludeCommentWithAttachment.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider:b("EventCometCardImage_prefetchEventImage.relayprovider")}}}}();e.exports=a}),null);
__d("groupsCometFetchStory",["CometRelay","groupsCometFetchStoryFragment.graphql","groupsCometFetchStoryQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("groupsCometFetchStoryFragment.graphql");var j=i!==void 0?i:i=b("groupsCometFetchStoryQuery.graphql");function a(a,b){return d("CometRelay").fetchQuery(b,j,a).toPromise()}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LiveVideoCometNuxForCVCQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5349533685085225"}),null);
__d("LiveVideoCometNuxForCVCQuery.graphql",["LiveVideoCometNuxForCVCQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nuxID"},{defaultValue:null,kind:"LocalArgument",name:"videoID"}],c=[{kind:"Variable",name:"nux_id",variableName:"nuxID"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"LiveVideoCometNuxForCVCQuery",fragmentName:"LiveVideoCometNuxForCVCInternal_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null},e=[{kind:"Variable",name:"id",variableName:"videoID"}],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LiveVideoCometNuxForCVCQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null},{alias:null,args:e,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LiveVideoCometNuxForCVCInternal_video"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LiveVideoCometNuxForCVCQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,f],storageKey:null},{alias:null,args:e,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_audio_room_v2_broadcast",storageKey:null},f],storageKey:null}]},params:{id:b("LiveVideoCometNuxForCVCQuery_facebookRelayOperation"),metadata:{},name:"LiveVideoCometNuxForCVCQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("LiveVideoCometNuxForCVC.react",["CometPlaceholder.react","CometRelay","LiveVideoCometNuxForCVCQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("LiveVideoCometNuxForCVCQuery.graphql");function a(a){a=a.videoID;a=d("CometRelay").useLazyLoadQuery(k,{nuxID:8030,videoID:a});return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a.nux,props:{video:a.video}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MusicClipPlayerPlaybackTimer.react",["VideoPlayerHooks","getFormattedTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||(i=d("react"))).c,l=i;function a(a){var b=k(12),e=a.endTimeSeconds,f=a.startTimeSeconds,g=a.timerTextXStyle;a=a.timerXStyle;var i=(j||(j=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200);i=i-f;e=e-f;f=j.usePlaying();f=i<=0&&!f?e:i;b[0]!==a?(e=(h||(h=c("stylex")))(a),b[0]=a,b[1]=e):e=b[1];b[2]!==g?(i=(h||(h=c("stylex")))(g),b[2]=g,b[3]=i):i=b[3];b[4]!==f?(a=c("getFormattedTimestamp")(f),b[4]=f,b[5]=a):a=b[5];b[6]!==i||b[7]!==a?(g=l.jsx("span",{className:i,children:a}),b[6]=i,b[7]=a,b[8]=g):g=b[8];b[9]!==e||b[10]!==g?(f=l.jsx("div",{className:e,children:g}),b[9]=e,b[10]=g,b[11]=f):f=b[11];return f}g["default"]=a}),98);
__d("VideoPlayerActionButton.react",["CometLink.react","FDSText.react","TetraIcon.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={circleButton:{borderTopColor:"xgjxtca",borderEndColor:"xnuwv8w",borderBottomColor:"x1lqxvo2",borderStartColor:"xgi2ibe",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",marginEnd:"xq8finb",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",$$css:!0},justifyContentCenter:{justifyContent:"xl56j7k",$$css:!0},watchCircleButton:{borderTopColor:"xgjxtca",borderEndColor:"xnuwv8w",borderBottomColor:"x1lqxvo2",borderStartColor:"xgi2ibe",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",marginBottom:"xod5an3",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},watchContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",textAlign:"x2b8uid",width:"xja02kk",$$css:!0}};function a(a){var b=j(22),d=a.icon,e=a.label,f=a.onPress,g=a.shouldJustifyContentCenter,i=a.testid;a=a.useVerticalLayout;g=g===void 0?!1:g;a=a===void 0?!1:a;var m=a!==!0&&l.container;g=g&&l.justifyContentCenter;var n=a===!0&&l.watchContainer,o;b[0]!==m||b[1]!==g||b[2]!==n?(o=(h||(h=c("stylex")))(m,g,n),b[0]=m,b[1]=g,b[2]=n,b[3]=o):o=b[3];m=a!==!0&&l.circleButton;g=a===!0&&l.watchCircleButton;b[4]!==m||b[5]!==g?(n=(h||(h=c("stylex")))(m,g),b[4]=m,b[5]=g,b[6]=n):n=b[6];b[7]!==e||b[8]!==d||b[9]!==f?(a=k.jsx(c("TetraIcon.react"),{"aria-label":e,color:"white",hideHoverOverlay:!0,icon:d,onPress:f}),b[7]=e,b[8]=d,b[9]=f,b[10]=a):a=b[10];b[11]!==n||b[12]!==a?(m=k.jsx("div",{className:n,children:a}),b[11]=n,b[12]=a,b[13]=m):m=b[13];b[14]!==f||b[15]!==e?(g=k.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:k.jsx(c("CometLink.react"),{onClick:f,children:e})}),b[14]=f,b[15]=e,b[16]=g):g=b[16];b[17]!==o||b[18]!==i||b[19]!==m||b[20]!==g?(d=k.jsxs("div",{className:o,"data-testid":void 0,children:[m,g]}),b[17]=o,b[18]=i,b[19]=m,b[20]=g,b[21]=d):d=b[21];return d}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerLiveVideoControls_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerCometFeedStoryControlsImplLive.react",["CometRelay","VideoPlayerCometFeedStoryControlsImplLive_video.graphql","VideoPlayerLiveVideoControls.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(16),f=a.disablePlaybackControls,g=a.expandControl,i=a.isAdVideo,l=a.isControlsVisible,m=a.isExpandControlVisible,n=a.isVolumeControlVisible,o=a.isWatchAndScrollControlVisible,p=a.isWatchAndScrollDisabled,q=a.onUserInteraction,r=a.reactionVideoChannelType,s=a.shouldHideRewindControls,t=a.subOrigin,u=a.video;a=a.videoTahoeUrl;var v;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(v=h!==void 0?h:h=b("VideoPlayerCometFeedStoryControlsImplLive_video.graphql"),e[0]=v):v=e[0];v=d("CometRelay").useFragment(v,u);u=c("gkx")("22809");var w=!i;u=!u&&!i&&p!==!0;e[1]!==f||e[2]!==g||e[3]!==l||e[4]!==m||e[5]!==n||e[6]!==o||e[7]!==q||e[8]!==r||e[9]!==s||e[10]!==w||e[11]!==u||e[12]!==t||e[13]!==v||e[14]!==a?(i=k.jsx(c("VideoPlayerLiveVideoControls.react"),{disablePlaybackControls:f,expandControl:g,isControlsVisible:l,isExpandControlVisible:m,isVolumeControlVisible:n,isWatchAndScrollControlVisible:o,onUserInteraction:q,reactionVideoChannelType:r,shouldHideRewindControls:s,shouldRenderCastControl:w,shouldRenderWatchAndScrollControl:u,subOrigin:t,video:v,videoTahoeUrl:a}),e[1]=f,e[2]=g,e[3]=l,e[4]=m,e[5]=n,e[6]=o,e[7]=q,e[8]=r,e[9]=s,e[10]=w,e[11]=u,e[12]=t,e[13]=v,e[14]=a,e[15]=i):i=e[15];return i}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplNotLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberBottomWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"recipient_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberBottomWithPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberBottomWithPreview_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberPreview_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberBottomWithPreview.react",["CometRelay","VideoPlayerScrubber.react","VideoPlayerScrubberBottomWithPreview_video.graphql","VideoPlayerScrubberPreview.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(7),f=a.onUserInteraction;a=a.video;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("VideoPlayerScrubberBottomWithPreview_video.graphql"),e[0]=g):g=e[0];var i=d("CometRelay").useFragment(g,a);e[1]===Symbol["for"]("react.memo_cache_sentinel")?(g="x1ypdohk xal3pk5 x1hc1fzr x10l6tqk x13e46mh xh8yej3",e[1]=g):g=e[1];e[2]!==i?(a=function(a){return k.jsx(c("VideoPlayerScrubberPreview.react"),{timestampSec:a,video:i})},e[2]=i,e[3]=a):a=e[3];e[4]!==f||e[5]!==a?(g=k.jsx("i",{className:g,children:k.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:f,renderTooltip:a})}),e[4]=f,e[5]=a,e[6]=g):g=e[6];return g}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplNotLive.react",["fbt","ARIA_LABEL_PLACEHOLDER_FIXME","CometRelay","CometTrackingNodeProvider.react","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubberBottomWithPreview.react","VideoPlayerScrubberWithPreview.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","nux:31","nux:87","react","useCurrentRouteBuilder","useEmptyFunction","useVideoPlayerAvailableCaptionsLocalesFromRelay","useVideoPlayerBigPlayButtonOverlay"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));e=j;var m=e.useState,n=e.c,o=(f=b("nux:87")==null?void 0:b("nux:87")("comet_playback_speed_prompt_headroom_test"))!=null?f:c("useEmptyFunction"),p=(e=b("nux:31")==null?void 0:b("nux:31")("comet_group_video_caption_setting"))!=null?e:c("useEmptyFunction"),q={nux:{maxWidth:"xw5ewwj",$$css:!0}};function a(a){var e=n(73),f=a.disablePlaybackControls,g=a.expandControl,j=a.isAdVideo,r=a.isControlsVisible,s=a.isExpandControlVisible,t=a.isVolumeControlVisible,u=a.isWatchAndScrollControlVisible,v=a.isWatchAndScrollDisabled,w=a.onUserInteraction,x=a.subOrigin,y=a.video;a=a.videoTahoeUrl;var z;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(z=i!==void 0?i:i=b("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql"),e[0]=z):z=e[0];z=d("CometRelay").useFragment(z,y);y=(k||(k=d("VideoPlayerHooks"))).useShouldShowPlaybackRateControl();var A;e[1]!==x||e[2]!==y?(A=["discover","entry_point"].includes(x)&&y,e[1]=x,e[2]=y,e[3]=A):A=e[3];y=A;y=(A=o(y))!=null?A:[void 0,void 0];A=y[0];y=y[1];var B=(z==null?void 0:z.recipient_group)!=null&&(z==null?void 0:z.captions_url)!=null;B=B;var C;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(C={align:"end","aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),arrowStyle:"inset",content:h._("__JHASH__hNkQA-7yz1h__JHASH__"),hasCloseButton:!0,position:"above",type:"accent",xstyle:q.nux},e[4]=C):C=e[4];C=p(C,B);B=c("useVideoPlayerBigPlayButtonOverlay")();B=B.bigPlayButtonIsVisible;r=!C&&y===!0||r;u=u||r||f===!0&&!B;s=s||f===!0&&!j&&!B;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(B=c("gkx")("22809"),e[5]=B):B=e[5];B=B;var D=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(z),E=k.useCaptionsLoaded(),F=k.useCaptionsVisible();if(e[6]!==E||e[7]!==D){var G;G=E||((G=D==null?void 0:D.length)!=null?G:0)>0&&c("gkx")("3330");e[6]=E;e[7]=D;e[8]=G}else G=e[8];E=G;G=E;E=c("useCurrentRouteBuilder")();E=E==null?void 0:E.buildURL().toString();a=f!==!0&&a==null&&(E==null?void 0:E.includes("/watch/"))===!0;e[9]!==j||e[10]!==v||e[11]!==z||e[12]!==x||e[13]!==u?(E=!B&&!j&&v!==!0&&z!=null?l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:u,children:l.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:x,video:z})}):null,e[9]=j,e[10]=v,e[11]=z,e[12]=x,e[13]=u,e[14]=E):E=e[14];B=E;v=!C&&y===!0||s;e[15]!==v||e[16]!==g?(u=l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:v,noPaddingEnd:!0,noPaddingStart:!0,children:g}),e[15]=v,e[16]=g,e[17]=u):u=e[17];E=u;y=m(null);s=y[0];v=y[1];e[18]!==a?(g=l.jsx(c("VideoPlayerPlaybackControl.react"),{isNPC:a}),e[18]=a,e[19]=g):g=e[19];e[20]!==f?(u=f===!0?null:l.jsx(c("VideoPlayerPlaybackTimer.react"),{}),e[20]=f,e[21]=u):u=e[21];e[22]!==r||e[23]!==g||e[24]!==u?(y=l.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:r,children:[g,u]}),e[22]=r,e[23]=g,e[24]=u,e[25]=y):y=e[25];a=r&&!f;e[26]!==w||e[27]!==z?(g=l.jsx(c("VideoPlayerScrubberWithPreview.react"),{onUserInteraction:w,video:z}),e[26]=w,e[27]=z,e[28]=g):g=e[28];e[29]!==a||e[30]!==g?(u=l.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:a,children:g}),e[29]=a,e[30]=g,e[31]=u):u=e[31];e[32]!==w||e[33]!==z?(a=l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!1,children:l.jsx(c("VideoPlayerScrubberBottomWithPreview.react"),{onUserInteraction:w,video:z})}),e[32]=w,e[33]=z,e[34]=a):a=e[34];g=r&&!f;C=(C=C)!=null?C:A;e[35]!==s||e[36]!==w||e[37]!==C?(A=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:l.jsx(c("VideoPlayerSettingsControl.react"),{menuOpened:s,onUserInteraction:w,ref:C,setMenuOpened:v})}),e[35]=s,e[36]=w,e[37]=C,e[38]=A):A=e[38];e[39]!==g||e[40]!==A?(C=l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:g,noPaddingEnd:!0,children:A}),e[39]=g,e[40]=A,e[41]=C):C=e[41];e[42]!==G||e[43]!==r||e[44]!==f||e[45]!==D||e[46]!==F||e[47]!==s||e[48]!==w||e[49]!==z?(g=G?l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:r&&!f,children:l.jsx(c("VideoPlayerCaptionsControl.react"),{availableCaptionsLocales:D,captionsVisible:F,menuOpened:s,onUserInteraction:w,setMenuOpened:v,video:z})}):null,e[42]=G,e[43]=r,e[44]=f,e[45]=D,e[46]=F,e[47]=s,e[48]=w,e[49]=z,e[50]=g):g=e[50];e[51]!==j||e[52]!==z||e[53]!==r||e[54]!==f||e[55]!==x?(A=!j&&z!=null?l.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:r&&!f,subOrigin:x}):null,e[51]=j,e[52]=z,e[53]=r,e[54]=f,e[55]=x,e[56]=A):A=e[56];e[57]!==w?(v=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:l.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:w})}),e[57]=w,e[58]=v):v=e[58];e[59]!==t||e[60]!==v?(G=l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:t,noPaddingStart:!0,children:v}),e[59]=t,e[60]=v,e[61]=G):G=e[61];e[62]!==r||e[63]!==y||e[64]!==u||e[65]!==a||e[66]!==C||e[67]!==g||e[68]!==A||e[69]!==E||e[70]!==B||e[71]!==G?(D=l.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:r,children:[y,u,a,C,g,A,E,B,G]}),e[62]=r,e[63]=y,e[64]=u,e[65]=a,e[66]=C,e[67]=g,e[68]=A,e[69]=E,e[70]=B,e[71]=G,e[72]=D):D=e[72];return D}g["default"]=a}),226);
__d("VideoPlayerDefaultControlsImplMusicClipConvertBoundsLogic",[],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=0,i=30,j=30;function a(a,b){var c=h,d=i;a!=null&&b!=null&&(c=Math.round(a/g),d=Math.round(b/g));d>c+j&&(d=c+j);return{lower_s:c,upper_s:d}}f["default"]=a}),66);
__d("VideoPlayerDefaultControlsImplMusicClip_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplMusicClip_video",selections:[{alias:null,args:null,concreteType:"XFBMusicAttachmentMetadata",kind:"LinkedField",name:"music_attachment_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_time_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerDefaultControlsImplMusicClip.react",["CometRelay","MusicClipPlayerPlaybackTimer.react","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerDefaultControlsImplMusicClipConvertBoundsLogic","VideoPlayerDefaultControlsImplMusicClip_video.graphql","VideoPlayerHooks","VideoPlayerPlaybackControl.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useEffect,m=e.useRef,n={timer:{color:"x14ctfv",display:"x1rg5ohu",fontSize:"x1pg5gke",fontVariantNumeric:"xss6m8b",lineHeight:"x7h9g57",marginEnd:"x1t4t16n",marginStart:"x8j4wrb",minWidth:"x9hgts1",textAlign:"x2b8uid",textShadow:"x27saw0",verticalAlign:"x3ajldb",$$css:!0},timerText:{fontWeight:"x1s688f",minWidth:"x15hfatp",$$css:!0}};function a(a){var e;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControlsImplMusicClip_video.graphql"),a);e=a==null?void 0:(e=a.music_attachment_metadata)==null?void 0:e.start_time_ms;a=a==null?void 0:(a=a.music_attachment_metadata)==null?void 0:a.end_time_ms;e=c("VideoPlayerDefaultControlsImplMusicClipConvertBoundsLogic")(e,a);var f=e.lower_s,g=e.upper_s,i=(j||(j=d("VideoPlayerHooks"))).useController();l(function(){i.seek(f),i.pause("product_initiated")},[i,f]);var o=m(null);l(function(){var a=i.subscribe(function(){var a=i.getPlayheadPosition();a!==o.current&&(o.current=a,a>g&&(i.seek(f),i.pause("product_initiated")))});return function(){a.remove()}},[i,f,g]);a=k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,children:[k.jsx(c("MusicClipPlayerPlaybackTimer.react"),{endTimeSeconds:g,startTimeSeconds:f,timerTextXStyle:n.timerText,timerXStyle:n.timer}),k.jsx(c("VideoPlayerPlaybackControl.react"),{unmuteOnPlay:!0})]});return k.jsx("div",{className:"x6s0dn4 xn0vg7t x78zum5 x1q0g3np x1f00ac0 xl56j7k x10l6tqk",children:k.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:!0,children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerReshareButton_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerReshareButton_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_share",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:[{alias:"wwwUrl",args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerReshareButton.react",["fbt","ix","CometRelay","CometTrackingNodeProvider.react","VideoPlayerActionButton.react","VideoPlayerReshareButton_video.graphql","createEmptyCometComposerViewState","fbicon","react","useFeedComposerCometDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.c;function n(a){var b=m(18),e=a.renderActionButton,f=a.shouldJustifyContentCenter,g=a.url;a=a.useVerticalLayout;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={composerEntryPointName:"reshare_from_feed",composerSourceSurface:"share_dialog",composerType:"share",title:h._("__JHASH__0TtP-rIoeJO__JHASH__"),tracePolicy:"comet.composer.shareVideo"},b[0]=j):j=b[0];j=c("useFeedComposerCometDialog")(j);var k=j[0];b[1]!==g?(j=c("createEmptyCometComposerViewState")({attachmentArea:{activeAttachmentType:"SHARE"},linkAttachment:{url:g},submitText:h._("__JHASH__S7rCZMEGLdp__JHASH__")}),b[1]=g,b[2]=j):j=b[2];var n=j;b[3]!==k||b[4]!==n?(g=function(){k({beginningViewState:n})},b[3]=k,b[4]=n,b[5]=g):g=b[5];j=g;var o;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("fbicon")._(i("484394"),16),o=h._("__JHASH__lG_LkAEuJYb__JHASH__"),b[6]=g,b[7]=o):(g=b[6],o=b[7]);b[8]!==j||b[9]!==f||b[10]!==a?(g=l.jsx(c("VideoPlayerActionButton.react"),{icon:g,label:o,onPress:j,shouldJustifyContentCenter:f,useVerticalLayout:a}),b[8]=j,b[9]=f,b[10]=a,b[11]=g):g=b[11];o=g;b[12]!==e||b[13]!==j||b[14]!==o?(f=e!=null?e({onPress:j}):o,b[12]=e,b[13]=j,b[14]=o,b[15]=f):f=b[15];a=f;b[16]!==a?(g=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:17,children:a}),b[16]=a,b[17]=g):g=b[17];return g}function a(a){var c=m(7),e=a.renderActionButton,f=a.shouldJustifyContentCenter,g=a.useVerticalLayout;a=a.video;var h;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=j!==void 0?j:j=b("VideoPlayerReshareButton_video.graphql"),c[0]=h):h=c[0];h=d("CometRelay").useFragment(h,a);a=h==null?void 0:h.can_viewer_share;h=h==null?void 0:(h=h.creation_story)==null?void 0:(h=h.shareable)==null?void 0:h.wwwUrl;var i;c[1]!==a||c[2]!==h||c[3]!==e||c[4]!==f||c[5]!==g?(i=a===!0&&h!=null?l.jsx(n,{renderActionButton:e,shouldJustifyContentCenter:f,url:h,useVerticalLayout:g}):null,c[1]=a,c[2]=h,c[3]=e,c[4]=f,c[5]=g,c[6]=i):i=c[6];return i}g["default"]=a}),226);
__d("VideoPlayerWatchAgainButton.react",["fbt","ix","CometTrackingNodeProvider.react","VideoPlayerActionButton.react","VideoPlayerHooks","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=(j||(j=d("react"))).c,m=j;function a(a){var b=l(9);a=a.useVerticalLayout;var e=(k||(k=d("VideoPlayerHooks"))).useController(),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("fbicon")._(i("534218"),16),b[0]=f):f=b[0];var g;b[1]!==a?(g=a===!0?h._("__JHASH__ItA62SysS6p__JHASH__"):h._("__JHASH__wnWr0-qeVOh__JHASH__"),b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e?(j=function(){return e.play("user_initiated")},b[3]=e,b[4]=j):j=b[4];b[5]!==g||b[6]!==j||b[7]!==a?(f=m.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:188,children:m.jsx(c("VideoPlayerActionButton.react"),{icon:f,label:g,onPress:j,useVerticalLayout:a})}),b[5]=g,b[6]=j,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),226);
__d("VideoPlayerWithVideoCardsOverlay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithVideoCardsOverlay_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_video_player_with_video_card_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithVideoCardsOverlay_video",fragmentName:"VideoPlayerVideoCardsOverlay_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithVideoCardRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithVideoCardsOverlay.react",["CometPlaceholder.react","CometRelay","VideoPlayerWithVideoCardsOverlay_video.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(8),f=a.cardsHidden,g=a.surface;a=a.video;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("VideoPlayerWithVideoCardsOverlay_video.graphql"),e[0]=i):i=e[0];i=d("CometRelay").useFragment(i,a);e[1]===Symbol["for"]("react.memo_cache_sentinel")?(a="x6s0dn4 x78zum5 x5yr21d xh8yej3",e[1]=a):a=e[1];i=i==null?void 0:i.comet_video_player_with_video_card_renderer;var l;e[2]!==f||e[3]!==g?(l={cardsHidden:f,surface:g},e[2]=f,e[3]=g,e[4]=l):l=e[4];e[5]!==i||e[6]!==l?(f=k.jsx("div",{className:a,children:k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:i,props:l})})}),e[5]=i,e[6]=l,e[7]=f):f=e[7];return f}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBFormatUtils",["I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a!=null)return(h||(h=d("I64"))).min(a,h.of_float(d("WATimeUtils").millisTime()));switch(b){case"before":return(h||(h=d("I64"))).of_float(d("WATimeUtils").millisTime());case"after":return(h||(h=d("I64"))).zero;default:b;return(h||(h=d("I64"))).max_int}}function b(a,b){switch(b){case"before":return[a,0];case"after":return[0,a];default:b;return[Math.ceil(a/2),Math.ceil(a/2)]}}g.adjustTs=a;g.adjustCount=b}),98);
__d("LSLoadThreadPkFromThreadId",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadThreadPkFromThreadId] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(173).fetch(),function(b){return c.i64.to_string(b.jid)===a[0]}).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,100])),d[13].set("stored_procedure","LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure"),d[13].set("error_message",""),e=[void 0,d[13]],d[2]=e[0],d[3]=e[1],e):(b=a.item,e=[b.clientThreadPk,void 0],d[2]=e[0],d[3]=e[1],e)})},function(a){return c.i64.neq(d[2],void 0)?(a=[d[2],d[3]],d[5]=a[0],d[6]=a[1],a):(d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,7])),d[13].set("stored_procedure","LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure"),d[13].set("error_message",""),c.i64.neq(void 0,void 0)?(a=[void 0,d[13]],d[14]=a[0],d[15]=a[1],a):(d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,100])),d[16].set("stored_procedure","LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure"),d[16].set("error_message",""),a=[void 0,d[16]],d[14]=a[0],d[15]=a[1],a),a=[d[14],d[15]],d[5]=a[0],d[6]=a[1],a),d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadThreadPkFromThreadId] ",d[9],d[10],d[9],d[11],d[9],d[12]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[13]=",",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadThreadPkFromThreadId",[d[10],d[13],d[11],d[13],d[12]].join(""),d[14],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[5],d[6]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure";e.exports=a}),null);
__d("LSIssueMessageRangeQueryTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSFlushDataTrace.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewEbTaskAndGetTaskIDV2","LSLoadThreadPkFromThreadId","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] Beginning execution."),d[6]=c.i64.gt(a[1],c.i64.cast([0,0]))&&c.i64.gt(a[5],c.i64.cast([0,0])),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(e){return d[6]?(d[12]=new c.Map(),d[12].set("error_code",c.i64.cast([0,1])),d[12].set("error_message",""),d[12].set("stored_procedure","issueMessageRangeQueryTask"),d[13]=new c.Map(),d[13].set("act_thread_id",a[0]),d[14]=new c.Map(),d[14].set("restore_context",d[13]),d[14].set("failure",d[12]),d[15]=d[14].get("restore_context"),d[14],d[16]=d[15].get("act_thread_id"),d[15],d[17]=c.toJSON(d[14]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[16]].join(""),c.i64.cast([0,50031]),d[17],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[18]=a[0],a})):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var a=e.done;e=e.value;return a?d[12]=void 0:(f=e.item,c.sequence([function(a){return d[28]=f.deviceId,d[27]=f.backupTenancy,d[26]=f.encryptionVersion,d[21]=void 0,c.i64.neq(d[21],void 0)?c.resolve(d[22]=d[21]):c.sequence([function(a){return d[29]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[30]=a[0],a})},function(a){return d[30]?d[39]=(d[29].push(c.i64.cast([0,0])),d[29]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[39]=(d[29].push(c.i64.cast([0,2])),d[29]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[39]=(d[29].push(c.i64.cast([0,3])),d[29]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[39]=(d[29].push(c.i64.cast([0,4])),d[29]):0,d[34]=c.createArray(),d[35]=c.i64.of_int32(d[29].length),c.i64.gt(d[35],c.i64.cast([0,0]))?c.loopAsync(d[35],function(a){return d[39]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],d[39]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],a})},function(a){return d[42]=(d[34].push(d[40]),d[34])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[39]=c.createArray(),d[40]=c.i64.of_int32(d[34].length),c.i64.gt(d[40],c.i64.cast([0,0]))?c.loopAsync(d[40],function(a){return d[42]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],d[42]).then(function(a){return a=a,d[43]=a[0],d[44]=a[1],a})},function(a){return d[45]=(d[39].push(c.i64.to_string(d[43])),d[39])}])}):c.resolve()},function(a){return d[41]=d[39].join(","),d[36]=d[41]}])},function(a){return d[34].some(function(a){return c.i64.eq(d[26],a)})?d[37]=d[26]:d[37]=void 0,c.i64.neq(d[37],void 0)?d[38]=d[37]:d[38]=void 0,d[22]=d[38]}])},function(a){return c.i64.neq(d[22],void 0)?d[23]=d[22]:d[23]=c.i64.cast([0,0]),c.i64.neq(d[27],void 0)?d[24]=d[27]:d[24]=c.i64.cast([0,1]),c.i64.neq(d[28],void 0)?d[25]=d[28]:d[25]=void 0,d[12]=d[25]}]))})},function(e){return d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([0,1])),d[14].set("error_message",void 0==null?"":void 0),d[14].set("stored_procedure","issueMessageRangeQueryTask"),d[15]=new c.Map(),d[15].set("act_thread_id",a[0]),d[15].set("source",a[6]),d[15].set("restore_operation_type",c.i64.cast([0,2])),d[15].set("request_id",a[4]),d[15].set("device_id",d[12]),d[16]=new c.Map(),d[16].set("restore_context",d[15]),d[16].set("failure",d[14]),d[17]=d[16].get("restore_context"),d[16],d[18]=d[17].get("act_thread_id"),d[17],d[19]=c.toJSON(d[16]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[18]].join(""),c.i64.cast([0,50030]),d[19],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],a})}])},function(e){return d[11]="backup not found",d[11]!==void 0?c.sequence([function(e){return d[13]=["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",d[11]].join(""),function(a){c.logger(a).mustfix(a)}(d[13]),d[12]=c.createArray(),a[4]!==void 0?d[14]=(d[12].push(a[4]),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",d[11],d[12],c.i64.cast([0,3]))},function(e){return c.sequence([function(e){return a[4]!==void 0?c.sequence([function(e){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),d[13],void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!0:d[15]=!1,d[15]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()}])}]):c.sequence([function(e){return a[4]!==void 0?c.sequence([function(d){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",""].join(""),void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!0:d[15]=!1,d[15]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[12]?d[13]=!0:d[13]=!1,d[13]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[14],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[6]?d[10]=c.i64.cast([0,5]):d[10]=c.i64.cast([0,2]),d[1]=!1}]):(f=e.item,c.sequence([function(a){return d[19]=f.mailboxRootKeyBlob,d[18]=f.ocmfClientStateBlob,d[17]=f.deviceId,d[16]=f.backupTenancy,d[15]=f.encryptionVersion,d[10]=void 0,c.i64.neq(d[10],void 0)?c.resolve(d[11]=d[10]):c.sequence([function(a){return d[20]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[30]=(d[20].push(c.i64.cast([0,0])),d[20]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[30]=(d[20].push(c.i64.cast([0,2])),d[20]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[30]=(d[20].push(c.i64.cast([0,3])),d[20]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[30]=(d[20].push(c.i64.cast([0,4])),d[20]):0,d[25]=c.createArray(),d[26]=c.i64.of_int32(d[20].length),c.i64.gt(d[26],c.i64.cast([0,0]))?c.loopAsync(d[26],function(a){return d[30]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[20],d[30]).then(function(a){return a=a,d[31]=a[0],d[32]=a[1],a})},function(a){return d[33]=(d[25].push(d[31]),d[25])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[30]=c.createArray(),d[31]=c.i64.of_int32(d[25].length),c.i64.gt(d[31],c.i64.cast([0,0]))?c.loopAsync(d[31],function(a){return d[33]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[25],d[33]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[36]=(d[30].push(c.i64.to_string(d[34])),d[30])}])}):c.resolve()},function(a){return d[32]=d[30].join(","),d[27]=d[32]}])},function(a){return d[25].some(function(a){return c.i64.eq(d[15],a)})?d[28]=d[15]:d[28]=void 0,c.i64.neq(d[28],void 0)?d[29]=d[28]:d[29]=void 0,d[11]=d[29]}])},function(e){return c.i64.neq(d[11],void 0)?d[12]=d[11]:d[12]=c.i64.cast([0,0]),c.i64.neq(d[16],void 0)?d[13]=d[16]:d[13]=c.i64.cast([0,1]),c.i64.neq(d[17],void 0)?c.sequence([function(e){return c.storedProcedure(b("LSLoadThreadPkFromThreadId"),a[0]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(e){return c.i64.neq(d[20],void 0)?d[6]?c.sequence([function(e){return c.i64.eq(d[13],c.i64.cast([0,3]))?d[22]=c.i64.cast([0,4]):d[22]=c.i64.cast([0,0]),d[23]=new c.Map(),d[23].set("act_thread_id",a[0]),d[23].set("tam_thread_subtype",d[22]),d[23].set("source",a[6]),c.nativeOperation(b("LSBase64Encode.nop"),d[18]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[19]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=new c.Map(),d[26].set("ocmf_client_state_blob",d[24]==null?"":d[24]),d[26].set("mailbox_root_key",d[25]==null?"":d[25]),d[27]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[39]=(d[27].push(a.epochId),d[27])})},function(a){return d[37]="Queried locally available epochs. Count: ",d[28]=c.i64.of_int32(d[27].length),d[38]=c.i64.to_string(d[28]),d[29]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[29],d[37],d[29],d[38]].join("")),c.resolve()},function(e){return d[30]=new c.Map(),d[30].set("device_id",d[17]),d[30].set("raw_tokens",d[26]),d[30].set("locally_available_epochs",d[27]),d[31]=new c.Map(),d[31].set("reference_timestamp",a[2]),d[31].set("server_thread_key",void 0),d[31].set("device_context",d[30]),d[31].set("source",a[6]),d[32]=new c.Map(),d[32].set("restore_context",d[23]),d[32].set("success",d[31]),d[33]=d[32].get("restore_context"),d[32],d[34]=d[33].get("act_thread_id"),d[33],d[35]=c.toJSON(d[32]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[34]].join(""),c.i64.cast([0,50031]),d[35],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[36]=a[0],a})}]):c.i64.gt(a[1],c.i64.cast([0,0]))?c.sequence([function(e){return c.i64.eq(d[13],c.i64.cast([0,3]))?d[22]=c.i64.cast([0,4]):d[22]=c.i64.cast([0,0]),d[23]=new c.Map(),d[23].set("act_thread_id",a[0]),d[23].set("request_id",a[4]),d[23].set("tam_thread_subtype",d[22]),d[23].set("source",a[6]),c.nativeOperation(b("LSBase64Encode.nop"),d[18]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[19]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=new c.Map(),d[26].set("ocmf_client_state_blob",d[24]==null?"":d[24]),d[26].set("mailbox_root_key",d[25]==null?"":d[25]),d[27]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[39]=(d[27].push(a.epochId),d[27])})},function(a){return d[37]="Queried locally available epochs. Count: ",d[28]=c.i64.of_int32(d[27].length),d[38]=c.i64.to_string(d[28]),d[29]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[29],d[37],d[29],d[38]].join("")),c.resolve()},function(e){return d[30]=new c.Map(),d[30].set("device_id",d[17]),d[30].set("raw_tokens",d[26]),d[30].set("locally_available_epochs",d[27]),d[31]=new c.Map(),d[31].set("reference_timestamp",a[2]),d[31].set("direction",c.i64.cast([0,1])),d[31].set("server_thread_key",void 0),d[31].set("device_context",d[30]),d[31].set("source",a[6]),d[32]=new c.Map(),d[32].set("restore_context",d[23]),d[32].set("success",d[31]),d[33]=d[32].get("restore_context"),d[32],d[34]=d[33].get("act_thread_id"),d[33],d[35]=c.toJSON(d[32]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[34]].join(""),c.i64.cast([0,50030]),d[35],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[36]=a[0],a})}]):c.sequence([function(e){return c.i64.eq(d[13],c.i64.cast([0,3]))?d[22]=c.i64.cast([0,4]):d[22]=c.i64.cast([0,0]),d[23]=new c.Map(),d[23].set("act_thread_id",a[0]),d[23].set("request_id",a[4]),d[23].set("tam_thread_subtype",d[22]),d[23].set("source",a[6]),c.nativeOperation(b("LSBase64Encode.nop"),d[18]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[19]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=new c.Map(),d[26].set("ocmf_client_state_blob",d[24]==null?"":d[24]),d[26].set("mailbox_root_key",d[25]==null?"":d[25]),d[27]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[39]=(d[27].push(a.epochId),d[27])})},function(a){return d[37]="Queried locally available epochs. Count: ",d[28]=c.i64.of_int32(d[27].length),d[38]=c.i64.to_string(d[28]),d[29]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[29],d[37],d[29],d[38]].join("")),c.resolve()},function(e){return d[30]=new c.Map(),d[30].set("device_id",d[17]),d[30].set("raw_tokens",d[26]),d[30].set("locally_available_epochs",d[27]),d[31]=new c.Map(),d[31].set("reference_timestamp",a[2]),d[31].set("direction",c.i64.cast([0,2])),d[31].set("server_thread_key",void 0),d[31].set("device_context",d[30]),d[31].set("source",a[6]),d[32]=new c.Map(),d[32].set("restore_context",d[23]),d[32].set("success",d[31]),d[33]=d[32].get("restore_context"),d[32],d[34]=d[33].get("act_thread_id"),d[33],d[35]=c.toJSON(d[32]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[34]].join(""),c.i64.cast([0,50030]),d[35],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[36]=a[0],a})}]):c.sequence([function(e){return d[6]?(d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,100])),d[24].set("error_message",""),d[24].set("stored_procedure","issueMessageRangeQueryTask"),d[25]=new c.Map(),d[25].set("act_thread_id",a[0]),d[26]=new c.Map(),d[26].set("restore_context",d[25]),d[26].set("failure",d[24]),d[27]=d[26].get("restore_context"),d[26],d[28]=d[27].get("act_thread_id"),d[27],d[29]=c.toJSON(d[26]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[28]].join(""),c.i64.cast([0,50031]),d[29],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[30]=a[0],a})):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var a=e.done;e=e.value;return a?d[24]=void 0:(f=e.item,c.sequence([function(a){return d[40]=f.deviceId,d[39]=f.backupTenancy,d[38]=f.encryptionVersion,d[33]=void 0,c.i64.neq(d[33],void 0)?c.resolve(d[34]=d[33]):c.sequence([function(a){return d[41]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]?d[51]=(d[41].push(c.i64.cast([0,0])),d[41]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[43]?d[51]=(d[41].push(c.i64.cast([0,2])),d[41]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[51]=(d[41].push(c.i64.cast([0,3])),d[41]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[51]=(d[41].push(c.i64.cast([0,4])),d[41]):0,d[46]=c.createArray(),d[47]=c.i64.of_int32(d[41].length),c.i64.gt(d[47],c.i64.cast([0,0]))?c.loopAsync(d[47],function(a){return d[51]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[41],d[51]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(a){return d[54]=(d[46].push(d[52]),d[46])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[51]=c.createArray(),d[52]=c.i64.of_int32(d[46].length),c.i64.gt(d[52],c.i64.cast([0,0]))?c.loopAsync(d[52],function(a){return d[54]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[46],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[57]=(d[51].push(c.i64.to_string(d[55])),d[51])}])}):c.resolve()},function(a){return d[53]=d[51].join(","),d[48]=d[53]}])},function(a){return d[46].some(function(a){return c.i64.eq(d[38],a)})?d[49]=d[38]:d[49]=void 0,c.i64.neq(d[49],void 0)?d[50]=d[49]:d[50]=void 0,d[34]=d[50]}])},function(a){return c.i64.neq(d[34],void 0)?d[35]=d[34]:d[35]=c.i64.cast([0,0]),c.i64.neq(d[39],void 0)?d[36]=d[39]:d[36]=c.i64.cast([0,1]),c.i64.neq(d[40],void 0)?d[37]=d[40]:d[37]=void 0,d[24]=d[37]}]))})},function(e){return d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,100])),d[26].set("error_message",void 0==null?"":void 0),d[26].set("stored_procedure","issueMessageRangeQueryTask"),d[27]=new c.Map(),d[27].set("act_thread_id",a[0]),d[27].set("source",a[6]),d[27].set("restore_operation_type",c.i64.cast([0,2])),d[27].set("request_id",a[4]),d[27].set("device_id",d[24]),d[28]=new c.Map(),d[28].set("restore_context",d[27]),d[28].set("failure",d[26]),d[29]=d[28].get("restore_context"),d[28],d[30]=d[29].get("act_thread_id"),d[29],d[31]=c.toJSON(d[28]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[30]].join(""),c.i64.cast([0,50030]),d[31],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[32]=a[0],a})}])},function(e){return d[23]="threak pk not found for jid",d[23]!==void 0?c.sequence([function(e){return d[25]=["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",d[23]].join(""),function(a){c.logger(a).mustfix(a)}(d[25]),d[24]=c.createArray(),a[4]!==void 0?d[26]=(d[24].push(a[4]),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",d[23],d[24],c.i64.cast([0,3]))},function(e){return c.sequence([function(e){return a[4]!==void 0?c.sequence([function(e){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),d[25],void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[28]?d[29]=!0:d[29]=!1,d[29]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[30]=c.createArray(),void 0!==void 0?d[31]=(d[30].push(void 0),d[30]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[30],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]?d[27]=!0:d[27]=!1,d[27]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[28],c.i64.cast([0,3]))):c.resolve()}])}]):c.sequence([function(e){return a[4]!==void 0?c.sequence([function(d){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",""].join(""),void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]?d[27]=!0:d[27]=!1,d[27]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[28],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!0:d[25]=!1,d[25]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[26],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[6]?d[22]=c.i64.cast([0,5]):d[22]=c.i64.cast([0,2])}])},function(a){return d[14]=!0}]):c.sequence([function(e){return d[6]?(d[22]=new c.Map(),d[22].set("error_code",c.i64.cast([0,1])),d[22].set("error_message",""),d[22].set("stored_procedure","issueMessageRangeQueryTask"),d[23]=new c.Map(),d[23].set("act_thread_id",a[0]),d[24]=new c.Map(),d[24].set("restore_context",d[23]),d[24].set("failure",d[22]),d[25]=d[24].get("restore_context"),d[24],d[26]=d[25].get("act_thread_id"),d[25],d[27]=c.toJSON(d[24]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[26]].join(""),c.i64.cast([0,50031]),d[27],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[28]=a[0],a})):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var a=e.done;e=e.value;return a?d[22]=void 0:(f=e.item,c.sequence([function(a){return d[38]=f.deviceId,d[37]=f.backupTenancy,d[36]=f.encryptionVersion,d[31]=void 0,c.i64.neq(d[31],void 0)?c.resolve(d[32]=d[31]):c.sequence([function(a){return d[39]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[40]?d[49]=(d[39].push(c.i64.cast([0,0])),d[39]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[41]?d[49]=(d[39].push(c.i64.cast([0,2])),d[39]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]?d[49]=(d[39].push(c.i64.cast([0,3])),d[39]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[43]?d[49]=(d[39].push(c.i64.cast([0,4])),d[39]):0,d[44]=c.createArray(),d[45]=c.i64.of_int32(d[39].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(a){return d[49]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[39],d[49]).then(function(a){return a=a,d[50]=a[0],d[51]=a[1],a})},function(a){return d[52]=(d[44].push(d[50]),d[44])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[49]=c.createArray(),d[50]=c.i64.of_int32(d[44].length),c.i64.gt(d[50],c.i64.cast([0,0]))?c.loopAsync(d[50],function(a){return d[52]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[44],d[52]).then(function(a){return a=a,d[53]=a[0],d[54]=a[1],a})},function(a){return d[55]=(d[49].push(c.i64.to_string(d[53])),d[49])}])}):c.resolve()},function(a){return d[51]=d[49].join(","),d[46]=d[51]}])},function(a){return d[44].some(function(a){return c.i64.eq(d[36],a)})?d[47]=d[36]:d[47]=void 0,c.i64.neq(d[47],void 0)?d[48]=d[47]:d[48]=void 0,d[32]=d[48]}])},function(a){return c.i64.neq(d[32],void 0)?d[33]=d[32]:d[33]=c.i64.cast([0,0]),c.i64.neq(d[37],void 0)?d[34]=d[37]:d[34]=c.i64.cast([0,1]),c.i64.neq(d[38],void 0)?d[35]=d[38]:d[35]=void 0,d[22]=d[35]}]))})},function(e){return d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,1])),d[24].set("error_message",void 0==null?"":void 0),d[24].set("stored_procedure","issueMessageRangeQueryTask"),d[25]=new c.Map(),d[25].set("act_thread_id",a[0]),d[25].set("source",a[6]),d[25].set("restore_operation_type",c.i64.cast([0,2])),d[25].set("request_id",a[4]),d[25].set("device_id",d[22]),d[26]=new c.Map(),d[26].set("restore_context",d[25]),d[26].set("failure",d[24]),d[27]=d[26].get("restore_context"),d[26],d[28]=d[27].get("act_thread_id"),d[27],d[29]=c.toJSON(d[26]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[28]].join(""),c.i64.cast([0,50030]),d[29],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[30]=a[0],a})}])},function(e){return d[21]="backup not found",d[21]!==void 0?c.sequence([function(e){return d[23]=["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",d[21]].join(""),function(a){c.logger(a).mustfix(a)}(d[23]),d[22]=c.createArray(),a[4]!==void 0?d[24]=(d[22].push(a[4]),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",d[21],d[22],c.i64.cast([0,3]))},function(e){return c.sequence([function(e){return a[4]!==void 0?c.sequence([function(e){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),d[23],void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]?d[27]=!0:d[27]=!1,d[27]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[28],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!0:d[25]=!1,d[25]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[26],c.i64.cast([0,3]))):c.resolve()}])}]):c.sequence([function(e){return a[4]!==void 0?c.sequence([function(d){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",""].join(""),void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!0:d[25]=!1,d[25]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[26],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[23]=!0:d[23]=!1,d[23]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[24],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[6]?d[20]=c.i64.cast([0,5]):d[20]=c.i64.cast([0,2]),d[14]=!1}])},function(a){return d[1]=d[14]}]))})},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[9]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ",d[5],d[7],d[5],d[8],d[5],d[9]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure";e.exports=a}),null);
__d("LSIssueMessageRangeQueryTaskStoredProcedure",["LSIssueMessageRangeQueryTask","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadId;d[1]=b.numMessages;d[2]=b.startSortKey;d[3]=b.isPointQuery;d[4]=b.traceId;d[5]=b.newerNumMessages;d[6]=b.source;return c("LSIssueMessageRangeQueryTask").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("WorkerRelayEnvironment",["ActorURIConfig","MAWCurrentUser","RelayAPIConfig","WAResolvable","createRelayFBNetwork","createRelayFBNetworkFetch","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=i(d("MAWCurrentUser").getID());a={execute:a.execute};h.resolve(a);return a}var h=new(d("WAResolvable").Resolvable)();function b(){return h.promise}function i(a,b){b={actorID:a,batchResponseChunks:!0,getAdditionalData:function(){var b={};a!=null&&(b[c("ActorURIConfig").PARAMETER_ACTOR]=a);c("RelayAPIConfig").useXController===!1&&c("RelayAPIConfig").accessToken!==""&&(b.access_token=c("RelayAPIConfig").accessToken);return b},graphURI:b};b=c("createRelayFBNetworkFetch")(b);var e=function(a,b,c){return d("relay-runtime").Observable.create(function(a){return a.complete()})};return c("createRelayFBNetwork")(b,e,null,null)}g.createWorkerRelayEnvironment=a;g.getWorkerRelayEnvironment=b}),98);
__d("executeGraphQLQuery",["DTSG","MAWBridge","asyncToGeneratorRuntime","err","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=d("relay-runtime").getRequest(b);if(b.params.operationKind==="subscription")throw c("err")("executeGraphQLQuery: Expected query or mutation operation");var f={force:!0},g=(yield d("MAWBridge").getBridge().sendAndReceive("event","getDTSGToken")["catch"](function(a){throw c("err")("executeGraphQLQuery: Failed to get DTSG token from the main thread",a)}));if(g==null||g===""||typeof g!=="string")throw c("err")("executeGraphQLQuery: Received an empty DTSG token from the main thread");d("DTSG").setToken(g);g=d("relay-runtime").createOperationDescriptor(b,e,f);return a.execute(g.request.node.params,g.request.variables,f)});return h.apply(this,arguments)}g.executeGraphQLQuery=a}),98);
__d("createWorkerMutation",["WorkerRelayEnvironment","asyncToGeneratorRuntime","err","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=d("relay-runtime").getRequest(a);if(e.params.operationKind!=="mutation")throw c("err")("createWorkerMutation: Expected mutation operation");var f=d("WorkerRelayEnvironment").getWorkerRelayEnvironment();e=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield f);return d("executeGraphQLQuery").executeGraphQLQuery(c,a,b).then(function(a){return a.toPromise()}).then(function(a){if(Array.isArray(a)){return(a=a[0])==null?void 0:a.data}else return null})});return function(a){return c.apply(this,arguments)}}();return[e]}g["default"]=a}),98);
__d("MAWAsyncEBIssueRangeQuery",["I64","MAWAsyncEBPendingQueryPromise","MWRestoreMessagesFromEB"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g,i,j){g===void 0&&(g=0);b=c("MWRestoreMessagesFromEB")({_threadId:void 0,chatJid:b,newerNumMessages:(h||(h=d("I64"))).of_int32(g),numMessages:h.of_int32(f),passedTraceId:j,sortOrderMs:e,source:i,storage:a});return b==null?null:d("MAWAsyncEBPendingQueryPromise").getWaitForRestorePromiseFromTrace(b)}function b(a,b,e,f,g,i,j){g===void 0&&(g=0);b=c("MWRestoreMessagesFromEB")({_threadId:void 0,chatJid:b,newerNumMessages:(h||(h=d("I64"))).of_int32(g),numMessages:h.of_int32(f),passedTraceId:j,sortOrderMs:e,source:i,storage:a});return b==null?null:d("MAWAsyncEBPendingQueryPromise").getPendingQueryPromiseFromTrace(b)}g.issueQueryAndWaitForReStoreAsPromise=a;g.issueQueryAsPromise=b}),98);
__d("EBLSMessageRangeQuery",["EBFormatUtils","FBLogger","LSMEBTaskCreationSource","MAWAsyncEBIssueRangeQuery","MWEncryptedBackUpEBNotEnabledError","Promise","WAPushSafeTypes","WAResultOrError","asyncToGeneratorRuntime","cr:10036"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(b("cr:10036")==null)return(h||(h=b("Promise"))).reject("Calling EBLS without EBLS being available for message range query");a=d("WAPushSafeTypes").unsafeNotNullable(a);var e=a.chatJid,f=a.direction,g=a.timestampMs;a=a.traceId;yield b("cr:10036").init();var i=(yield b("cr:10036").getLSStorage()),j=d("EBFormatUtils").adjustCount(20,f),k=j[0];j=j[1];i=d("MAWAsyncEBIssueRangeQuery").issueQueryAndWaitForReStoreAsPromise(i,e,d("EBFormatUtils").adjustTs(g,f),k,j,c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION,a);return i==null?d("WAResultOrError").makeResult({hasMoreAfter:!1,hasMoreBefore:!1,messages:[],restoreType:"none"}):i.then(function(a){var b=a.hasMoreAfter,c=a.hasMoreBefore,e=a.messages;a=a.restoreType;return d("WAResultOrError").makeResult({hasMoreAfter:b,hasMoreBefore:c,messages:e,restoreType:a})})["catch"](function(a){if(a&&(a==null?void 0:a.message)===d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED)return d("WAResultOrError").makeError(d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[EBFetch] Failed to fetch");return d("WAResultOrError").makeError(null)})});return i.apply(this,arguments)}g.messageRangeQuery=a}),98);
__d("EchoSerializationFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5722");b=d("FalcoLoggerInternal").create("echo_serialization_failure",a);e=b;g["default"]=e}),98);
__d("EchoSerializationSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5723");b=d("FalcoLoggerInternal").create("echo_serialization_success",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("MAWOneTimeCodeGating",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("1910")&&c("justknobx")._("1601")}g.isOneTimeCodeEnabled=a}),98);
__d("MWChatEncryptedBackupsAccessCodeInput.react",["fbt","BaseTextArea.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useRef,m={bigContainer:{marginTop:"x1xmf6yo",paddingStart:"x1m6arcz",paddingEnd:"x13omvei",$$css:!0},containerDefaults:{backgroundColor:"x443n21",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",paddingBottom:"x1g2khh7",paddingTop:"xyamay9",textAlign:"x2b8uid",":hover_backgroundImage":"x10bruuh",$$css:!0},input:{backgroundColor:"xjbqb8w",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"xzsf02u",fontSize:"x1lkfr7t",fontWeight:"x1s688f",height:"x5yr21d",end:"xds687c",left:null,right:null,start:"x17qophe",letterSpacing:"xoiqa5b",lineHeight:"x11m8ghp",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingBottom:"x18d9i69",paddingTop:"x1y1aw1k",top:"x1jzctok",width:"xh8yej3","::placeholder_color":"xha3pab",$$css:!0},smallContainer:{marginBottom:"x12nagc",paddingBottom:"x18d9i69",width:"x1s1gtqi",$$css:!0}},n="---- ---- ---- ---- ----\n---- ---- ---- ---- ----",o=40;function a(a){var b=a.autoSubmit,d=b===void 0?!1:b;b=a.disabled;b=b===void 0?!1:b;var e=a.onComplete,f=a.onValueChange,g=a.smallInput,j=a.value;a=l();var r=function(a){return a.toUpperCase().replace(/[^A-Z0-9]/g,"")},s=function(a){a=r(a).substring(0,o);var b=r(j);if(a===b)return;f(a);a.length===o&&d&&(e==null?void 0:e(a))};return k.jsxs("div",{className:(i||(i=c("stylex")))(m.containerDefaults,g?m.smallContainer:m.bigContainer),children:[k.jsx(c("MWXText.react"),{type:"meta3",children:h._("__JHASH__xBAImOW2o36__JHASH__")}),k.jsxs("div",{className:"xwzfr38 xr1yuqi xkrivgy x4ii5y1 x1gryazu x1n2onr6 x1hfn5x7",children:[k.jsx("div",{className:"x5yr21d x10l6tqk xh8yej3",style:{fontFamily:"var(--font-family-code)"},children:k.jsx(c("BaseTextArea.react"),{disabled:b,maxRows:2,placeholder:n,readOnly:!0,suppressFocusRing:!0,unresizable:!0,value:j===""?n:q(j),xstyle:m.input})}),k.jsx("div",{className:"x5yr21d x10l6tqk xh8yej3",style:{fontFamily:"var(--font-family-code)"},children:k.jsx(c("BaseTextArea.react"),{disabled:b,maxRows:2,onValueChange:s,ref:a,suppressFocusRing:!0,testid:void 0,unresizable:!0,value:j===""?j:p(j),xstyle:m.input})})]})]})}a.displayName=a.name+" [from "+f.id+"]";function p(a){a=a.split("");var b=0,c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.length===24?c.push("\n"):b>0&&b%4===0&&c.push(" ");c.push(f);b+=1}return c.join("")}function q(a){var b=a.split("");return n.split("").map(function(a){if(a===" "||a==="\n"||b.length===0)return a;else{b.pop();return" "}}).join("")}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSetIsDialogPersistedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({setIsDialogPersisted:function(){}});g["default"]=b}),98);
__d("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react",["CometScrollView.react","MWXColumnItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=i.forwardRef(a);function a(a,b){var d,e=a.bottomItem,f=a.children,g=a.size;a=a.topItem;return i.jsxs(c("CometScrollView.react"),{children:[i.jsx(c("MWXColumnItem.react"),{align:(d=a==null?void 0:a.align)!=null?d:"start",paddingHorizontal:16,paddingTop:g==="small"?8:16,children:i.jsx("div",{className:"x21xpn4",children:a==null?void 0:a.item})}),i.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2",ref:b,children:f}),i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:16,paddingVertical:12,children:i.jsx("div",{className:"xisnujt",children:e})})]})}a.displayName=a.name+" [from "+f.id+"]";e=b;d=e;g["default"]=d}),98);
__d("MWChatEncryptedBackupsVirtualDevicesContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({virtualDeviceInfo:{doesUserHaveOtcEligibleDevices:!1,isPINCodeRegistered:!1,offlineDevicesCount:-1,vestaClientID:null}});g["default"]=b}),98);
__d("useHasOTCEligibleDevices",["MAWOneTimeCodeGating","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=c("useReStore")))(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.encrypted_backups)},[a],f.id+":19");return b==null||!d("MAWOneTimeCodeGating").isOneTimeCodeEnabled()?!1:b.hasOtcEligibleDevices}g["default"]=a}),98);
__d("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2",["Base64Utils","I64","LSIntEnum","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect,m=b.useMemo,n=b.useState;function a(a){a=a===void 0?{}:a;var b=a.offlineDevicesCountInitialValue,e=a.vestaClientIDInitialValue,g=(h||(h=c("useReStore")))(),k=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.encrypted_backups_virtual_devices)},[g],f.id+":52");a=m(function(){if(e!=null)return e;var a=k.filter(function(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(2))});a=a[0];return a!=null?d("Base64Utils").fromArrayBuffer(a.virtualDeviceId):void 0},[k,e]);var o=m(function(){return b!=null?b:k.filter(function(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(1))}).length},[k,b]);a=n(a);var p=a[0],q=a[1];a=n(o);o=a[0];var r=a[1];l(function(){if(k.length===0)return;var a=k.filter(function(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(2))});a=a[0];var b=k.filter(function(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(1))});q(a!=null?d("Base64Utils").fromArrayBuffer(a.virtualDeviceId):void 0);r(b.length)},[k]);return{offlineDevicesCount:o,vestaClientID:p}}g["default"]=a}),98);
__d("MWChatEncryptedBackupsVirtualDevicesContextProvider.react",["MAWOneTimeCodeGating","MWChatEncryptedBackupsVirtualDevicesContext.react","gkx","react","useHasOTCEligibleDevices","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=(b=c("gkx")("24064"))!=null?b:!1;function a(a){var b=a.children,e=a.hasOtcEligibleDevicesInitialValue,f=a.offlineDevicesCountInitialValue;f=f===void 0?-1:f;a=a.vestaClientIDInitialValue;a=c("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")({offlineDevicesCountInitialValue:f,vestaClientIDInitialValue:(f=a)!=null?f:void 0});var g=a.offlineDevicesCount,h=a.vestaClientID;f=c("useHasOTCEligibleDevices")();var l=d("MAWOneTimeCodeGating").isOneTimeCodeEnabled()&&(k===!0||e===!0||f);a=j(function(){return{virtualDeviceInfo:{doesUserHaveOtcEligibleDevices:l,isPINCodeRegistered:h!=null,offlineDevicesCount:g,vestaClientID:h}}},[l,g,h]);return i.jsx(c("MWChatEncryptedBackupsVirtualDevicesContext.react").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBFlowSourceContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({source:null});g["default"]=b}),98);
__d("MWEBSyncIcon.react",["ix","CometImageFromIXValue.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("gkx")("23433");b=k.forwardRef(a);function a(a,b){var d=a.alt;a=a.xstyle;var e=l?h("414642"):h("414641");d=k.jsx(c("CometImageFromIXValue.react"),{alt:d,ref:b,source:e});return a==null?d:k.jsx("div",{className:(i||(i=c("stylex")))(a),children:d})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MWEncryptedBackupsThreadListPersistentBanner.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","qex","react","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEncryptedBackupsThreadListPersistentBanner.react");function a(a){var b=a.onDismissUpsell;a=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),{});var e=a[0];a=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();var f=a!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM;a=l(c("MWJewelPopoverDialogContext.react"));var g=a.setIsOpenForDialog,j=(i||(i=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var o=a.startFlow,p=m(!1),q=f?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_PERSISTENT_BANNER:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER,r=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:j,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;o({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:q});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);p.current===!1&&(p.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})};a=c("useVisibilityObserver")({onVisible:function(){r(f?"RESTORE_THREAD_LIST_PERSISTENT_BANNER_IMPRESSION_INBOX":"RESTORE_THREAD_LIST_PERSISTENT_BANNER_IMPRESSION"),c("qex")._("988")&&d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:j,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL})}});return k.jsx("div",{className:"xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1xmf6yo x1e56ztr x1d52u69 xktsk01 x6ikm8r x10wlt62 xyamay9 x1l90r2v x1swvt13 x1pi30zi x1qh3cfz",ref:a,children:k.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:k.jsxs(k.Fragment,{children:[h._("__JHASH__OuaeMHC1hyC__JHASH__")," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:function(){g(!0),r(f?"RESTORE_THREAD_LIST_PERSISTENT_BANNER_CTA_CLICKED_INBOX":"RESTORE_THREAD_LIST_PERSISTENT_BANNER_CTA_CLICKED"),e({onDismissUpsell:b,source:q})},target:"_blank",testid:void 0,children:h._("__JHASH__6flAN3HetRr__JHASH__")})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListQPWrapper.react",["MWThreadListConsts","react","stylex","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={qpHiddenContent:{display:"x1lliihq",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},root:{position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children;a=a.testid;a=c("useMatchViewport")("min","width",d("MWThreadListConsts").minimumPixelsNeededForMaxDisplay);return j.jsx("div",{className:(h||(h=c("stylex")))([k.root,!a&&k.qpHiddenContent]),"data-testid":void 0,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBThreadListPersistentBannerWrapper.react",["MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsThreadListPersistentBanner.react","MWEncryptedBackupsThreadListQPWrapper.react","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.setHasDismissedBanner,e=(h||(h=c("useReStore")))();return j.jsx(c("MWEncryptedBackupsThreadListQPWrapper.react"),{children:j.jsx(c("MWEncryptedBackupsThreadListPersistentBanner.react"),{onDismissUpsell:function(){b(!0),d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:e,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"qpWithPinEnabled"}],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapper_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],storageKey:null},{condition:"qpWithPinEnabled",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBRestoreQPWithPin_viewer"}],storageKey:null}]}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("getMWEBRestoreQPCautionCircleProperties",["ix","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("gkx")("23433");function a(){var a=i?h("414274"):h("1745665");return a}g["default"]=a}),98);
__d("MWEncryptedBackupsVerifyDeviceNux.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsVirtualDevicesContext.react","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXQPCard.react","QPLUserFlow","getMWEBRestoreQPCautionCircleProperties","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEncryptedBackupsVerifyDeviceNux.react");function a(a){var b=a.children,e=a.currentSupportedPlatform,f=a.setClosed,g=a.setDismissed;a=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),{});var j=a[0],o=(i||(i=c("useReStore")))(),p=e!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM,q=p?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP;a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var r=a.startFlow,s=m(!1);e=l(c("MWJewelPopoverDialogContext.react"));var t=e.setIsOpenForDialog;a=l(c("MWChatEncryptedBackupsVirtualDevicesContext.react"));e=a.virtualDeviceInfo;var u=e.vestaClientID!=null;a=e.offlineDevicesCount>0;var v=!u&&e.doesUserHaveOtcEligibleDevices,w=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:o,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;r({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,is_otc_eligible:v.toString(),is_pin_set:u.toString(),restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:q});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);s.current===!1&&(s.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})};e=c("useVisibilityObserver")({onVisible:function(){var a=p?"VERIFY_DEVICE_INBOX_QP_THREAD_LIST_IMPRESSION":"VERIFY_DEVICE_QP_THREAD_LIST_IMPRESSION";w(a)}});var x=function(){var a=p?"USER_CLICKED_INBOX_THREAD_LIST_VERIFY_DEVICE":"USER_CLICKED_FB_THREAD_LIST_VERIFY_DEVICE";w(a);t(!0);f()},y=function(){var a=p?"USER_CLOSED_INBOX_THREAD_LIST_VERIFY_DEVICE_NUX":"USER_CLOSED_FB_THREAD_LIST_VERIFY_DEVICE_NUX";w(a);d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"thread_list_nux",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent});z()},z=function(){g(),f()};if(!u&&!a)return b;b=h._("__JHASH__QhOFgxp42ZR__JHASH__");return k.jsx(c("MWXQPCard.react"),{addOnPrimary:{label:u?h._("__JHASH__7lrVIuZIr_a__JHASH__"):v&&a?h._("__JHASH__M_7GJqhL6eI__JHASH__"):h._("__JHASH__c-xwKDcXpSY__JHASH__"),onPress:function(){x(),j({onDismissUpsell:z,source:q})},testid:"mw-encrypted-backups-in-thread-verify-device-nux-verify-now-button"},body:u?h._("__JHASH__VcY2jgkRWO-__JHASH__"):v&&a?h._("__JHASH__XjJsWmK0iIY__JHASH__"):h._("__JHASH__oJuWWcw2MCh__JHASH__"),headline:b,icon:{props:{src:c("getMWEBRestoreQPCautionCircleProperties")()},type:"image"},onClose:y,ref:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup",selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null}],storageKey:null}],type:"XFBEncryptedBackup",abstractKey:null};e.exports=a}),null);
__d("useMWEncryptedBackupsGetVirtualDevicesPreloaded",["CometRelay","react","useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a){a=a.encryptedBackup;var c=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql"),a);a=j(function(){var a=0,b=null;c==null?void 0:c.virtual_devices.forEach(function(c){switch(c.device_type){case"HSM":b=c.client_generated_id;break;case"OFFLINE":a+=1;break;default:break}});return{offlineDevicesCount:a,vestaClientID:b}},[c==null?void 0:c.virtual_devices]);return{getVirtualDevices:a}}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper.react",["CometRelay","EncryptedBackupsSupportedPlatformUtils","MWChatEncryptedBackupsVirtualDevicesContext.react","MWChatEncryptedBackupsVirtualDevicesContextProvider.react","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsThreadListPersistentBanner.react","MWEncryptedBackupsThreadListQPWrapper.react","MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql","MWEncryptedBackupsVerifyDeviceNux.react","cr:2344","react","useMWEncryptedBackupsGetVirtualDevicesPreloaded","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useContext;function m(a){var e=a.children,f=a.currentSupportedPlatform,g=a.data,h=a.setHasDismissedQp,j=a.setHasDismissedQpWithPin,m=(i||(i=c("useReStore")))();a=l(c("MWChatEncryptedBackupsVirtualDevicesContext.react"));a=a.virtualDeviceInfo;var n=f===d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM;return n&&a.vestaClientID!=null&&b("cr:2344")?k.jsx(b("cr:2344"),{clientID:a.vestaClientID,currentSupportedPlatform:f,doesUserHaveOtcEligibleDevices:a.doesUserHaveOtcEligibleDevices,setClosed:function(){j(!0)},setDismissed:function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:m,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL})},viewer:g==null?void 0:g.viewer}):k.jsx(c("MWEncryptedBackupsVerifyDeviceNux.react"),{children:e,currentSupportedPlatform:f,setClosed:function(){h(!0)},setDismissed:function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:m,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL})}})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var e=a.children,f=a.currentSupportedPlatform,g=a.hasDismissedQps,j=a.queryRef,l=a.setHasDismissedBanner,n=a.setHasDismissedQp;a=a.setHasDismissedQpWithPin;j=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql"),j);var o=(i||(i=c("useReStore")))(),p=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")({encryptedBackup:j==null?void 0:j.xfb_backup});p=p.getVirtualDevices;p=p();var q=p.offlineDevicesCount;p=p.vestaClientID;return g?k.jsx(c("MWEncryptedBackupsThreadListQPWrapper.react"),{children:k.jsx(c("MWEncryptedBackupsThreadListPersistentBanner.react"),{onDismissUpsell:function(){l(!0),d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL})}})}):k.jsx(c("MWEncryptedBackupsThreadListQPWrapper.react"),{children:k.jsx(c("MWChatEncryptedBackupsVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:(g=j==null?void 0:(g=j.xfb_backup)==null?void 0:g.has_otc_eligible_devices)!=null?g:void 0,offlineDevicesCountInitialValue:q,vestaClientIDInitialValue:p,children:k.jsx(m,{children:e,currentSupportedPlatform:f,data:j,setHasDismissedQp:n,setHasDismissedQpWithPin:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useEncryptedBackupsQplImpressionRef",["QPLUserFlow","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){return c("useVisibilityObserver")({onVisible:function(){c("QPLUserFlow").addPoint(a,b,{instanceKey:d}),e==null?void 0:e()}})}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAddDevice",["Promise","cr:3676","promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useRef,l=e.useState,m=c("requireDeferred")("MAWEncryptedBackupsClearRecoveryCode").__setRef("useMWChatEncryptedBackupsAddDevice"),n=c("requireDeferred")("MWEncryptedBackupsFetchBackupIds").__setRef("useMWChatEncryptedBackupsAddDevice"),o=c("requireDeferred")("mwEBAddDevice").__setRef("useMWChatEncryptedBackupsAddDevice");function a(a){var d=a.hsmFleetMigrationResetPIN,e=a.onComplete,f=a.onFailure,g=a.onInvalidRecoveryCode,i=a.onStart;a=l(!1);var p=a[0],q=a[1],r=j(function(){q(!1),b("cr:3676")!=null&&void b("cr:3676").call()},[]),s=c("useAsyncReStore")(),t=k("");return[j(function(a,j,k){t.current=k||"",c("promiseDone")((h||(h=b("Promise"))).all([s,m.load(),o.load(),n.load()]),function(b){var h=b[0],k=b[1].encryptedBackupsClearRecoveryCode,l=b[2],m=b[3].encryptedBackupsFetchBackupIds;c("promiseDone")(k(h),function(){return l({onFailure:function(a){r(),f(a)},onInvalidRecoveryCode:function(){r(),g()},onStart:function(){q(!0),i==null?void 0:i()},onSuccess:function(){c("promiseDone")(m(h)),r(),e(),d&&t.current!==""&&d(t.current)},recoveryCode:a,storage:h,traceId:j})})})},[s,d,e,f,r,g,i]),p]}g["default"]=a}),98);
__d("useMWEBFlowSourceContext",["FBLogger","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext;function a(){var a=j(c("MWEBFlowSourceContext")),b=a.source;return i(function(){if(b==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][web] source is null. Did you wrap your flow with MWEBFlowSourceContextProvider?");return c("MWChatEncryptedBackupsQPLSource.enum").UNKNOWN}return b},[b])}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("hoist-non-react-statics-2.5.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():b.hoistNonReactStatics=c()})(this,function(){var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},b={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c=Object.defineProperty,d=Object.getOwnPropertyNames,e=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,h=g&&g(Object);return function i(j,k,l){if(typeof k!=="string"){if(h){var m=g(k);m&&m!==h&&i(j,m,l)}m=d(k);e&&(m=m.concat(e(k)));for(var n=0;n<m.length;++n){var o=m[n];if(!a[o]&&!b[o]&&(!l||!l[o])){var p=f(k,o);try{c(j,o,p)}catch(a){}}}return j}return j}})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("hoist-non-react-statics",["hoist-non-react-statics-2.5.0"],(function(a,b,c,d,e,f){e.exports=b("hoist-non-react-statics-2.5.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("minisearch-3.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.MiniSearch=c())})(this,function(){var a=function(){a=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)};function b(a){var b=typeof Symbol==="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length==="number")return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e}function d(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(c(arguments[b]));return a}var e="ENTRIES",f="KEYS",g="VALUES",h="",i=function(){function a(a,b){var c=a._tree,d=Object.keys(c);this.set=a;this._type=b;this._path=d.length>0?[{node:c,keys:d}]:[]}a.prototype.next=function(){var a=this.dive();this.backtrack();return a};a.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var a=j(this._path),b=a.node;a=a.keys;if(j(a)===h)return{done:!1,value:this.result()};this._path.push({node:b[j(a)],keys:Object.keys(b[j(a)])});return this.dive()};a.prototype.backtrack=function(){if(this._path.length===0)return;j(this._path).keys.pop();if(j(this._path).keys.length>0)return;this._path.pop();this.backtrack()};a.prototype.key=function(){return this.set._prefix+this._path.map(function(a){a=a.keys;return j(a)}).filter(function(a){return a!==h}).join("")};a.prototype.value=function(){return j(this._path).node[h]};a.prototype.result=function(){if(this._type===g)return this.value();return this._type===f?this.key():[this.key(),this.value()]};a.prototype[Symbol.iterator]=function(){return this};return a}(),j=function(a){return a[a.length-1]},k=0,l=1,m=2,n=3,o=function(a,b,d){var e=[{distance:0,i:0,key:"",node:a}],f={},g=[];a=function(){var a=e.pop(),i=a.node,j=a.distance,k=a.key,l=a.i,m=a.edit;Object.keys(i).forEach(function(n){if(n===h){var o=j+(b.length-l),a=c(f[k]||[null,Infinity],2);a=a[1];o<=d&&o<a&&(f[k]=[i[n],o])}else p(b,n,d-j,l,m,g).forEach(function(a){var c=a.distance,b=a.i;a=a.edit;e.push({node:i[n],distance:j+c,key:k+n,i:b,edit:a})})})};while(e.length>0)a();return f},p=function(a,b,c,d,e,f){f.push({distance:0,ia:d,ib:0,edit:e});d=[];while(f.length>0){e=f.pop();var g=e.distance,h=e.ia,i=e.ib;e=e.edit;if(i===b.length){d.push({distance:g,i:h,edit:e});continue}if(a[h]===b[i])f.push({distance:g,ia:h+1,ib:i+1,edit:k});else{if(g>=c)continue;e!==m&&f.push({distance:g+1,ia:h,ib:i+1,edit:n});h<a.length&&(e!==n&&f.push({distance:g+1,ia:h+1,ib:i,edit:m}),e!==n&&e!==m&&f.push({distance:g+1,ia:h+1,ib:i+1,edit:l}))}}return d},q=function(){function a(a,b){a===void 0&&(a={}),b===void 0&&(b=""),this._tree=a,this._prefix=b}a.prototype.atPrefix=function(d){var b;if(!d.startsWith(this._prefix))throw new Error("Mismatched prefix");var e=c(r(this._tree,d.slice(this._prefix.length)),2),f=e[0];e=e[1];if(f===void 0){e=c(y(e),2);var g=e[0],i=e[1];e=Object.keys(g).find(function(a){return a!==h&&a.startsWith(i)});if(e!==void 0)return new a((b={},b[e.slice(i.length)]=g[e],b),d)}return new a(f||{},d)};a.prototype.clear=function(){delete this._size,this._tree={}};a.prototype["delete"]=function(a){delete this._size;return v(this._tree,a)};a.prototype.entries=function(){return new i(this,e)};a.prototype.forEach=function(d){var e,a;try{for(var f=b(this),g=f.next();!g.done;g=f.next()){var h=c(g.value,2),i=h[0];h=h[1];d(i,h,this)}}catch(a){e={error:a}}finally{try{g&&!g.done&&(a=f["return"])&&a.call(f)}finally{if(e)throw e.error}}};a.prototype.fuzzyGet=function(a,b){return o(this._tree,a,b)};a.prototype.get=function(a){a=s(this._tree,a);return a!==void 0?a[h]:void 0};a.prototype.has=function(a){a=s(this._tree,a);return a!==void 0&&a.hasOwnProperty(h)};a.prototype.keys=function(){return new i(this,f)};a.prototype.set=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b;return this};Object.defineProperty(a.prototype,"size",{get:function(){var a=this;if(this._size)return this._size;this._size=0;this.forEach(function(){a._size+=1});return this._size},enumerable:!1,configurable:!0});a.prototype.update=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b(a[h]);return this};a.prototype.values=function(){return new i(this,g)};a.prototype[Symbol.iterator]=function(){return this.entries()};a.from=function(e){var f,d,g=new a();try{for(var h=b(e),i=h.next();!i.done;i=h.next()){e=c(i.value,2);var j=e[0];e=e[1];g.set(j,e)}}catch(a){f={error:a}}finally{try{i&&!i.done&&(d=h["return"])&&d.call(h)}finally{if(f)throw f.error}}return g};a.fromObject=function(b){return a.from(Object.entries(b))};return a}(),r=function(a,b,c){c===void 0&&(c=[]);if(b.length===0||a==null)return[a,c];var d=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});if(d===void 0){c.push([a,b]);return r(void 0,"",c)}c.push([a,d]);return r(a[d],b.slice(d.length),c)},s=function(a,b){if(b.length===0||a==null)return a;var c=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});return c===void 0?void 0:s(a[c],b.slice(c.length))},t=function(b,c){var a;if(c.length===0||b==null)return b;var d=Object.keys(b).find(function(a){return a!==h&&c.startsWith(a)});if(d===void 0){var e=Object.keys(b).find(function(a){return a!==h&&a.startsWith(c[0])});if(e===void 0)b[c]={};else{var f=u(c,e);b[f]=(a={},a[e.slice(f.length)]=b[e],a);delete b[e];return t(b[f],c.slice(f.length))}return b[c]}return t(b[d],c.slice(d.length))},u=function(a,b,c,d,e){c===void 0&&(c=0);d===void 0&&(d=Math.min(a.length,b.length));e===void 0&&(e="");if(c>=d)return e;return a[c]!==b[c]?e:u(a,b,c+1,d,e+a[c])},v=function(a,b){a=c(r(a,b),2);b=a[0];a=a[1];if(b===void 0)return;delete b[h];var d=Object.keys(b);d.length===0&&w(a);d.length===1&&x(a,d[0],b[d[0]])},w=function(b){if(b.length===0)return;var a=c(y(b),2),d=a[0];a=a[1];delete d[a];Object.keys(d).length===0&&w(b.slice(0,-1))},x=function(a,b,d){if(a.length===0)return;a=c(y(a),2);var e=a[0];a=a[1];e[a+b]=d;delete e[a]},y=function(a){return a[a.length-1]},z,A="or",B="and",C=function(){function b(b){if((b===null||b===void 0?void 0:b.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');this._options=a(a(a({},J),b),{searchOptions:a(a({},K),b.searchOptions||{})});this._index=new q();this._documentCount=0;this._documentIds={};this._fieldIds={};this._fieldLength={};this._averageFieldLength={};this._nextId=0;this._storedFields={};this.addFields(this._options.fields)}b.prototype.add=function(b){var c=this,a=this._options,d=a.extractField,e=a.tokenize,f=a.processTerm,g=a.fields;a=a.idField;var h=d(b,a);if(h==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');var i=this.addDocumentId(h);this.saveStoredFields(i,b);g.forEach(function(a){var g=d(b,a);if(g==null)return;g=e(g.toString(),a);c.addFieldLength(i,c._fieldIds[a],c.documentCount-1,g.length);g.forEach(function(b){b=f(b,a);b&&c.addTerm(c._fieldIds[a],i,b)})})};b.prototype.addAll=function(a){var b=this;a.forEach(function(a){return b.add(a)})};b.prototype.addAllAsync=function(a,b){var c=this;b===void 0&&(b={});b=b.chunkSize;var d=b===void 0?10:b;b={chunk:[],promise:Promise.resolve()};a=a.reduce(function(a,e,f){var b=a.chunk;a=a.promise;b.push(e);if((f+1)%d===0)return{chunk:[],promise:a.then(function(){return new Promise(function(a){return setTimeout(a,0)})}).then(function(){return c.addAll(b)})};else return{chunk:b,promise:a}},b);var e=a.chunk;b=a.promise;return b.then(function(){return c.addAll(e)})};b.prototype.remove=function(b){var d=this,a=this._options,e=a.tokenize,f=a.processTerm,g=a.extractField,h=a.fields;a=a.idField;var i=g(b,a);if(i==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');a=c(Object.entries(this._documentIds).find(function(a){a=c(a,2);a[0];a=a[1];return i===a})||[],1);var j=a[0];if(j==null)throw new Error("MiniSearch: cannot remove document with ID "+i+": it is not in the index");h.forEach(function(a){var c=g(b,a);if(c==null)return;c=e(c.toString(),a);c.forEach(function(b){b=f(b,a);b&&d.removeTerm(d._fieldIds[a],j,b)})});delete this._storedFields[j];delete this._documentIds[j];this._documentCount-=1};b.prototype.removeAll=function(a){var b=this;if(a)a.forEach(function(a){return b.remove(a)});else if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new q(),this._documentCount=0,this._documentIds={},this._fieldLength={},this._averageFieldLength={},this._storedFields={},this._nextId=0};b.prototype.search=function(d,e){var f=this;e===void 0&&(e={});var b=this._options,g=b.tokenize,h=b.processTerm;b=b.searchOptions;var i=a(a({tokenize:g,processTerm:h},b),e);g=i.tokenize;var j=i.processTerm;h=g(d).map(function(a){return j(a)}).filter(function(a){return!!a});b=h.map(H(i));e=b.map(function(a){return f.executeQuery(a,i)});g=this.combineResults(e,i.combineWith);return Object.entries(g).reduce(function(d,a){a=c(a,2);var e=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;a={id:f._documentIds[e],terms:I(a),score:b,match:g};Object.assign(a,f._storedFields[e]);(i.filter==null||i.filter(a))&&d.push(a);return d},[]).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};b.prototype.autoSuggest=function(b,d){d===void 0&&(d={});d=a(a({},L),d);b=this.search(b,d).reduce(function(c,a){var b=a.score;a=a.terms;var d=a.join(" ");c[d]==null?c[d]={score:b,terms:a,count:1}:(c[d].score+=b,c[d].count+=1);return c},{});return Object.entries(b).map(function(a){a=c(a,2);var d=a[0];a=a[1];var b=a.score,e=a.terms;a=a.count;return{suggestion:d,terms:e,score:b/a}}).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};Object.defineProperty(b.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0});b.loadJSON=function(a,c){if(c==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return b.loadJS(JSON.parse(a),c)};b.getDefault=function(a){if(J.hasOwnProperty(a))return D(J,a);else throw new Error('MiniSearch: unknown option "'+a+'"')};b.loadJS=function(a,c){var d=a.index,e=a.documentCount,f=a.nextId,g=a.documentIds,h=a.fieldIds,i=a.fieldLength,j=a.averageFieldLength;a=a.storedFields;c=new b(c);c._index=new q(d._tree,d._prefix);c._documentCount=e;c._nextId=f;c._documentIds=g;c._fieldIds=h;c._fieldLength=i;c._averageFieldLength=j;c._fieldIds=h;c._storedFields=a||{};return c};b.prototype.executeQuery=function(b,d){var e=this;d=a(a({},this._options.searchOptions),d);var f=(d.fields||this._options.fields).reduce(function(c,d){var b;return a(a({},c),(b={},b[d]=D(c,d)||1,b))},d.boost||{}),g=d.boostDocument;d=d.weights;d=a(a({},K.weights),d);var h=d.fuzzy,i=d.prefix;d=this.termResults(b.term,f,g,this._index.get(b.term));if(!b.fuzzy&&!b.prefix)return d;var j=[d];b.prefix&&this._index.atPrefix(b.term).forEach(function(a,c){var d=.3*(a.length-b.term.length)/a.length;j.push(e.termResults(a,f,g,c,i,d))});if(b.fuzzy){d=b.fuzzy===!0?.2:b.fuzzy;d=d<1?Math.round(b.term.length*d):d;Object.entries(this._index.fuzzyGet(b.term,d)).forEach(function(a){a=c(a,2);var b=a[0];a=c(a[1],2);var d=a[0];a=a[1];a=a/b.length;j.push(e.termResults(b,f,g,d,h,a))})}return j.reduce(E[A],{})};b.prototype.combineResults=function(a,b){b===void 0&&(b=A);if(a.length===0)return{};b=b.toLowerCase();return a.reduce(E[b],null)||{}};b.prototype.toJSON=function(){return{index:this._index,documentCount:this._documentCount,nextId:this._nextId,documentIds:this._documentIds,fieldIds:this._fieldIds,fieldLength:this._fieldLength,averageFieldLength:this._averageFieldLength,storedFields:this._storedFields}};b.prototype.termResults=function(a,b,d,e,f,g){var h=this;g===void 0&&(g=0);return e==null?{}:Object.entries(b).reduce(function(f,b){b=c(b,2);var i=b[0],j=b[1],k=h._fieldIds[i];b=e[k]||{ds:{}};var l=b.df;b=b.ds;Object.entries(b).forEach(function(b){b=c(b,2);var e=b[0];b=b[1];var m=d?d(h._documentIds[e],a):1;if(!m)return;var n=h._fieldLength[e][k]/h._averageFieldLength[k];f[e]=f[e]||{score:0,match:{},terms:[]};f[e].terms.push(a);f[e].match[a]=D(f[e].match,a)||[];f[e].score+=m*G(b,l,h._documentCount,n,j,g);f[e].match[a].push(i)});return f},{})};b.prototype.addTerm=function(b,c,d){this._index.update(d,function(d){d=d||{};var e=d[b]||{df:0,ds:{}};e.ds[c]==null&&(e.df+=1);e.ds[c]=(e.ds[c]||0)+1;return a(a({},d),(d={},d[b]=e,d))})};b.prototype.removeTerm=function(b,c,d){var e=this;if(!this._index.has(d)){this.warnDocumentChanged(c,b,d);return}this._index.update(d,function(f){var g=f[b];if(g==null||g.ds[c]==null){e.warnDocumentChanged(c,b,d);return f}if(g.ds[c]<=1){if(g.df<=1){delete f[b];return f}g.df-=1}if(g.ds[c]<=1){delete g.ds[c];return f}g.ds[c]-=1;return a(a({},f),(f={},f[b]=g,f))});Object.keys(this._index.get(d)).length===0&&this._index["delete"](d)};b.prototype.warnDocumentChanged=function(a,b,d){if(console==null||emptyFunction==null)return;a=Object.entries(this._fieldIds).find(function(a){a=c(a,2);a[0];a=a[1];return a===b})[0]};b.prototype.addDocumentId=function(a){var b=this._nextId.toString(36);this._documentIds[b]=a;this._documentCount+=1;this._nextId+=1;return b};b.prototype.addFields=function(a){var b=this;a.forEach(function(a,c){b._fieldIds[a]=c})};b.prototype.addFieldLength=function(a,b,c,d){this._averageFieldLength[b]=this._averageFieldLength[b]||0;var e=this._averageFieldLength[b]*c+d;this._fieldLength[a]=this._fieldLength[a]||{};this._fieldLength[a][b]=d;this._averageFieldLength[b]=e/(c+1)};b.prototype.saveStoredFields=function(b,c){var d=this,a=this._options,e=a.storeFields,f=a.extractField;if(e==null||e.length===0)return;this._storedFields[b]=this._storedFields[b]||{};e.forEach(function(a){var e=f(c,a);if(e===void 0)return;d._storedFields[b][a]=e})};return b}(),D=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0},E=(z={},z[A]=function(a,b){return Object.entries(b).reduce(function(e,a){a=c(a,2);var f=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;e[f]==null?e[f]={score:b,match:g,terms:a}:(e[f].score+=b,e[f].score*=1.5,(b=e[f].terms).push.apply(b,d(a)),Object.assign(e[f].match,g));return e},a||{})},z[B]=function(b,e){return b==null?e:Object.entries(e).reduce(function(g,e){e=c(e,2);var h=e[0];e=e[1];var f=e.score,i=e.match;e=e.terms;if(b[h]===void 0)return g;g[h]=g[h]||{};g[h].score=b[h].score+f;g[h].match=a(a({},b[h].match),i);g[h].terms=d(b[h].terms,e);return g},{})},z),F=function(a,b,c){return a*Math.log(c/b)},G=function(a,b,c,d,e,f){e=e/(1+.333*e*f);return e*F(a,b,c)/d},H=function(a){return function(b,c,d){var e=typeof a.fuzzy==="function"?a.fuzzy(b,c,d):a.fuzzy||!1;c=typeof a.prefix==="function"?a.prefix(b,c,d):a.prefix===!0;return{term:b,fuzzy:e,prefix:c}}},I=function(a){return a.filter(function(b,c,a){return a.indexOf(b)===c})},J={idField:"id",extractField:function(a,b){return a[b]},tokenize:function(a,b){return a.split(M)},processTerm:function(a,b){return a.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},K={combineWith:A,prefix:!1,fuzzy:!1,boost:{},weights:{fuzzy:.9,prefix:.75}},L={prefix:function(a,b,c){return b===c.length-1}},M=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;return C})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("minisearch",["minisearch-3.0.2"],(function(a,b,c,d,e,f){e.exports=b("minisearch-3.0.2")()}),null);